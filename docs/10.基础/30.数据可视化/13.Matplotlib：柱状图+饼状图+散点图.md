---
title: Matplotlibï¼šæŸ±çŠ¶å›¾+é¥¼çŠ¶å›¾+æ•£ç‚¹å›¾
date: 2022-08-26 15:31:09
permalink: /pages/35adbb/
categories:
  - åŸºç¡€
  - æ•°æ®å¯è§†åŒ–
tags:
  - 
author: 
  name: Jennifer
  link: https://github.com/Li-Jennifer
---

# æŸ±çŠ¶å›¾çš„ç»˜åˆ¶
## 1.æŸ±çŠ¶å›¾bar

`matplotlib.pyplot.bar(x, height, width: float = 0.8, bottom = None, *, align: str = â€˜centerâ€™, data = None, **kwargs)`
-   x è¡¨ç¤ºxåæ ‡ï¼Œæ•°æ®ç±»å‹ä¸ºfloatç±»å‹ï¼Œä¸€èˆ¬ä¸ºnp.arange()ç”Ÿæˆçš„å›ºå®šæ­¥é•¿åˆ—è¡¨
-   height è¡¨ç¤ºæŸ±çŠ¶å›¾çš„é«˜åº¦ï¼Œä¹Ÿå°±æ˜¯yåæ ‡å€¼ï¼Œæ•°æ®ç±»å‹ä¸ºfloatç±»å‹ï¼Œä¸€èˆ¬ä¸ºä¸€ä¸ªåˆ—è¡¨ï¼ŒåŒ…å«ç”ŸæˆæŸ±çŠ¶å›¾çš„æ‰€æœ‰yå€¼
-   width è¡¨ç¤ºæŸ±çŠ¶å›¾çš„å®½åº¦ï¼Œå–å€¼åœ¨0~1ä¹‹é—´ï¼Œé»˜è®¤å€¼ä¸º0.8
-   bottom æŸ±çŠ¶å›¾çš„èµ·å§‹ä½ç½®ï¼Œä¹Ÿå°±æ˜¯yè½´çš„èµ·å§‹åæ ‡ï¼Œé»˜è®¤å€¼ä¸ºNone
-   align æŸ±çŠ¶å›¾çš„ä¸­å¿ƒä½ç½®ï¼Œâ€œcenterâ€ï¼Œ"lege"è¾¹ç¼˜ï¼Œé»˜è®¤å€¼ä¸ºâ€™centerâ€™
-   color æŸ±çŠ¶å›¾é¢œè‰²ï¼Œé»˜è®¤ä¸ºè“è‰²
-   alpha é€æ˜åº¦ï¼Œå–å€¼åœ¨0~1ä¹‹é—´ï¼Œé»˜è®¤å€¼ä¸º1
-   label æ ‡ç­¾ï¼Œè®¾ç½®åéœ€è¦è°ƒç”¨plt.legend()ç”Ÿæˆ
-   edgecolor è¾¹æ¡†é¢œè‰² (ec)
-   linewidth è¾¹æ¡†å®½åº¦ï¼Œæµ®ç‚¹æ•°æˆ–ç±»æ•°ç»„ï¼Œé»˜è®¤ä¸ºNone (lw)
-   tick_labelï¼šæŸ±å­çš„åˆ»åº¦æ ‡ç­¾ï¼Œå­—ç¬¦ä¸²æˆ–å­—ç¬¦ä¸²åˆ—è¡¨ï¼Œé»˜è®¤å€¼ä¸ºNoneã€‚
-   linestyle :çº¿æ¡æ ·å¼ (ls)
```python
import matplotlib.pyplot as plt

# xè½´æ•°æ®
x = range(5)

# yè½´æ•°æ®
data = [5, 20, 15, 25, 10]

# è®¾ç½®å›¾å½¢æ ‡é¢˜
plt.title("åŸºæœ¬æŸ±çŠ¶å›¾")

# ç»˜åˆ¶ç½‘æ ¼
plt.grid(ls="--", alpha=0.5)

# barç»˜åˆ¶å›¾å½¢,x è¡¨ç¤ºxåæ ‡  dataä¸ºè¡¨ç¤ºæŸ±çŠ¶å›¾çš„é«˜åº¦
plt.bar(range(len(data)), data, ec='r', ls='--', lw=2)
```
## 2.åŒä½ç½®å¤šæŸ±çŠ¶å›¾
```python
countries = ['æŒªå¨', 'å¾·å›½', 'ä¸­å›½', 'ç¾å›½', 'ç‘å…¸']
# é‡‘ç‰Œä¸ªæ•°
gold_medal = np.array([16, 12, 9, 8, 8])
# é“¶ç‰Œä¸ªæ•°
silver_medal = np.array([8, 10, 4, 10, 5])
# é“œç‰Œä¸ªæ•°
bronze_medal = np.array([13, 5, 2, 7, 5])

# ç»˜åˆ¶å †å å›¾

# å®½åº¦
width = 0.3
# ç»˜åˆ¶é‡‘ç‰Œ
plt.bar(countries, gold_medal, color='gold', label='é‡‘ç‰Œ',
        bottom=silver_medal + bronze_medal,width=width)

# ç»˜åˆ¶é“¶ç‰Œ
plt.bar(countries, silver_medal, color='silver', label='é“¶ç‰Œ', bottom=bronze_medal,width=width)

# ç»˜åˆ¶é“œç‰Œ
plt.bar(countries, bronze_medal, color='#A0522D', label='é“œç‰Œ',width=width)

# è®¾ç½®åæ ‡è½´
plt.ylabel('å¥–ç‰Œæ•°')

# è®¾ç½®å›¾ä¾‹
plt.legend(loc='upper right')


# è®¾ç½®æ–‡æœ¬å€¼
for i in range(len(countries)):
    max_y = bronze_medal[i]+silver_medal[i]+gold_medal[i]
    plt.text(countries[i], max_y, max_y, va="bottom", ha="center")
```
## 3.æ°´å¹³æ¡å½¢å›¾barh
`plt.barh(y, width, height=0.8, left=None, *, align='center', **kwargs)
```python
# ç”±äºç‰µæ‰¯è®¡ç®—,å› æ­¤å°†æ•°æ®è½¬numpyæ•°ç»„
movie = ['æ–°è™è ä¾ ', 'ç‹™å‡»æ‰‹', 'å¥‡è¿¹ç¬¨å°å­©']
# ç¬¬ä¸€å¤©
real_day1 = np.array( [4053, 2548, 1543])

# ç¬¬äºŒå¤©
real_day2 = np.array([7840, 4013, 2421])

# ç¬¬ä¸‰å¤©
real_day3 = np.array([8080, 3673, 1342])

# ================ç¡®å®šè·ç¦»å·¦ä¾§========

left_day2 = real_day1 # ç¬¬äºŒå¤©è·ç¦»å·¦ä¾§çš„ä¸ºç¬¬ä¸€å¤©çš„æ•°å€¼

left_day3 = real_day1 + real_day2  # ç¬¬ä¸‰å¤©è·ç¦»å·¦ä¾§ä¸º ç¬¬ä¸€å¤©+ç¬¬äºŒå¤©çš„æ•°æ®

# è®¾ç½®çº¿æ¡é«˜åº¦
height = 0.2

# ç»˜åˆ¶å›¾å½¢:
plt.barh(movie, real_day1, height=height)      # ç¬¬ä¸€å¤©å›¾å½¢

plt.barh(movie, real_day2, left=left_day2, height=height)  # ç¬¬äºŒå¤©å›¾å½¢

plt.barh(movie, real_day3, left=left_day3, height=height) # ç¬¬ä¸‰å¤©å›¾å½¢

# è®¾ç½®æ•°å€¼æ–‡æœ¬:  è®¡ç®—å®½åº¦å€¼å’Œyè½´ä¸ºå€¼

sum_data = real_day1 + real_day2 +real_day3
# horizontalalignmentæ§åˆ¶æ–‡æœ¬çš„xä½ç½®å‚æ•°è¡¨ç¤ºæ–‡æœ¬è¾¹ç•Œæ¡†çš„å·¦è¾¹ï¼Œä¸­é—´æˆ–å³è¾¹ã€‚---->ha
# verticalalignmentæ§åˆ¶æ–‡æœ¬çš„yä½ç½®å‚æ•°è¡¨ç¤ºæ–‡æœ¬è¾¹ç•Œæ¡†çš„åº•éƒ¨ï¼Œä¸­å¿ƒæˆ–é¡¶éƒ¨ ---- va
for i in range(len(movie)):
    plt.text(sum_data[i], movie[i], sum_data[i],va="center" , ha="left")
plt.xlim(0,sum_data.max()+2000)

```

## 4.ç›´æ–¹å›¾ğŸ“Šhist
| æŸ±çŠ¶å›¾                 | ç›´æ–¹å›¾                 |
|---------------------|---------------------|
| æŸ±çŠ¶å›¾ä¸€èˆ¬ç”¨äºæè¿°ç¦»æ•£å‹åˆ†ç±»æ•°æ®çš„å¯¹æ¯” | ç›´æ–¹å›¾ä¸€èˆ¬ç”¨äºæè¿°è¿ç»­å‹æ•°æ®çš„åˆ†å¸ƒå…³ç³» |
| æ¯æ ¹æŸ±å­å®½åº¦å›ºå®šï¼ŒæŸ±å­ä¹‹é—´ä¼šæœ‰é—´è·   | æ¯æ ¹æŸ±å­å®½åº¦å¯ä»¥ä¸ä¸€æ ·ï¼Œä¸”ä¸€èˆ¬æ²¡æœ‰é—´è· |
| æ¨ªè½´å˜é‡å¯ä»¥ä»»æ„æ’åº          | æ¨ªè½´å˜é‡æœ‰ä¸€å®šé¡ºåºè§„åˆ™         |

`plt.hist(x, bins=None, range=None, density=None, weights=None, cumulative=False, bottom=None, histtype='bar', align='mid', orientation='vertical', rwidth=None, log=False, color=None, label=None, stacked=False, normed=None, *, data=None, **kwargs)
```python
# ä½¿ç”¨numpyéšæœºç”Ÿæˆ300ä¸ªéšæœºæ•°æ®
x_value = np.random.randint(140,180,300)

# æ·»åŠ æŠ˜çº¿

# 1.åˆ›å»ºä¸€ä¸ªç”»å¸ƒ
fig, ax = plt.subplots()

# 2.ç»˜åˆ¶ç›´æ–¹å›¾
num,bins_limit,patches = ax.hist(x_value, bins=10, edgecolor='white')

# 2.æ³¨æ„numè¿”å›çš„ä¸ªæ•°æ˜¯10,bins_limitè¿”å›çš„ä¸ªæ•°ä¸º11,éœ€è¦æˆªå–
print(bins_limit[:-1])
# 3.æ›²çº¿å›¾
ax.plot(bins_limit[:10], num, '--',marker="o")
#ax.set_xticks(bins_limit)
# éœ€è¦å•ç‹¬è®¾ç½®xè½´çš„æ—‹è½¬
plt.xticks(bins_limit,rotation=45)
```
![](../img/123454766734642df.png)
#### ä¸ç­‰è·åˆ†ç»„
#### å¤šç±»å‹ç›´æ–¹å›¾
```python
# æŒ‡å®šåˆ†ç»„ä¸ªæ•°
n_bins=10

fig,ax=plt.subplots(figsize=(8,5))

# åˆ†åˆ«ç”Ÿæˆ10000 ï¼Œ 5000 ï¼Œ 2000 ä¸ªå€¼
x_multi = [np.random.randn(n) for n in [10000, 5000, 2000]]


# å®é™…ç»˜å›¾ä»£ç ä¸å•ç±»å‹ç›´æ–¹å›¾å·®å¼‚ä¸å¤§ï¼Œåªæ˜¯å¢åŠ äº†ä¸€ä¸ªå›¾ä¾‹é¡¹
# åœ¨ ax.hist å‡½æ•°ä¸­å…ˆæŒ‡å®šå›¾ä¾‹ label åç§°
ax.hist(x_multi, n_bins, histtype='bar',label=list("ABC"))

# é€šè¿‡ ax.legend å‡½æ•°æ¥æ·»åŠ å›¾ä¾‹
ax.legend()
```
![](../img/12341234.png)
#### å †å ç›´æ–¹å›¾
```python
x_value = np.random.randint(140,180,200)
x2_value = np.random.randint(140,180,200)
plt.hist([x_value,x2_value],bins=10, stacked=True)
```

## 5.é¥¼çŠ¶å›¾pie
`pyplot.pie(x, explode=None, labels=None, colors=None, autopct=None)
-   x: æ•°ç»„åºåˆ—ï¼Œæ•°ç»„å…ƒç´ å¯¹åº”æ‰‡å½¢åŒºåŸŸçš„æ•°é‡å¤§å°ã€‚
-   labels: åˆ—è¡¨å­—ç¬¦ä¸²åºåˆ—ï¼Œä¸ºæ¯ä¸ªæ‰‡å½¢åŒºåŸŸå¤‡æ³¨ä¸€ä¸ªæ ‡ç­¾åå­—ã€‚
-   colors; ä¸ºæ¯ä¸ªæ‰‡å½¢åŒºåŸŸè®¾ç½®é¢œè‰²ï¼Œé»˜è®¤æŒ‰ç…§é¢œè‰²å‘¨æœŸè‡ªåŠ¨è®¾ç½®ã€‚
-   autopct: æ ¼å¼åŒ–å­—ç¬¦ä¸²"fmt%pct"ï¼Œä½¿ç”¨ç™¾åˆ†æ¯”çš„æ ¼å¼è®¾ç½®æ¯ä¸ªæ‰‡å½¢åŒºçš„æ ‡ç­¾ï¼Œå¹¶å°†å…¶æ”¾ç½®åœ¨æ‰‡å½¢åŒºå†…ã€‚
-   pctdistanceï¼šè®¾ç½®ç™¾åˆ†æ¯”æ ‡ç­¾ä¸åœ†å¿ƒçš„è·ç¦»ï¼›
-   labeldistanceï¼šè®¾ç½®å„æ‰‡å½¢æ ‡ç­¾ï¼ˆå›¾ä¾‹ï¼‰ä¸åœ†å¿ƒçš„è·ç¦»ï¼›
-   explode: æŒ‡å®šé¥¼å›¾æŸäº›éƒ¨åˆ†çš„çªå‡ºæ˜¾ç¤ºï¼Œå³å‘ˆç°çˆ†ç‚¸å¼ï¼›()
-   shadowï¼šæ˜¯å¦æ·»åŠ é¥¼å›¾çš„é˜´å½±æ•ˆæœ
```python
# å®šä¹‰é¥¼çš„æ ‡ç­¾ï¼Œ
labels = ['å¨±ä¹','è‚²å„¿','é¥®é£Ÿ','æˆ¿è´·','äº¤é€š','å…¶å®ƒ']
 
# æ¯ä¸ªæ ‡ç­¾æ‰€å çš„æ•°é‡
x = [200,500,1200,7000,200,900]

# ç»˜åˆ¶é¥¼å›¾
# %.2f%%æ˜¾ç¤ºç™¾åˆ†æ¯”,ä¿ç•™2ä½å°æ•°
# è®¾ç½®é˜´å½±æ•ˆæœ
plt.pie(x,labels=labels,autopct='%3.2f%%',explode=explode, labeldistance=1.35, pctdistance=1.2)
plt.legend()
```

## 6.ç®±çº¿å›¾scatter
`matplotlib.pyplot.scatter(x, y, s=None, c=None, marker=None, cmap=None, norm=None, vmin=None, vmax=None, alpha=None, linewidths=None,Â _, edgecolors=None, plotnonfinite=False, data=None, *_kwargs)`
-   x, y â†’ æ•£ç‚¹çš„åæ ‡
-   s â†’ æ•£ç‚¹çš„é¢ç§¯
-   c â†’ æ•£ç‚¹çš„é¢œè‰²ï¼ˆé»˜è®¤å€¼ä¸ºè“è‰²ï¼Œ'b'ï¼Œå…¶ä½™é¢œè‰²åŒplt.plot( )ï¼‰
-   marker â†’ æ•£ç‚¹æ ·å¼ï¼ˆé»˜è®¤å€¼ä¸ºå®å¿ƒåœ†ï¼Œ'o'ï¼Œå…¶ä½™æ ·å¼åŒplt.plot( )ï¼‰
-   alpha â†’ æ•£ç‚¹é€æ˜åº¦ï¼ˆ[0, 1]ä¹‹é—´çš„æ•°ï¼Œ0è¡¨ç¤ºå®Œå…¨é€æ˜ï¼Œ1åˆ™è¡¨ç¤ºå®Œå…¨ä¸é€æ˜ï¼‰
-   linewidths â†’æ•£ç‚¹çš„è¾¹ç¼˜çº¿å®½
-   edgecolors â†’ æ•£ç‚¹çš„è¾¹ç¼˜é¢œè‰²
-   cmap â†’ Colormapï¼Œé»˜è®¤ Noneï¼Œæ ‡é‡æˆ–è€…æ˜¯ä¸€ä¸ª colormap çš„åå­—ï¼Œåªæœ‰ c æ˜¯ä¸€ä¸ªæµ®ç‚¹æ•°æ•°ç»„çš„æ—¶æ‰ä½¿ç”¨

```python
# xè½´æ•°æ®
x = np.array([1, 2, 3, 4, 5, 6, 7, 8])
# yè½´æ•°æ®
y = np.array([1, 4, 9, 16, 7, 11, 23, 18])

# é¢œè‰²éšæœº 
colors = np.arange(1,101)

plt.scatter(x, y, c=colors, cmap='Blues')
```
![](../img/1235xcvadgsf.png)
## 7.ä¿å­˜å›¾ç‰‡savefig()
`savefig(fname, dpi=None, facecolor=â€™wâ€™, edgecolor=â€™wâ€™, orientation=â€™portraitâ€™, papertype=None, format=None, transparent=False, bbox_inches=None, pad_inches=0.1, frameon=None, metadata=None)`
```python
import os

# xè½´æ•°æ®
x_axis =[1, 4, 9, 16, 25, 36, 49, 64, 81, 100]
# yè½´æ•°æ®
y_axis =[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
# ç»˜åˆ¶å›¾å½¢
plt.hist(x_axis, y_axis)
# xå’Œyè½´æ ‡ç­¾
plt.xlabel("X")
plt.ylabel("Y")


# ä½¿ç”¨osæ¨¡å—åˆ¤æ–­ç›®å½•æ˜¯å¦å­˜åœ¨
if not os.path.exists("my"):
    # ä½¿ç”¨osæ¨¡å—åˆ›å»ºæ–‡ä»¶å¤¹
    os.mkdir("my")
plt.savefig("my/my_show.png")
plt.show()
```
## 8.ç®±çº¿å›¾boxplot()
![](../img/8796d.png)
`matplotlib.pyplot.boxplot(x, notch=None, sym=None, vert=None, whis=None, positions=None, widths=None, patch_artist=None, bootstrap=None, usermedians=None, conf_intervals=None, meanline=None, showmeans=None, showcaps=None, showbox=None, showfliers=None, boxprops=None, labels=None, flierprops=None, medianprops=None, meanprops=None, capprops=None, whiskerprops=None, manage_ticks=True, autorange=False, zorder=None, *, data=None)`
```python

# åˆ›å»º5è¡Œ5åˆ—çš„æ•°æ®
x = np.random.randint(10,100,size=(5,5))

box = {"linestyle":'--',"linewidth":1,"color":'blue'}

mean = {"marker":'o','markerfacecolor':'pink','markersize':2}

# boxprops-- ç®±ä½“çš„æ ·å¼ã€‚ç±»å‹ä¸ºå­—å…¸

# meanprops-- ç®—æœ¯å¹³å‡å€¼çš„æ ·å¼ã€‚ç±»å‹ä¸ºå­—å…¸

plt.boxplot(x,meanline=True,showmeans=True,labels=["A","B","C","D","E"], boxprops=box,meanprops=mean)
plt.show()
```
![](../img/4658dgf.png)