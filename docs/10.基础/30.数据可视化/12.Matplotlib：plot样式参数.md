---
title: Matplotlibï¼šplotæ ·å¼å‚æ•°
date: 2022-08-24 15:30:15
permalink: /pages/6262a6/
categories:
  - åŸºç¡€
  - æ•°æ®å¯è§†åŒ–
tags:
  - 
author: 
  name: Jennifer
  link: https://github.com/Li-Jennifer
---

## 1.plotå›¾å½¢æ ·å¼
### 1. ç½‘æ ¼ grid
```python
plt.grid(True, linestyle = "--",color = "gray", linewidth = "0.5",axis = 'x')

x = np.linspace(-np.pi,np.pi,256,endpoint = True)
c, s = np.cos(x), np.sin(x)
plt.plot(x, c)
plt.plot(x, s)
# é€šè¿‡ndarryåˆ›å»ºå›¾è¡¨
#plt.grid(True, linestyle = "--",color = "gray", linewidth = "0.5",axis = 'both')
plt.grid(True,linestyle="--")
```
### 2.åæ ‡è½´æ“ä½œ gca
```python
x = np.arange(-50,51)
y = x ** 2

# è·å–å½“å‰åæ ‡è½´
ax = plt.gca()
# é€šè¿‡åæ ‡è½´spines,ç¡®å®š top, bottom, left, right (åˆ†åˆ«è¡¨ç¤ºä¸Š,ä¸‹,å·¦å’Œå³)

# ä¸éœ€è¦å³ä¾§å’Œä¸Šä¾§çº¿æ¡,åˆ™å¯ä»¥è®¾ç½®ä»–çš„é¢œè‰²
ax.spines['right'].set_color("none")
ax.spines['top'].set_color("none")


# åœ¨è¿™é‡Œï¼Œpositionä½ç½®å‚æ•°æœ‰ä¸‰ç§ï¼Œdata , outward(å‘å¤–-å¯è‡ªè¡Œå°è¯•) , axes
# axes:0.0 - 1.0ä¹‹é—´çš„å€¼ï¼Œæ•´ä¸ªè½´ä¸Šçš„æ¯”ä¾‹
ax.spines['left'].set_position(('axes',0.5))
plt.ylim(0, y.max()) # è®¾ç½®è½´å–å€¼èŒƒå›´

plt.plot(x, y)
```
### 3. rcParams ç”»å›¾åˆ†è¾¨ç‡ï¼Œå¤§å°
-   é»˜è®¤çš„åƒç´ ï¼š[6.0,4.0]ï¼Œåˆ†è¾¨ç‡ä¸º72ï¼Œå›¾ç‰‡å°ºå¯¸ä¸º 432x288
-   æŒ‡å®šdpi=100ï¼Œå›¾ç‰‡å°ºå¯¸ä¸º 600*400
-   æŒ‡å®šdpi=300ï¼Œå›¾ç‰‡å°ºå¯¸ä¸º 1800*1200
```python
# å°ºå¯¸
plt.rcParams['figure.figsize'] = (6.0, 4.0)

# æŒ‡å®šåˆ†è¾¨ç‡ dpi=100ï¼Œå›¾ç‰‡å°ºå¯¸ä¸º 600*400
plt.rcParams['figure.dpi'] = 100
```

## 2.çº¿æ¡æ ·å¼å‚æ•°
```python
plt.plot(x,y,color='red',alpha=0.3,linestyle='-',linewidth=5,marker='o',markeredgecolor='r',markersize='20',markeredgewidth=10)


x= np.arange(0, 100,10)
y= x ** 2

"""linewidth è®¾ç½®çº¿æ¡ç²—ç»†
   label è®¾ç½®çº¿æ¡æ ‡ç­¾
   color è®¾ç½®çº¿æ¡é¢œè‰²
   linestyle è®¾ç½®çº¿æ¡å½¢çŠ¶
   marker è®¾ç½®çº¿æ¡æ ·ç‚¹æ ‡è®°
"""

plt.plot(x, y, linewidth = '2', label = "test", color='b', linestyle='--', marker='H')
plt.legend(loc='upper left')

# çº¿æ¡æ ·å¼ç¼©å†™
plt.plot([2,4,5],[3,8,7],'m+--')
```
## 3.åˆ›å»ºå›¾å½¢å¯¹è±¡figure
### 1.åˆ›å»ºå›¾å½¢
```python
plt.figure(
    num=None,------------------------------------> å›¾åƒç¼–å·æˆ–åç§°ï¼Œæ•°å­—ä¸ºç¼–å· ï¼Œå­—ç¬¦ä¸²ä¸ºåç§°
    figsize=None,--------------------------------> æŒ‡å®šfigureçš„å®½å’Œé«˜ï¼Œå•ä½ä¸ºè‹±å¯¸ï¼›
    dpi=None,------------------------------------> å®šç»˜å›¾å¯¹è±¡çš„åˆ†è¾¨ç‡ï¼Œå³æ¯è‹±å¯¸å¤šå°‘ä¸ªåƒç´ ï¼Œç¼ºçœå€¼ä¸º72
    facecolor=None,------------------------------> èƒŒæ™¯é¢œè‰²
    edgecolor=None, -----------------------------> è¾¹æ¡†é¢œè‰²
    frameon=True, -------------------------------> æ˜¯å¦æ˜¾ç¤ºè¾¹æ¡†
    **kwargs,
)
```

```python
from matplotlib import pyplot as plt
# åˆ›å»ºå›¾å½¢å¯¹è±¡,ç›¸å½“äºæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªç”»å¸ƒ
fig = plt.figure('f1',figsize=(4,2), dpi=100,facecolor='gray')

ax = plt.gca()
ax.plot(x,y)
plt.plot(x,y)
```
### 2. ç»˜åˆ¶å¤šå­å›¾
#### æ·»åŠ åŒºåŸŸ add_axes()
```python
fig = plt.figure(figsize=(4,2),facecolor='g')

# ax1ä»ç”»å¸ƒèµ·å§‹ä½ç½®ç»˜åˆ¶,å®½é«˜å’Œç”»å¸ƒä¸€è‡´
ax1 = fig.add_axes([0,0,1,1])

# ax2 ä»ç”»å¸ƒ 10% çš„ä½ç½®å¼€å§‹ç»˜åˆ¶, å®½é«˜æ˜¯ç”»å¸ƒçš„ 30%
ax2=fig.add_axes([0.1,0.6,0.3,0.3])

ax3=fig.add_axes([0.5,0.6,0.2,0.3])

ax1.plot(x, y)
ax2.plot(x, y)
ax3.plot(x, y)

```
![](../../img/2346.png)
#### åˆ’åˆ†ç”»å¸ƒ subplot()
```python
ax = plt.subplot(nrows, ncols, index,*args, **kwargs)
-   nrows è¡Œ
-   ncols åˆ—
-   index: ç´¢å¼•
-   kwargs: title/xlabel/ylabel ç­‰..
```
#####  a.åœ¨åˆ›å»ºçš„æ—¶å€™ç›´æ¥è®¾ç½®
```python
#ç°åœ¨åˆ›å»ºä¸€ä¸ªå­å›¾ï¼Œå®ƒè¡¨ç¤ºä¸€ä¸ªæœ‰2è¡Œ1åˆ—çš„ç½‘æ ¼çš„é¡¶éƒ¨å›¾ã€‚
#--------------- ç¬¬ä¸€ä¸ªåŒºåŸŸ---------------
plt.subplot(211,title="pic1", xlabel="x axis")
# xå¯çœç•¥,é»˜è®¤[0,1..,N-1]é€’å¢
plt.plot(range(50,70))

#--------------------ç¬¬äºŒåŒºåŸŸ-----------
plt.subplot(212, title="pic2", xlabel="x axis")

plt.plot(np.arange(12)**2)

# ç´§å‡‘çš„å¸ƒå±€
plt.tight_layout()
```
![](../../img/dfgjghjhfag.png)
##### b. ä½¿ç”¨pyplotæ¨¡å—ä¸­çš„æ–¹æ³•è®¾ç½®åå†ç»˜åˆ¶
```python 

#--------------- ç¬¬ä¸€ä¸ªåŒºåŸŸ---------------
plt.subplot(211)
# ä½¿ç”¨å›¾å½¢å¯¹è±¡:
plt.title("ax1")
# xå¯çœç•¥,é»˜è®¤[0,1..,N-1]é€’å¢
plt.plot(range(50,70))

#--------------------ç¬¬äºŒåŒºåŸŸ-----------
plt.subplot(212)
plt.title("ax2")

#...å…¶ä»–çš„è‡ªå·±è®¾ç½®

plt.plot(np.arange(12)**2)
# ç´§å‡‘çš„å¸ƒå±€
plt.tight_layout()

```
##### c. ä½¿ç”¨è¿”å›çš„åŒºåŸŸå¯¹è±¡è®¾ç½®
```python
#--------------- ç¬¬ä¸€ä¸ªåŒºåŸŸ ax1---------------
ax1 = plt.subplot(211)
# ä½¿ç”¨åŒºåŸŸå¯¹è±¡:
ax1.set_title("ax1")
# xå¯çœç•¥,é»˜è®¤[0,1..,N-1]é€’å¢
ax1.plot(range(50,70))

#--------------------ç¬¬äºŒåŒºåŸŸ ax2-----------
ax2 = plt.subplot(212)
ax2.set_title("ax2")

#...å…¶ä»–çš„è‡ªå·±è®¾ç½®

ax2.plot(np.arange(12)**2)
# ç´§å‡‘çš„å¸ƒå±€
plt.tight_layout()
```
#### subplots()ğŸŒŸ
```python
fig , ax = plt.subplots(nrows, ncols)

# å¼•å…¥æ¨¡å—
import matplotlib.pyplot as plt
import numpy as np

# åˆ›å»º2è¡Œ2åˆ—çš„å­å›¾,è¿”å›å›¾å½¢å¯¹è±¡(ç”»å¸ƒ),æ‰€æœ‰å­å›¾çš„åæ ‡è½´
fig, axes =  plt.subplots(2,2)

x = np.arange(1,5)
#ç»˜åˆ¶å¹³æ–¹å‡½æ•°
axes[0][0].plot(x, x*x)
axes[0][0].set_title('square')
#ç»˜åˆ¶å¹³æ–¹æ ¹å›¾åƒ
axes[0][1].plot(x, np.sqrt(x))
axes[0][1].set_title('square root')
#ç»˜åˆ¶æŒ‡æ•°å‡½æ•°
axes[1][0].plot(x, np.exp(x))
axes[1][0].set_title('exp')

#ç»˜åˆ¶å¯¹æ•°å‡½æ•°
axes[1][1].plot(x,np.log10(x))
axes[1][1].set_title('log')

# å¤„ç†æ ‡é¢˜é®æŒ¡
plt.tight_layout()

plt.show()
```
![](../../img/3746.png)