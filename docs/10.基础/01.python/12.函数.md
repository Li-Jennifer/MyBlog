---
title: å‡½æ•°
date: 2022-08-15 22:16:37
permalink: /pages/ef04c5/
categories:
  - åŸºç¡€
  - Python
tags:
  - 
author: 
  name: Jennifer
  link: https://github.com/Li-Jennifer
---

## 1.å‡½æ•°
### å®šä¹‰
```python
# å®šä¹‰
def sum_num(a,b):
    return a+b
# è°ƒç”¨
sum_num()
```

[https://www.runoob.com/python3/python3-function.html](https://www.runoob.com/python3/python3-function.html)
## 2.æ”¶é›†å‚æ•° `*`
1. æ”¶é›†å‚æ•°
`*args`  : æ‰“åŒ…å…ƒç»„
`**kwargs` : æ‰“åŒ…æˆå­—å…¸
```python
def myfunc (a, *b, **c):
    print(a, b, c)

myfunc(1, 2, 3, 5, x=5, y=6)
```
2. formate å°±æ˜¯æ”¶é›†å…ƒç»„å’Œå­—å…¸
```python
help(str.format)

**format**(...)
Â  Â  S.format(*args, **kwargs) -> str
```
3. è§£åŒ…å‚æ•°
```python
kwargs= {'a':1,'b':2,'c':3,'d':4}
myfunc(**kwargs)

# 1 2 3 4
```

### ä½œç”¨åŸŸ
1. å±€éƒ¨å˜é‡ï¼šå‡½æ•°å†…çš„å˜é‡
2. å…¨å±€å˜é‡ï¼šåœ¨å‡½æ•°å¤–é¢

å‡½æ•°å†…å±€éƒ¨å˜é‡ä¼šè¦†ç›–å…¨å±€å˜é‡
å³ï¼šå‡½æ•°å†…éƒ¨æ— æ³•ä¿®æ”¹å…¨å±€å˜é‡

### Globalè¯­å¥ï¼šåœ¨å‡½æ•°å†…ä¿®æ”¹å…¨å±€å˜é‡
```python
x = 250
def myfunc():
    global x
    x = 520
    print(x)
    
myfunc()  # 520

```
### åµŒå¥—å‡½æ•°
```python
def outer():
    x = 520
    def inner():
        x = 233
        print('inner', x)
    inner()
    print('outer',x)

# inner 233
# outer 520
```
### nonlocal è¯­å¥
```python
def outer():
    x = 520
    def inner():
        nonlocal x
        x = 233
        print('inner', x)
    inner()
    print('outer',x)

# inner 520
# outer 520
```
### LEGB åŸåˆ™ : å°±è¿‘æ‰¾å˜é‡åŸåˆ™

>æ‰¾å¯»å˜é‡çš„è°ƒç”¨é¡ºåºé‡‡ç”¨LEGBåŸåˆ™(å³å°±è¿‘åŸåˆ™)
B â€”â€” Builtin(Python)ï¼› Pythonå†…ç½®æ¨¡å—çš„å‘½åç©ºé—´      (å†…å»ºä½œç”¨åŸŸ)
G â€”â€” Global(module)ï¼› å‡½æ•°å¤–éƒ¨æ‰€åœ¨çš„å‘½åç©ºé—´         (å…¨å±€ä½œç”¨åŸŸ)
E â€”â€” Enclosing function localsï¼›å¤–éƒ¨åµŒå¥—å‡½æ•°çš„ä½œç”¨åŸŸ (åµŒå¥—ä½œç”¨åŸŸ)
L â€”â€” Local(function)ï¼›å½“å‰å‡½æ•°å†…çš„ä½œç”¨åŸŸ             (å±€éƒ¨ä½œç”¨åŸŸ)
ä¾æ®å°±è¿‘åŸåˆ™,ä»ä¸‹å¾€ä¸Š ä»é‡Œå‘å¤– ä¾æ¬¡å¯»æ‰¾

## 3.é—­åŒ…
```python
def funA():
    x = 520
    def funB():
        print(x)
    return funB

funA() # <function funA.<locals>.funB at 0x7faa201a63a0> å¯¹Bçš„å¼•ç”¨
funA()() # 520
```
### å·¥å‚å‡½æ•°
```python
def power(exp):
   def exp_of(base):
      return base ** exp
    return exp_of

square = power(2)
cube = power(3)

square(2) # 4
cube(2) # 8
```

```python
def outer():
    x = 0
    y = 0
    def inner(x1, y1):
        nonlocal x, y
        x += x1;
        y += y1
        print(f' x = {x}, y = {y} ')
    return inner

move = outer()
move(1,2)  # x = 1, y = 2
move(-2, 2) # x = -1, y = 4
```

åˆ©ç”¨å†…å±‚å‡½æ•°è®°ä½å¤–å±‚å‡½æ•°ä½œç”¨åŸŸ + nonlocalï¼ˆä¿®æ”¹å¤–å±‚å‡½æ•°å˜é‡ï¼‰
## 4.è£…é¥°å™¨ @
å‡½æ•°å½“å‚æ•°ä¼ ç»™å¦ä¸€ä¸ªå‡½æ•°
```python
import time
def time_master(func):
    print('start')
    start = time.time()
    func()
    stop = time.time()
    print('end')
    print(f"{(stop - start):.2f}s")
    
def myfun():
    time.sleep(2)
    print("hello?")

time_master(myfun)

# start
# hello?
# end
# 2.00s


# è£…é¥°å™¨
@time_master
def myfun():
    time.sleep(2)
    print("hi")

```

1. è¯­æ³•ç³–ğŸ¬

2. å¤šä¸ªè£…é¥°å™¨å¯ä»¥æ”¾åœ¨ä¸€ä¸ªå‡½æ•°ä¸Š

3. è£…é¥°å™¨ä¼ å‚æ•°

## 5. lambda å‡½æ•°ï¼šè¡¨è¾¾å¼

> 1. å°çš„åŒ¿åå‡½æ•°
>2. è¡¨è¾¾å¼
>3. lambda [arg1, arg2,..... argN]: expression

```python
squareY = lambda y : y * y
squareY(3)   # 9

list(filter(lambda x: x % 2, range(10)))
# [1, 3, 5, 7, 9]
```
[https://blog.csdn.net/qq_40089648/article/details/89022804](https://blog.csdn.net/qq_40089648/article/details/89022804)


## 6.ç”Ÿæˆå™¨: yield
> 1. æœ¬è´¨å°±æ˜¯ä¸€ä¸ªè¿­ä»£å™¨
> 2. æ¯è°ƒç”¨ä¸€æ¬¡ç”Ÿæˆä¸€ä¸ª
> 3. æ— æ³•ä¸‹æ ‡ç´¢å¼•

```python
# æ–æ³¢é‚£å¥‘æ•°åˆ—
def fib():
    back1, back2 = 0, 1
    while True:
       yield back1
       back1, back2 = back2, back1 + back2

# ç”Ÿæˆå™¨è¡¨è¾¾å¼ï¼š
t = (i ** 2 for i in range(10))
next(t)


åˆ—è¡¨æ¨å¯¼å¼ä¼šå°†æ‰€æœ‰æ•°æ®ç”Ÿäº§å‡ºæ¥
è€Œç”Ÿæˆå™¨åˆ™æ˜¯ä¸€ä¸ªä¸ªç”Ÿäº§
```
[æ¨å¯¼å¼ âœ¨](11.åºåˆ—.md#æ¨å¯¼å¼%20âœ¨)
## 7. é€’å½’:è‡ªå·±è°ƒç”¨è‡ªå·±
### é˜¶ä¹˜
```python
# è¿­ä»£
def factIter(n):
    result = n
    for i in range(1,n)
       result *=1
   return result
factIter(5)

# é˜¶ä¹˜
def factRecur(n)
   if n == 1:
      return 1
    else: 
        return n* factRecur(n-1)
```
###  æ–æ³¢é‚£å¥‘æ•°åˆ—
 0ï¼Œ1ï¼Œ1ï¼Œ2ï¼Œ3ï¼Œ5ï¼Œ8ï¼Œ13ï¼Œ21ï¼Œ34
```python
def fab(n):
    if n < 1:
        return -1
    if n == 1 or n== 2:
        return 1
    else:
        return fab(n-1)+fab(n-2)

```
### æ±‰è¯ºå¡”
```python
def hano(n,a,b,c):
    if n == 1:
        print(a,'-->',c)
    else:
        hano(n-1,a,c,b)
        hano(1,a,b,c)
        hano(n-1,b,a,c)
        
hano(3,'A','B','C')
```


## 8.é«˜é˜¶å‡½æ•°
å‡½æ•°å¯ä»¥å½“å˜é‡ä¼ æ¥ä¼ å»
å‡½æ•°é‡Œçš„å‚æ•°æ˜¯å‡½æ•°
[https://blog.csdn.net/weixin_41010198/article/details/103299135](https://blog.csdn.net/weixin_41010198/article/details/103299135)
1. map
2. Iterator
3. filter
4. reduce
5. sorted