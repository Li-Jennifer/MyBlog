<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>pythonç»„ä»¶ | Jennifer&#39;s blog</title>
    <meta name="generator" content="VuePress 1.9.5">
    <link rel="icon" href="/img/logo.jpg">
    <meta name="description" content="ä¸ªäººæŠ€æœ¯åšå®¢">
    <meta name="keywords" content="ä¸ªäººæŠ€æœ¯åšå®¢">
    <meta name="theme-color" content="#42b983">
    
    <link rel="preload" href="/assets/css/0.styles.600d868b.css" as="style"><link rel="preload" href="/assets/js/app.55777c8e.js" as="script"><link rel="preload" href="/assets/js/2.f1cfd21b.js" as="script"><link rel="preload" href="/assets/js/45.d04ed2a7.js" as="script"><link rel="prefetch" href="/assets/js/10.4e0b0583.js"><link rel="prefetch" href="/assets/js/11.eb1f9ae5.js"><link rel="prefetch" href="/assets/js/12.5aec33a5.js"><link rel="prefetch" href="/assets/js/13.88fb4c3d.js"><link rel="prefetch" href="/assets/js/14.597f89bb.js"><link rel="prefetch" href="/assets/js/15.70a066d0.js"><link rel="prefetch" href="/assets/js/16.6a5b7682.js"><link rel="prefetch" href="/assets/js/17.eb2acf52.js"><link rel="prefetch" href="/assets/js/18.d73410e8.js"><link rel="prefetch" href="/assets/js/19.4b63f741.js"><link rel="prefetch" href="/assets/js/20.1c27a508.js"><link rel="prefetch" href="/assets/js/21.645ab295.js"><link rel="prefetch" href="/assets/js/22.71ff58f1.js"><link rel="prefetch" href="/assets/js/23.1ecb5661.js"><link rel="prefetch" href="/assets/js/24.a7fa193b.js"><link rel="prefetch" href="/assets/js/25.d9298fa6.js"><link rel="prefetch" href="/assets/js/26.da207ab0.js"><link rel="prefetch" href="/assets/js/27.3215ff6e.js"><link rel="prefetch" href="/assets/js/28.daa51aa3.js"><link rel="prefetch" href="/assets/js/29.64c0466e.js"><link rel="prefetch" href="/assets/js/3.00660cd2.js"><link rel="prefetch" href="/assets/js/30.0b067aea.js"><link rel="prefetch" href="/assets/js/31.c401f207.js"><link rel="prefetch" href="/assets/js/32.21499ae6.js"><link rel="prefetch" href="/assets/js/33.ce8a6295.js"><link rel="prefetch" href="/assets/js/34.d6fe94b6.js"><link rel="prefetch" href="/assets/js/35.75a276fd.js"><link rel="prefetch" href="/assets/js/36.cff468fe.js"><link rel="prefetch" href="/assets/js/37.48024518.js"><link rel="prefetch" href="/assets/js/38.73f8422c.js"><link rel="prefetch" href="/assets/js/39.25a33119.js"><link rel="prefetch" href="/assets/js/4.fc2e6e49.js"><link rel="prefetch" href="/assets/js/40.95dfb2ec.js"><link rel="prefetch" href="/assets/js/41.7b63b2ee.js"><link rel="prefetch" href="/assets/js/42.158e6c89.js"><link rel="prefetch" href="/assets/js/43.9f0ff699.js"><link rel="prefetch" href="/assets/js/44.4c1efbad.js"><link rel="prefetch" href="/assets/js/46.3fd3551a.js"><link rel="prefetch" href="/assets/js/47.7bafa4ec.js"><link rel="prefetch" href="/assets/js/48.9ae62e62.js"><link rel="prefetch" href="/assets/js/49.2a7441b7.js"><link rel="prefetch" href="/assets/js/5.94100015.js"><link rel="prefetch" href="/assets/js/50.1a6f644b.js"><link rel="prefetch" href="/assets/js/51.328ac836.js"><link rel="prefetch" href="/assets/js/52.8b96407d.js"><link rel="prefetch" href="/assets/js/53.cd36ede8.js"><link rel="prefetch" href="/assets/js/54.558a96f9.js"><link rel="prefetch" href="/assets/js/55.99d0fc72.js"><link rel="prefetch" href="/assets/js/56.876df14f.js"><link rel="prefetch" href="/assets/js/57.437d3685.js"><link rel="prefetch" href="/assets/js/58.19ee804e.js"><link rel="prefetch" href="/assets/js/59.99876e69.js"><link rel="prefetch" href="/assets/js/6.ad6ca8d3.js"><link rel="prefetch" href="/assets/js/60.e0e46ca9.js"><link rel="prefetch" href="/assets/js/61.77947d6b.js"><link rel="prefetch" href="/assets/js/62.d3214dd2.js"><link rel="prefetch" href="/assets/js/63.d224bc8b.js"><link rel="prefetch" href="/assets/js/64.7e9fd283.js"><link rel="prefetch" href="/assets/js/65.c4f83c1a.js"><link rel="prefetch" href="/assets/js/66.01feebc1.js"><link rel="prefetch" href="/assets/js/67.fe1476e2.js"><link rel="prefetch" href="/assets/js/68.4d8eb457.js"><link rel="prefetch" href="/assets/js/69.28882346.js"><link rel="prefetch" href="/assets/js/7.6f5c20a8.js"><link rel="prefetch" href="/assets/js/70.974894cd.js"><link rel="prefetch" href="/assets/js/71.a4c9c68b.js"><link rel="prefetch" href="/assets/js/72.07ef9b4f.js"><link rel="prefetch" href="/assets/js/73.3d56f125.js"><link rel="prefetch" href="/assets/js/74.da4572e0.js"><link rel="prefetch" href="/assets/js/75.8330a59d.js"><link rel="prefetch" href="/assets/js/76.83f1116f.js"><link rel="prefetch" href="/assets/js/77.d352d68a.js"><link rel="prefetch" href="/assets/js/78.04097fda.js"><link rel="prefetch" href="/assets/js/79.9833a012.js"><link rel="prefetch" href="/assets/js/8.00174968.js"><link rel="prefetch" href="/assets/js/80.829ffb9d.js"><link rel="prefetch" href="/assets/js/81.0f3cf71c.js"><link rel="prefetch" href="/assets/js/82.f347bbd0.js"><link rel="prefetch" href="/assets/js/83.8ab1aa58.js"><link rel="prefetch" href="/assets/js/84.713ae1ef.js"><link rel="prefetch" href="/assets/js/85.b526796a.js"><link rel="prefetch" href="/assets/js/86.6fd67398.js"><link rel="prefetch" href="/assets/js/87.94520354.js"><link rel="prefetch" href="/assets/js/9.828a3977.js">
    <link rel="stylesheet" href="/assets/css/0.styles.600d868b.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu have-body-img"><header class="navbar blur"><div title="ç›®å½•" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/logo.jpg" alt="Jennifer's blog" class="logo"> <span class="site-name can-hide">Jennifer's blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">é¦–é¡µ</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ğŸ¥ç´¢å¼•" class="dropdown-title"><a href="/archives/" class="link-title">ğŸ¥ç´¢å¼•</a> <span class="title" style="display:none;">ğŸ¥ç´¢å¼•</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">åˆ†ç±»</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">æ ‡ç­¾</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">å½’æ¡£</a></li></ul></div></div> <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="/img/logo.jpg"> <div class="blogger-info"><h3>Jennifer</h3> <span>æˆ‘ä»¬çš„ç›®æ ‡æ˜¯æ˜Ÿè¾°å¤§æµ·</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">é¦–é¡µ</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ğŸ¥ç´¢å¼•" class="dropdown-title"><a href="/archives/" class="link-title">ğŸ¥ç´¢å¼•</a> <span class="title" style="display:none;">ğŸ¥ç´¢å¼•</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">åˆ†ç±»</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">æ ‡ç­¾</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">å½’æ¡£</a></li></ul></div></div> <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>è¯•é¢˜</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>collection</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/fb8510/" aria-current="page" class="active sidebar-link">pythonç»„ä»¶</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_1-ç”Ÿæˆ6ä½æ•°å­—éšæœºéªŒè¯ç " class="sidebar-link">1. ç”Ÿæˆ6ä½æ•°å­—éšæœºéªŒè¯ç </a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_2-md5åŠ å¯†" class="sidebar-link">2.md5åŠ å¯†</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_3-ç”Ÿæˆå”¯ä¸€token" class="sidebar-link">3. ç”Ÿæˆå”¯ä¸€token</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_4ã€å‘é€æ‰‹æœºéªŒè¯ç " class="sidebar-link">4ã€å‘é€æ‰‹æœºéªŒè¯ç </a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/fb8510/#å®ç°é€»è¾‘" class="sidebar-link">å®ç°é€»è¾‘</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_5ã€ç”ŸæˆäºŒç»´ç " class="sidebar-link">5ã€ç”ŸæˆäºŒç»´ç </a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_6-å¾®ä¿¡ç¾¤å‘" class="sidebar-link">6.å¾®ä¿¡ç¾¤å‘</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_7ã€å¾®ä¿¡è‡ªåŠ¨å›å¤" class="sidebar-link">7ã€å¾®ä¿¡è‡ªåŠ¨å›å¤</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_8ã€æå–djangoä¸­modelä¸­çš„å­—æ®µåå˜æˆå­—å…¸ã€åˆ—è¡¨" class="sidebar-link">8ã€æå–Djangoä¸­modelä¸­çš„å­—æ®µåå˜æˆå­—å…¸ã€åˆ—è¡¨</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_9ã€æ•°æ®åº“ä¸­ç»™è¡¨åˆ›å»ºæ•°æ®" class="sidebar-link">9ã€æ•°æ®åº“ä¸­ç»™è¡¨åˆ›å»ºæ•°æ®</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_10-æ•æ‰å¼‚å¸¸" class="sidebar-link">10.æ•æ‰å¼‚å¸¸</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_11ã€è·å–å½“å‰æ—¶é—´" class="sidebar-link">11ã€è·å–å½“å‰æ—¶é—´</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_12ã€è®¢å•ç¼–å·" class="sidebar-link">12ã€è®¢å•ç¼–å·</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_13ã€mysqlè‡ªåŠ¨å¡«å†™å½“å‰æ—¶é—´" class="sidebar-link">13ã€mysqlè‡ªåŠ¨å¡«å†™å½“å‰æ—¶é—´</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_14ã€drfåŠ¨æ€è¿‡æ»¤æŸ¥è¯¢" class="sidebar-link">14ã€drfåŠ¨æ€è¿‡æ»¤æŸ¥è¯¢</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_15ã€linuxåå°è¿è¡Œpythonç¨‹åº" class="sidebar-link">15ã€linuxåå°è¿è¡Œpythonç¨‹åº</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_16ã€è¿½åŠ å¤–é”®" class="sidebar-link">16ã€è¿½åŠ å¤–é”®</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_17ã€å†™-è¯»csvæ–‡ä»¶-æŸ¥çœ‹æ˜¯å¦å­˜åœ¨-è‹¥å­˜åœ¨å°±ä»csvä¸­åˆ é™¤" class="sidebar-link">17ã€å†™/è¯»CSVæ–‡ä»¶ï¼ŒæŸ¥çœ‹æ˜¯å¦å­˜åœ¨ï¼Œè‹¥å­˜åœ¨å°±ä»csvä¸­åˆ é™¤</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_18ã€djangoä¸­ä»requestè·å–è®¿é—®è·¯å¾„" class="sidebar-link">18ã€djangoä¸­ä»requestè·å–è®¿é—®è·¯å¾„</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_19ã€djangoæ”¶é›†é™æ€æ–‡ä»¶" class="sidebar-link">19ã€Djangoæ”¶é›†é™æ€æ–‡ä»¶</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_20ã€xadminæ’ä»¶" class="sidebar-link">20ã€xadminæ’ä»¶</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_21ã€uwsgiè‡ªåŠ¨é‡å¯" class="sidebar-link">21ã€uwsgiè‡ªåŠ¨é‡å¯</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_22ã€è°·æ­Œæµè§ˆå™¨å¿«æ·é”®" class="sidebar-link">22ã€è°·æ­Œæµè§ˆå™¨å¿«æ·é”®</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_23ã€gitå…‹éš†åˆ†æ”¯" class="sidebar-link">23ã€gitå…‹éš†åˆ†æ”¯</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_24ã€mysqlæ›´æ–°è¯­å¥ã€æ–°å¢åˆ—ã€åˆ é™¤åˆ—" class="sidebar-link">24ã€mysqlæ›´æ–°è¯­å¥ã€æ–°å¢åˆ—ã€åˆ é™¤åˆ—</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_25ã€åˆ é™¤æŒ‡å®šæ ¼å¼çš„æ–‡ä»¶" class="sidebar-link">25ã€åˆ é™¤æŒ‡å®šæ ¼å¼çš„æ–‡ä»¶</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_26ã€è®¡ç®—æ–‡ä»¶æ€»æ•°" class="sidebar-link">26ã€è®¡ç®—æ–‡ä»¶æ€»æ•°</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_27ã€è®¡ç®—æ–‡ä»¶å¤¹å¤§å°" class="sidebar-link">27ã€è®¡ç®—æ–‡ä»¶å¤¹å¤§å°</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_28ã€djangoå®ç°jsonpè·¨åŸŸ" class="sidebar-link">28ã€Djangoå®ç°jsonpè·¨åŸŸ</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_29ã€å¾®ä¿¡è·å–ç”¨æˆ·ä¿¡æ¯" class="sidebar-link">29ã€å¾®ä¿¡è·å–ç”¨æˆ·ä¿¡æ¯</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_30ã€uwsgiåˆå§‹é…ç½®é—®é¢˜" class="sidebar-link">30ã€uwsgiåˆå§‹é…ç½®é—®é¢˜</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_31ã€djangoä¸­drfåºåˆ—åŒ–" class="sidebar-link">31ã€djangoä¸­drfåºåˆ—åŒ–</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_32ã€ç¬¬ä¸‰æ–¹åº“" class="sidebar-link">32ã€ç¬¬ä¸‰æ–¹åº“</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_33ã€requestsè¯·æ±‚httpsæºå¸¦caè¯ä¹¦" class="sidebar-link">33ã€requestsè¯·æ±‚httpsæºå¸¦CAè¯ä¹¦</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_34ã€djangoåˆ›å»ºç¼“å­˜å‘½ä»¤" class="sidebar-link">34ã€djangoåˆ›å»ºç¼“å­˜å‘½ä»¤</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_35ã€django-æ›´æ”¹è¶…çº§ç”¨æˆ·å¯†ç " class="sidebar-link">35ã€Django æ›´æ”¹è¶…çº§ç”¨æˆ·å¯†ç </a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_36ã€restframeä½¿ç”¨ç¼“å­˜" class="sidebar-link">36ã€restframeä½¿ç”¨ç¼“å­˜</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_37ã€æ•°æ®åº“" class="sidebar-link">37ã€æ•°æ®åº“</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_38ã€linuxå¸¸ç”¨å‘½ä»¤" class="sidebar-link">38ã€linuxå¸¸ç”¨å‘½ä»¤</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_39ã€xadminç¦æ­¢å¢åŠ ã€åˆ é™¤" class="sidebar-link">39ã€xadminç¦æ­¢å¢åŠ ã€åˆ é™¤</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_40ã€æ—¶é—´æ ¼å¼å­—ç¬¦ä¸²ç›¸å‡" class="sidebar-link">40ã€æ—¶é—´æ ¼å¼å­—ç¬¦ä¸²ç›¸å‡</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_41ã€æ˜¾ç¤ºå¾ªç¯è¿›åº¦æ¡" class="sidebar-link">41ã€æ˜¾ç¤ºå¾ªç¯è¿›åº¦æ¡</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_42ã€æŠŠåˆ—è¡¨ä¸­çš„å­—å…¸è½¬æˆcsvæ–‡ä»¶" class="sidebar-link">42ã€æŠŠåˆ—è¡¨ä¸­çš„å­—å…¸è½¬æˆcsvæ–‡ä»¶</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_43ã€windowsæ·»åŠ å³é”®æ–°å»ºmarkdownæ–‡ä»¶" class="sidebar-link">43ã€windowsæ·»åŠ å³é”®æ–°å»ºMarkDownæ–‡ä»¶</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_44ã€redisè®¾ç½®å€¼å®šæ—¶è¿‡æœŸ" class="sidebar-link">44ã€redisè®¾ç½®å€¼å®šæ—¶è¿‡æœŸ</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_45ã€linuxæ ¹æ®ç«¯å£æ€è¿›ç¨‹" class="sidebar-link">45ã€linuxæ ¹æ®ç«¯å£æ€è¿›ç¨‹</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_46ã€ç›‘æ§linuxç½‘ç»œæµé‡" class="sidebar-link">46ã€ç›‘æ§linuxç½‘ç»œæµé‡</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_47ã€win10æ·»åŠ å³é”®æ‰“å¼€cmd" class="sidebar-link">47ã€win10æ·»åŠ å³é”®æ‰“å¼€cmd</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_48ã€xadminåå°æ— æ³•æ˜¾ç¤ºä¸‹æ‹‰æ¡†å®Œæ•´å†…å®¹" class="sidebar-link">48ã€xadminåå°æ— æ³•æ˜¾ç¤ºä¸‹æ‹‰æ¡†å®Œæ•´å†…å®¹</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_49ã€xadminå•ç‚¹ç™»å½•" class="sidebar-link">49ã€xadminå•ç‚¹ç™»å½•</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_50ã€django-restful-å¤šä¸ªmodelsæ•°æ®è¡¨åºåˆ—åŒ–åˆå¹¶è¿”å›-ä¸€æ¬¡è¯·æ±‚è¿”å›å¤šä¸ªåºåˆ—åŒ–å™¨æ•°æ®" class="sidebar-link">50ã€Django restful å¤šä¸ªmodelsæ•°æ®è¡¨åºåˆ—åŒ–åˆå¹¶è¿”å›ï¼ˆä¸€æ¬¡è¯·æ±‚è¿”å›å¤šä¸ªåºåˆ—åŒ–å™¨æ•°æ®ï¼‰</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_51ã€-djangoåºåˆ—åŒ–å™¨è¿”å›å¤–é”®å…³è”æ•°æ®" class="sidebar-link">51ã€ Djangoåºåˆ—åŒ–å™¨è¿”å›å¤–é”®å…³è”æ•°æ®</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_52ã€python-djangoé€šè¿‡user-agentåˆ¤æ–­è¯·æ±‚æ¥æºæ˜¯å¾®ä¿¡æ‰«ä¸€æ‰«æˆ–è€…æ˜¯æ”¯ä»˜å®æ‰«ä¸€æ‰«" class="sidebar-link">52ã€python Djangoé€šè¿‡User Agentåˆ¤æ–­è¯·æ±‚æ¥æºæ˜¯å¾®ä¿¡æ‰«ä¸€æ‰«æˆ–è€…æ˜¯æ”¯ä»˜å®æ‰«ä¸€æ‰«</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_53ã€xadminåå°é›†æˆ-å¯¼å…¥-æ’ä»¶-å¯¼å…¥excelæ–‡ä»¶" class="sidebar-link">53ã€xadminåå°é›†æˆâ€™å¯¼å…¥â€˜æ’ä»¶ï¼Œå¯¼å…¥excelæ–‡ä»¶</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_54ã€djangoä¸­æŸ¥æ‰¾ä»Šå¤©è¿›è´¦é‡‘é¢" class="sidebar-link">54ã€Djangoä¸­æŸ¥æ‰¾ä»Šå¤©è¿›è´¦é‡‘é¢</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_55ã€åˆ¤æ–­æ˜¯ä»€ä¹ˆç³»ç»Ÿ" class="sidebar-link">55ã€åˆ¤æ–­æ˜¯ä»€ä¹ˆç³»ç»Ÿ</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_56ã€sqlæŸ¥è¯¢" class="sidebar-link">56ã€sqlæŸ¥è¯¢</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_57ã€-xadminåå°åˆ é™¤æ•°æ®å‡ºç°é”™è¯¯" class="sidebar-link">57ã€ xadminåå°åˆ é™¤æ•°æ®å‡ºç°é”™è¯¯</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_58ã€xdaminé™åˆ¶ç”¨æˆ·ç‚¹å‡»" class="sidebar-link">58ã€xdaminé™åˆ¶ç”¨æˆ·ç‚¹å‡»</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_59ã€è·å–å…¬ä¼—å·å…³æ³¨url" class="sidebar-link">59ã€è·å–å…¬ä¼—å·å…³æ³¨url</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_60ã€xadminåå°ç”¨æˆ·æ“ä½œè¡¨æƒé™" class="sidebar-link">60ã€xadminåå°ç”¨æˆ·æ“ä½œè¡¨æƒé™</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_61ã€ä½¿ç”¨nginxéƒ¨ç½²é¡¹ç›®" class="sidebar-link">61ã€ä½¿ç”¨nginxéƒ¨ç½²é¡¹ç›®</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_62ã€xadminåå°å‘é€é‚®ä»¶æ‰¾å›å¯†ç " class="sidebar-link">62ã€xadminåå°å‘é€é‚®ä»¶æ‰¾å›å¯†ç </a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_63ã€xadminå¤–é”®ä¸‹æ‹‰æ¡†æ·»åŠ è¿‡æ»¤" class="sidebar-link">63ã€xadminå¤–é”®ä¸‹æ‹‰æ¡†æ·»åŠ è¿‡æ»¤</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_64ã€xadminå³æ—¶ç¼–è¾‘å™¨å»æ‰ç©ºæ ‡ç­¾" class="sidebar-link">64ã€xadminå³æ—¶ç¼–è¾‘å™¨å»æ‰ç©ºæ ‡ç­¾</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_65ã€ç”¨æˆ·å¢åŠ çš„å°ç»„ä»¶-è®©å…¶ä»–ç”¨æˆ·å¯è§" class="sidebar-link">65ã€ç”¨æˆ·å¢åŠ çš„å°ç»„ä»¶ï¼Œè®©å…¶ä»–ç”¨æˆ·å¯è§</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_66ã€pip-install-uwsgiå‡ºé”™" class="sidebar-link">66ã€pip install uwsgiå‡ºé”™</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_66ã€xadminåå°åŠ è½½æ•°æ®æ…¢-è§£å†³æ–¹æ¡ˆ" class="sidebar-link">66ã€xadminåå°åŠ è½½æ•°æ®æ…¢ï¼Œè§£å†³æ–¹æ¡ˆ</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_67-ã€xadminå¯¼å‡ºæ’ä»¶å¤„ç†-å¢åŠ å¯¼å‡ºå‹¾é€‰æ•°æ®é¡¹" class="sidebar-link">67 ã€xadminå¯¼å‡ºæ’ä»¶å¤„ç†ï¼Œå¢åŠ å¯¼å‡ºå‹¾é€‰æ•°æ®é¡¹</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level4"><a href="/pages/fb8510/#_1ã€åŠ è½½jsæ–‡ä»¶" class="sidebar-link">1ã€åŠ è½½jsæ–‡ä»¶</a></li><li class="sidebar-sub-header level4"><a href="/pages/fb8510/#_2ã€ä¿®æ”¹export-py-åç«¯å¤„ç†ä¸‹è½½æ–‡ä»¶" class="sidebar-link">2ã€ä¿®æ”¹export.pyï¼Œåç«¯å¤„ç†ä¸‹è½½æ–‡ä»¶</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_68ã€ä½¿ç”¨fæŸ¥è¯¢æ›´æ–°ç”¨æˆ·é‡è¦æ•°æ®" class="sidebar-link">68ã€ä½¿ç”¨FæŸ¥è¯¢æ›´æ–°ç”¨æˆ·é‡è¦æ•°æ®</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_69ã€æ—¥å¿—è¾“å‡ºæ¨¡å—" class="sidebar-link">69ã€æ—¥å¿—è¾“å‡ºæ¨¡å—</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_70ã€å­—å…¸æ’åº" class="sidebar-link">70ã€å­—å…¸æ’åº</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/fb8510/#å¯¹åˆ—è¡¨ä¸­å­—å…¸æŒ‰å¤šä¸ªé”®å€¼æ’åº" class="sidebar-link">å¯¹åˆ—è¡¨ä¸­å­—å…¸æŒ‰å¤šä¸ªé”®å€¼æ’åº</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_71ã€æ—¶é—´æ ¼å¼ä¸å­—ç¬¦ä¸²äº’è½¬ã€æ¯”è¾ƒå¤§å°" class="sidebar-link">71ã€æ—¶é—´æ ¼å¼ä¸å­—ç¬¦ä¸²äº’è½¬ã€æ¯”è¾ƒå¤§å°</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_72ã€pythonæŠŠ-u-å¼€å¤´çš„å­—ç¬¦ä¸²è½¬ä¸­æ–‡" class="sidebar-link">72ã€pythonæŠŠâ€™\uâ€™å¼€å¤´çš„å­—ç¬¦ä¸²è½¬ä¸­æ–‡</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_73ã€djangoè¿›è¡Œæ•°æ®è¿ç§»æ—¶å‡ºç°no-changes-detectedè§£å†³æ–¹æ¡ˆ" class="sidebar-link">73ã€djangoè¿›è¡Œæ•°æ®è¿ç§»æ—¶å‡ºç°No changes detectedè§£å†³æ–¹æ¡ˆ</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_74ã€ubuntuä¸‹è½½æ–‡ä»¶åˆ°windowsæ¡Œé¢" class="sidebar-link">74ã€ubuntuä¸‹è½½æ–‡ä»¶åˆ°windowsæ¡Œé¢</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_75ã€gitæŸ¥çœ‹æäº¤æ—¥å¿—" class="sidebar-link">75ã€gitæŸ¥çœ‹æäº¤æ—¥å¿—</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_76ã€pythonç¿»è¯‘æ¨¡å—" class="sidebar-link">76ã€pythonç¿»è¯‘æ¨¡å—</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_77ã€pythonå®ç°å­—ç¬¦ä¸²è½¬å­—å…¸" class="sidebar-link">77ã€pythonå®ç°å­—ç¬¦ä¸²è½¬å­—å…¸</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_78ã€django-app-å¦‚ä½•åœ¨åå°æ˜¾ç¤ºä¸­æ–‡å" class="sidebar-link">78ã€django app å¦‚ä½•åœ¨åå°æ˜¾ç¤ºä¸­æ–‡å</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_79ã€ä½¿ç”¨pythonç»™excelæŒ‡å®šè¡Œæ·»åŠ æ•°æ®" class="sidebar-link">79ã€ä½¿ç”¨pythonç»™ExcelæŒ‡å®šè¡Œæ·»åŠ æ•°æ®</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_80ã€pythonä¸­çš„formatæ ¼å¼æ‹¼æ¥å­—ç¬¦ä¸²" class="sidebar-link">80ã€pythonä¸­çš„formatæ ¼å¼æ‹¼æ¥å­—ç¬¦ä¸²</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_81ã€æ•°æ®åº“inner-joinã€full-joinã€left-joinã€unionã€union-allåŒºåˆ«" class="sidebar-link">81ã€æ•°æ®åº“inner joinã€full joinã€left joinã€unionã€union allåŒºåˆ«</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_82ã€windowsç”µè„‘æŸ¥çœ‹ç«¯å£ä½¿ç”¨æƒ…å†µ" class="sidebar-link">82ã€windowsç”µè„‘æŸ¥çœ‹ç«¯å£ä½¿ç”¨æƒ…å†µ</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_83ã€djangoç”Ÿæˆè¡¨å’Œåå‘ç”Ÿæˆmodel" class="sidebar-link">83ã€Djangoç”Ÿæˆè¡¨å’Œåå‘ç”ŸæˆModel</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_84ã€windowsçš„hostsæ–‡ä»¶ä½ç½®" class="sidebar-link">84ã€windowsçš„hostsæ–‡ä»¶ä½ç½®</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_85ã€postgresqlæ•°æ®åº“" class="sidebar-link">85ã€postgresqlæ•°æ®åº“</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_86ã€pythonæ§åˆ¶å°è¾“å‡ºå¸¦é¢œè‰²çš„æ–‡å­—æ–¹æ³•" class="sidebar-link">86ã€pythonæ§åˆ¶å°è¾“å‡ºå¸¦é¢œè‰²çš„æ–‡å­—æ–¹æ³•</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_87ã€æ§åˆ¶å°è¾“å‡ºç™½è‰²æ–¹æ¡†" class="sidebar-link">87ã€æ§åˆ¶å°è¾“å‡ºç™½è‰²æ–¹æ¡†</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_88ã€xadminåå°ç¼–è¾‘å¤šå¯¹å¤šå­—æ®µ" class="sidebar-link">88ã€xadminåå°ç¼–è¾‘å¤šå¯¹å¤šå­—æ®µ</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_89ã€djangoåå°é€šè¿‡æŒ‰é’®æ˜¾ç¤ºtextfieldå­—æ®µå†…å®¹" class="sidebar-link">89ã€Djangoåå°é€šè¿‡æŒ‰é’®æ˜¾ç¤ºTextFieldå­—æ®µå†…å®¹</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_90ã€å‰ç«¯åˆ¤æ–­ä¸Šä¼ çš„æ–‡ä»¶æ˜¯å¦ä¸ºå›¾ç‰‡ä¸”é™åˆ¶å¤§å°ä¸º300kb" class="sidebar-link">90ã€å‰ç«¯åˆ¤æ–­ä¸Šä¼ çš„æ–‡ä»¶æ˜¯å¦ä¸ºå›¾ç‰‡ä¸”é™åˆ¶å¤§å°ä¸º300kB</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_91ã€formè¡¨å•æäº¤å‰éªŒè¯" class="sidebar-link">91ã€formè¡¨å•æäº¤å‰éªŒè¯</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_92ã€æœ‰åºå­—å…¸" class="sidebar-link">92ã€æœ‰åºå­—å…¸</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_93ã€pythonåœ¨windowsç³»ç»Ÿä¸‹å®ç°tts-æ–‡å­—è½¬è¯­éŸ³" class="sidebar-link">93ã€Pythonåœ¨Windowsç³»ç»Ÿä¸‹å®ç°TTSï¼ˆæ–‡å­—è½¬è¯­éŸ³ï¼‰</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_94ã€å®šä¹‰ä¸€ä¸ªç®€å•é—¹é’Ÿ" class="sidebar-link">94ã€å®šä¹‰ä¸€ä¸ªç®€å•é—¹é’Ÿ</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_95ã€æ ¹æ®å¹´æœˆè·å–å½“æœˆå¤©æ•°" class="sidebar-link">95ã€æ ¹æ®å¹´æœˆè·å–å½“æœˆå¤©æ•°</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_96ã€djangoè·å–favicon-icoå›¾æ ‡" class="sidebar-link">96ã€Djangoè·å–favicon.icoå›¾æ ‡</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_97ã€django-é™æ€æ–‡ä»¶é…ç½®" class="sidebar-link">97ã€django é™æ€æ–‡ä»¶é…ç½®</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_98ã€django-jsonresponseè¿”å›ä¸­æ–‡æ—¶æ˜¾ç¤ºunicodeç¼–ç -u67e5-u8be2" class="sidebar-link">98ã€django JsonResponseè¿”å›ä¸­æ–‡æ—¶æ˜¾ç¤ºunicodeç¼–ç ï¼ˆ\u67e5\u8be2ï¼‰</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_99ã€è·å–å½“å‰æ—¶é—´æœˆä»½çš„é¦–æ—¥ä¸æœ€åä¸€å¤©" class="sidebar-link">99ã€è·å–å½“å‰æ—¶é—´æœˆä»½çš„é¦–æ—¥ä¸æœ€åä¸€å¤©</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_100ã€xadminåå°æ‰¹é‡æ“ä½œ" class="sidebar-link">100ã€xadminåå°æ‰¹é‡æ“ä½œ</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_101ã€xadminè¿‡æ»¤å™¨å¤–é”®æ˜¾ç¤ºç‰¹å®šå€¼-æ¯”å¦‚åªèƒ½è¿‡æ»¤è‡ªå·±ä¸è¶…çº§ç®¡ç†å‘˜å®šä¹‰çš„æ•°æ®" class="sidebar-link">101ã€xadminè¿‡æ»¤å™¨å¤–é”®æ˜¾ç¤ºç‰¹å®šå€¼ï¼ˆæ¯”å¦‚åªèƒ½è¿‡æ»¤è‡ªå·±ä¸è¶…çº§ç®¡ç†å‘˜å®šä¹‰çš„æ•°æ®ï¼‰</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_102ã€djangoä¸­çš„csrfå±€éƒ¨ç¦ç”¨" class="sidebar-link">102ã€Djangoä¸­çš„CSRFå±€éƒ¨ç¦ç”¨</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_103ã€ä½¿ç”¨pythonå‘½ä»¤åˆ›å»ºdjangoé¡¹ç›®" class="sidebar-link">103ã€ä½¿ç”¨pythonå‘½ä»¤åˆ›å»ºdjangoé¡¹ç›®</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_104ã€-äºŒç»´åˆ—è¡¨ã€äºŒç»´æ•°ç»„è¡Œæ±‚å’Œä¸åˆ—æ±‚å’Œ" class="sidebar-link">104ã€ äºŒç»´åˆ—è¡¨ã€äºŒç»´æ•°ç»„è¡Œæ±‚å’Œä¸åˆ—æ±‚å’Œ</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_105ã€è·å–æ—¶é—´å­—ç¬¦ä¸²çš„æœˆä»½æ•°" class="sidebar-link">105ã€è·å–æ—¶é—´å­—ç¬¦ä¸²çš„æœˆä»½æ•°</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_106ã€å­—ç¬¦ä¸²ä¸è¶³è¡¥é›¶" class="sidebar-link">106ã€å­—ç¬¦ä¸²ä¸è¶³è¡¥é›¶</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_107ã€æ—¶é—´æˆ³è½¬å­—ç¬¦ä¸²æ—¥æœŸ" class="sidebar-link">107ã€æ—¶é—´æˆ³è½¬å­—ç¬¦ä¸²æ—¥æœŸ</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_108ã€åˆ—è¡¨è½¬å­—ç¬¦ä¸²" class="sidebar-link">108ã€åˆ—è¡¨è½¬å­—ç¬¦ä¸²</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_109ã€pipå›½å†…é•œåƒæº" class="sidebar-link">109ã€pipå›½å†…é•œåƒæº</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_110ã€pythonæŠŠæ—¶é—´å­—ç¬¦ä¸²è½¬æ¢æˆåˆšåˆšã€1å¤©å‰ã€3ä¸ªæœˆå‰ã€1å¹´å‰" class="sidebar-link">110ã€pythonæŠŠæ—¶é—´å­—ç¬¦ä¸²è½¬æ¢æˆåˆšåˆšã€1å¤©å‰ã€3ä¸ªæœˆå‰ã€1å¹´å‰</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_111ã€djangoä½¿ç”¨ormæ‰§è¡Œsqlè¯­å¥" class="sidebar-link">111ã€Djangoä½¿ç”¨ORMæ‰§è¡Œsqlè¯­å¥</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_112ã€djangoé€šè¿‡å˜é‡å­—æ®µè·å–æ•°æ®" class="sidebar-link">112ã€Djangoé€šè¿‡å˜é‡å­—æ®µè·å–æ•°æ®</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_113ã€djangoæŸ¥è¯¢å˜é‡å­—æ®µã€æ›´æ–°å˜é‡å­—æ®µ" class="sidebar-link">113ã€DjangoæŸ¥è¯¢å˜é‡å­—æ®µã€æ›´æ–°å˜é‡å­—æ®µ</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_114ã€vueç”Ÿæˆdistæ–‡ä»¶" class="sidebar-link">114ã€vueç”Ÿæˆdistæ–‡ä»¶</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_115ã€pythonè·å–ç”µè„‘ç£ç›˜ã€cpuã€å†…å­˜ä½¿ç”¨æƒ…å†µ" class="sidebar-link">115ã€pythonè·å–ç”µè„‘ç£ç›˜ã€CPUã€å†…å­˜ä½¿ç”¨æƒ…å†µ</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_116ã€maxæ¯”è¾ƒå­—å…¸åˆ—è¡¨" class="sidebar-link">116ã€maxæ¯”è¾ƒå­—å…¸åˆ—è¡¨</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_117ã€djangoæŸ¥è¯¢è¡¨çš„å…·ä½“å­—æ®µ" class="sidebar-link">117ã€djangoæŸ¥è¯¢è¡¨çš„å…·ä½“å­—æ®µ</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_118ã€mysqlæŸ¥è¯¢æ•°æ®æ·»åŠ è‡ªå¢åºå·" class="sidebar-link">118ã€MySQLæŸ¥è¯¢æ•°æ®æ·»åŠ è‡ªå¢åºå·</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_119ã€mysql-æ—¶é—´æˆªå–å¹´æœˆæ—¥" class="sidebar-link">119ã€MySQL æ—¶é—´æˆªå–å¹´æœˆæ—¥</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_120ã€-åˆ—è¡¨å–å¥‡æ•°ä¸‹æ ‡å€¼" class="sidebar-link">120ã€ åˆ—è¡¨å–å¥‡æ•°ä¸‹æ ‡å€¼</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_121ã€åˆ—è¡¨å–å¶æ•°ä¸‹æ ‡å€¼" class="sidebar-link">121ã€åˆ—è¡¨å–å¶æ•°ä¸‹æ ‡å€¼</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_122ã€åˆ—è¡¨ç›¸åŒå…ƒç´ åˆ†ç±»ã€åˆ†ç»„" class="sidebar-link">122ã€åˆ—è¡¨ç›¸åŒå…ƒç´ åˆ†ç±»ã€åˆ†ç»„</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_123ã€ubuntuåˆ‡æ¢ç”¨æˆ·" class="sidebar-link">123ã€ubuntuåˆ‡æ¢ç”¨æˆ·</a></li><li class="sidebar-sub-header level2"><a href="/pages/fb8510/#_124ã€numpyäºŒç»´æ•°ç»„è·å–æŸä¸€åˆ—" class="sidebar-link">124ã€numpyäºŒç»´æ•°ç»„è·å–æŸä¸€åˆ—</a></li></ul></li></ul></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="é¦–é¡µ" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/categories/?category=%E6%8A%80%E6%9C%AF" title="åˆ†ç±»" data-v-06225672>æŠ€æœ¯</a></li><li data-v-06225672><a href="/categories/?category=collection" title="åˆ†ç±»" data-v-06225672>collection</a></li></ul> <div class="info" data-v-06225672><div title="ä½œè€…" class="author iconfont icon-touxiang" data-v-06225672><a href="https://github.com/Li-Jennifer" target="_blank" title="ä½œè€…" class="beLink" data-v-06225672>Jennifer</a></div> <div title="åˆ›å»ºæ—¶é—´" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2022-09-06</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">ç›®å½•</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABKFJREFUSA3tVl1oFVcQnrMbrak3QUgkya1akpJYcrUtIqW1JvFBE9LiQ5v6JmJpolbMg32rVrhgoYK0QiMY6i9Y6EMaW5D+xFJaTYItIuK2Kr3+BJNwkxBj05sQY3b3nM6cs2dv9t7NT/vQJw/sndk5M/PNzJkzewGerP+pAmy+ON8lLzUJgA8ZYxYIYZmGYRnctDaWvJJAmTtfP1pvXsBCCPP8QFcCaRkZYACgDZFO4stNIcBCajEOlmmC9XpJ9bAGCaPaPmzPl32dvLSVu3BWCTQs0XQQ6g0DYgwLIoAZbBCdW/i+781o1VVlm/410mw4h06Y7bIPHNyWDyL4FHkX03Q8SrzNhZTZriieckWt7cL6MM85YcLpsi/7O9/iXFT6MswI0DmmpkSaJ0qLxFIm3+i1THHB3zmBH3PYx9CcykcLOeQVVa7QtdxTgQgEleX2AjHYfwA+2ddV77ruGoJUbhGDI09YSNXyMpUt5ylOzxgbUmtOp7NmbNt8v3arjTBfYELmLUV+M+nSawNNAUqpT3ClJWg5I3BLT+cGW/DXNGCa6tx1aakCGEigArTn4TDIPdrXXYKCZNrHLMCOEPvHBlLQ99s9eHB7EB6NTki73CVPQ2F5MSx/uRQixfmq7rK0wYD8w8E905bnPDfwoWs/rfv93NWN/ZfvwsLIU7A09gxECyISeGJkHAau98L97tuw7NXnoPyNF8FcYGLGKsOs0mN3OEyec9esGW/ZEl945dTP34wlR2FZVQWU1q0Cw8Tr7p+hgLLNL0FPxx/Q35mA8aEUrH6nCgwEl0tn7wUiZYJnNRh6DK4UH/k0lfyrsBKdPVv/AriGIQcEDQZ65LBAGe2Rzui9Ybjz7XUppz1/uKBbyVPGkN3ZAeC6hr0x7Nr38N5+EqkoOm17xpoqR9ohQF55ERSvr4Dkr3chNfC3DMzGJlNBElW8w9nsGQvhNGIzDkXzCg8cLK951xHsFBlTJspJNi3ZFIMF2AeDV3q8DNOB+YHi6QTrChDIWDBRi5U5f+ZMfJLu3ccrqxtdxk4SKH336LFxSmkqefwU5T8fhdSdQf9IVKD6aNiwI/hnmcAZ91isYMJIaCUCx9W098+LgruikeTqzqqxKPUwqJyCPJiyemVVZBOijDGjD38Os0jOiSPL1z3SPjXNANbiNPXAdzTfukjjuknNBbyz3nwgTd3AVFqUJ5hpHlq9MveLnWwttUfoygBmvVjuikxND3znrhsELnZk7k+OjIGxeNEkomyLVta0xxn+HZhjBc4YZ/AFjHjz9u3xRZl2BN4aq9nFwWh16IrQ1aHHEd3j1+4/dB9OtH4e29A2H1DyHQRmOSfQZ1Fy7MHBTGB6J/Djq6p3OxyO2cB+4Car7v/o3GXgfAkj23+x9ID1Teoamo/SXcbvSf2PX7Vc8DdCmE1vN9di+32P9/5YR3vLnhCVGUWBjEkr3yh4H8v9CzmsbdhzOKzsJKM90iFdaTMjRPhGVsakRvOaRidljo6H6G7j+ctrJpsP+4COhDIl0La2+FS4+5mlocBaXY5QnGZysIBYoeSsl5qQzrSj/cgNrfuEzlWBfwA+EjrZyWUvpAAAAABJRU5ErkJggg==">pythonç»„ä»¶<!----></h1> <!----> <div class="theme-vdoing-content content__default"><h2 id="_1-ç”Ÿæˆ6ä½æ•°å­—éšæœºéªŒè¯ç "><a href="#_1-ç”Ÿæˆ6ä½æ•°å­—éšæœºéªŒè¯ç " class="header-anchor">#</a> 1. ç”Ÿæˆ6ä½æ•°å­—éšæœºéªŒè¯ç </h2> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">import</span> random
<span class="token keyword">import</span> string


<span class="token keyword">def</span> <span class="token function">num_code</span><span class="token punctuation">(</span>length<span class="token operator">=</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;
    ç”Ÿæˆé•¿åº¦ä¸ºlengthçš„æ•°å­—éšæœºéªŒè¯ç 
    :param length: éªŒè¯ç é•¿åº¦
    :return: éªŒè¯ç 
    &quot;&quot;&quot;</span>
    
    <span class="token keyword">return</span> <span class="token string">''</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>random<span class="token punctuation">.</span>choice<span class="token punctuation">(</span>string<span class="token punctuation">.</span>digits<span class="token punctuation">)</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> length<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="_2-md5åŠ å¯†"><a href="#_2-md5åŠ å¯†" class="header-anchor">#</a> 2.md5åŠ å¯†</h2> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">import</span>  hashlib


<span class="token comment"># md5åŠ å¯†</span>
<span class="token keyword">def</span> <span class="token function">md5_encrypt</span><span class="token punctuation">(</span>en_str<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;
    ä½¿ç”¨md5äºŒæ¬¡åŠ å¯†ç”Ÿæˆ32ä½çš„å­—ç¬¦ä¸²
    :param en_str: éœ€è¦åŠ å¯†çš„å­—ç¬¦ä¸²
    :return: åŠ å¯†åçš„å­—ç¬¦ä¸²
    &quot;&quot;&quot;</span>
   
    md5 <span class="token operator">=</span> hashlib<span class="token punctuation">.</span>md5<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># ä½¿ç”¨MD5åŠ å¯†æ¨¡å¼</span>
    md5<span class="token punctuation">.</span>update<span class="token punctuation">(</span>en_str<span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># å°†å‚æ•°å­—ç¬¦ä¸²ä¼ å…¥</span>
    md5<span class="token punctuation">.</span>update<span class="token punctuation">(</span>md5<span class="token punctuation">.</span>hexdigest<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># md5äºŒæ¬¡åŠ å¯†</span>
    <span class="token keyword">return</span> md5<span class="token punctuation">.</span>hexdigest<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h2 id="_3-ç”Ÿæˆå”¯ä¸€token"><a href="#_3-ç”Ÿæˆå”¯ä¸€token" class="header-anchor">#</a> 3. ç”Ÿæˆå”¯ä¸€token</h2> <div class="language- extra-class"><pre><code>import uuid
import  hashlib

def only_token():
    &quot;&quot;&quot;
    ä½¿ç”¨md5åŠ å¯†uuidç”Ÿæˆå”¯ä¸€çš„32ä½token
    :return: åŠ å¯†åçš„å­—ç¬¦ä¸²
    &quot;&quot;&quot;
md5 = hashlib.md5()  # ä½¿ç”¨MD5åŠ å¯†æ¨¡å¼
md5.update(str(uuid.uuid1()).encode('utf-8'))  
return md5.hexdigest()
</code></pre></div><h2 id="_4ã€å‘é€æ‰‹æœºéªŒè¯ç "><a href="#_4ã€å‘é€æ‰‹æœºéªŒè¯ç " class="header-anchor">#</a> 4ã€å‘é€æ‰‹æœºéªŒè¯ç </h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>#éªŒè¯ç ç®¡ç†è¡¨
class AuthCode(models.Model):
    name = models.CharField(max_length=10,default=None, null=True, blank=True,verbose_name='å§“å')
    phone = models.CharField(max_length=11, unique=True, verbose_name='æ‰‹æœºå·')
    code = models.CharField(max_length=6,verbose_name='éªŒè¯ç ')
    purpose = models.IntegerField(default=0,verbose_name='ç”¨é€”:0-&gt;æ³¨å†ŒéªŒè¯ 1-&gt;æ‰¾å›å¯†ç  2-&gt;å…¶å®ƒ')
    sendNum = models.IntegerField(default=0,verbose_name='å‘é€æ¬¡æ•°')
    isCanGet = models.BooleanField(default=0,verbose_name='0-&gt;å¯ä»¥è·å–,1-&gt;ä¸å¯ä»¥è·å–')
    recentlySendTime = models.DateTimeField(auto_now_add=True,verbose_name='æœ€è¿‘ä¸€æ¬¡å‘é€æ—¶é—´')
    creation_time = models.DateTimeField(auto_now=True, verbose_name='åˆ›å»ºæ—¶é—´')

    class Meta:
        verbose_name = 'æ‰‹æœºéªŒè¯ç '
        verbose_name_plural = verbose_name

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="å®ç°é€»è¾‘"><a href="#å®ç°é€»è¾‘" class="header-anchor">#</a> å®ç°é€»è¾‘</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>import http.client
import urllib
# ä½¿ç”¨äº’äº¿æ— çº¿
host = &quot;106.ihuyi.com&quot;
sms_send_uri = &quot;/webservice/sms.php?method=Submit&quot;

# æŸ¥çœ‹ç”¨æˆ·å ç™»å½•ç”¨æˆ·ä¸­å¿ƒ-&gt;éªŒè¯ç é€šçŸ¥çŸ­ä¿¡&gt;äº§å“æ€»è§ˆ-&gt;APIæ¥å£ä¿¡æ¯-&gt;APIID
account = &quot;ä½ çš„ç”¨æˆ·å&quot;
# æŸ¥çœ‹å¯†ç  ç™»å½•ç”¨æˆ·ä¸­å¿ƒ-&gt;éªŒè¯ç é€šçŸ¥çŸ­ä¿¡&gt;äº§å“æ€»è§ˆ-&gt;APIæ¥å£ä¿¡æ¯-&gt;APIKEY
password = &quot;ä½ çš„å¯†ç &quot;


def send_sms(text, mobile):
    text = f&quot;æ‚¨çš„éªŒè¯ç æ˜¯ï¼š{text}ã€‚è¯·ä¸è¦æŠŠéªŒè¯ç æ³„éœ²ç»™å…¶ä»–äººã€‚&quot;
    params = urllib.parse.urlencode(
        {'account': account, 'password': password, 'content': text, 'mobile': mobile, 'format': 'json'})
    headers = {&quot;Content-type&quot;: &quot;application/x-www-form-urlencoded&quot;, &quot;Accept&quot;: &quot;text/plain&quot;}
    conn = http.client.HTTPConnection(host, port=80, timeout=30)
    conn.request(&quot;POST&quot;, sms_send_uri, params, headers)
    response = conn.getresponse()
    response_str = response.read()
    conn.close()
    return response_str


if __name__ == '__main__':
    mobile = &quot;æ‰‹æœºå·&quot;
    text = '123122'

    print(json.loads(send_sms(text, mobile).decode('utf-8')))

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><h2 id="_5ã€ç”ŸæˆäºŒç»´ç "><a href="#_5ã€ç”ŸæˆäºŒç»´ç " class="header-anchor">#</a> 5ã€ç”ŸæˆäºŒç»´ç </h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>import qrcode
import io

def maker_qrcode(url):
    &quot;&quot;&quot;
    ç”ŸæˆäºŒç»´ç 
    :param url: éœ€è¦ç”ŸæˆäºŒç»´ç çš„url
    :return: è¿”å›å›¾ç‰‡å­—èŠ‚æµ
    &quot;&quot;&quot;
    image = qrcode.make(url)  # åˆ›å»ºäºŒç»´ç ç‰‡

    buffer = io.BytesIO()
    # å°†å›¾ç‰‡å†…å®¹ä¸¢å…¥å®¹å™¨
    image.save(buffer, 'png')
    # è¿”å›å®¹å™¨å†…çš„å­—èŠ‚
    return buffer.getvalue()
    
æˆ–è€…
from .settings import BASE_DIR

def create_qrcode(name, url):
    &quot;&quot;&quot;
    ç”Ÿæˆæœºå™¨æ‰«ç æ”¯ä»˜äºŒç»´ç 
    :param name: å›¾ç‰‡åç§°
    :param url: æ”¯ä»˜è·¯ç”±
    :return:
    &quot;&quot;&quot;
    img = qrcode.make(url, border=0)  # åˆ›å»ºäºŒç»´ç ç‰‡
    save_path = BASE_DIR + '/' + name + '.png'
    print(save_path)
    img.save(save_path)
    return img


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><h2 id="_6-å¾®ä¿¡ç¾¤å‘"><a href="#_6-å¾®ä¿¡ç¾¤å‘" class="header-anchor">#</a> 6.å¾®ä¿¡ç¾¤å‘</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code># coding=utf8
import itchat, time

itchat.auto_login(True)

SINCERE_WISH = u'ç¥%sæ–°å¹´å¿«ä¹ï¼'

friendList = itchat.get_friends(update=True)[35:]
count = 0

for  index,friend in enumerate(friendList):
    print(index,friend['DisplayName'],friend['NickName'])
    itchat.send(SINCERE_WISH % (friend['DisplayName']
                                or friend['NickName']), friend['UserName'])
    time.sleep(2)
    print('å¤‡æ³¨åç§°',friend['DisplayName'],'æ˜µç§°',friend['NickName'],'ç”¨æˆ·å',friend['UserName'])

print(&quot;----end----&quot;)

&quot;&quot;&quot;
# å‘é€æ–‡æœ¬
itchat.send('Hello, WeChat!')
# å‘é€å›¾ç‰‡
itchat.send_image('my_picture.png')
# å‘é€è§†é¢‘
itchat.send_video('my_video.mov')
# å‘é€æ–‡ä»¶
itchat.send_file('my_file.zip')

&quot;&quot;&quot;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><h2 id="_7ã€å¾®ä¿¡è‡ªåŠ¨å›å¤"><a href="#_7ã€å¾®ä¿¡è‡ªåŠ¨å›å¤" class="header-anchor">#</a> 7ã€å¾®ä¿¡è‡ªåŠ¨å›å¤</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code># -*- coding=utf-8 -*-
import requests
import itchat
import random
#å›¾çµæœºå™¨äºº
#http://www.tuling123.com/member/robot/1380138/center/frame.jhtml?page=0&amp;child=0è·å–apikey
KEY = 'ä½ çš„KEY'

def get_response(msg):
    apiUrl = 'http://www.tuling123.com/openapi/api'
    data = {
        'key'    : KEY,
        'info'   : msg,
        'userid' : 'wechat-robot',
    }
    try:
        r = requests.post(apiUrl, data=data).json()
        return r.get('text')
    except:
        return

@itchat.msg_register(itchat.content.TEXT)
def tuling_reply(msg):
    defaultReply = 'I received: ' + msg['Text']
    robots=['','','']
    reply = get_response(msg['Text'])+random.choice(robots)
    return reply or defaultReply

itchat.auto_login(enableCmdQR=False)
itchat.run()
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><h2 id="_8ã€æå–djangoä¸­modelä¸­çš„å­—æ®µåå˜æˆå­—å…¸ã€åˆ—è¡¨"><a href="#_8ã€æå–djangoä¸­modelä¸­çš„å­—æ®µåå˜æˆå­—å…¸ã€åˆ—è¡¨" class="header-anchor">#</a> 8ã€æå–Djangoä¸­modelä¸­çš„å­—æ®µåå˜æˆå­—å…¸ã€åˆ—è¡¨</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>import re
t = &quot;&quot;&quot;
    goods_id = models.IntegerField(verbose_name='å•†å“ç¼–å·')
    label_code = models.CharField(max_length=20, verbose_name='å•†å“æ ‡ç­¾')
&quot;&quot;&quot;
# å­—å…¸
print({k:None for k in re.findall('([a-z_A-Z]+)\s=\s',t)})
# åˆ—è¡¨
# print([k for k in re.findall('([a-z_A-Z]+)\s=\s',t)])

è¾“å‡º
{'goods_id': None, 'lable_code': None}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="_9ã€æ•°æ®åº“ä¸­ç»™è¡¨åˆ›å»ºæ•°æ®"><a href="#_9ã€æ•°æ®åº“ä¸­ç»™è¡¨åˆ›å»ºæ•°æ®" class="header-anchor">#</a> 9ã€æ•°æ®åº“ä¸­ç»™è¡¨åˆ›å»ºæ•°æ®</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>import pymysql

def createData(dataDict,tableName):
    &quot;&quot;&quot;
    ç»™æ•°æ®è¡¨åˆ›å»ºæ•°æ®
    :param dataDict: å­—å…¸
    :param tableName: è¡¨å
    :return: 
    &quot;&quot;&quot;
    #è¿æ¥æ•°æ®åº“
    conn = pymysql.connect(
        host='192.168.0.188', #æ•°æ®åº“æ‰€åœ¨åœ°å€URL
        user='root', #ç”¨æˆ·å
        password='123456', #å¯†ç 
        database='åç§°', #æ•°æ®åº“åç§°
        port=3306,  #ç«¯å£å·
        charset='utf8'
    )
    #æ‹¿åˆ°æŸ¥è¯¢æ¸¸æ ‡
    cursor = conn.cursor()
    clos,value = zip(*dataDict.items())
    sql = &quot;INSERT INTO `%s`(%s) VALUES (%s)&quot; % (tableName,
                                                ','.join(clos),
                                                ','.join(['%s'] * len(value))
                                                )
    print(sql)
    cursor.execute(sql, value)
    conn.commit()
    cursor.close()
    conn.close()
    print('Done')
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><h2 id="_10-æ•æ‰å¼‚å¸¸"><a href="#_10-æ•æ‰å¼‚å¸¸" class="header-anchor">#</a> 10.æ•æ‰å¼‚å¸¸</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>try:
    pass
except å¼‚å¸¸ç±»å‹ as e:
    pass
finally:
    pass
    
    
å¼‚å¸¸ç±»å‹
Exception  å…¨éƒ¨å¼‚å¸¸
AttributeError è¯•å›¾è®¿é—®ä¸€ä¸ªå¯¹è±¡æ²¡æœ‰çš„å±æ€§ï¼Œæ¯”å¦‚foo.xï¼Œä½†æ˜¯fooæ²¡æœ‰å±æ€§x
IOError è¾“å…¥/è¾“å‡ºå¼‚å¸¸ï¼›åŸºæœ¬ä¸Šæ˜¯æ— æ³•æ‰“å¼€æ–‡ä»¶
ImportError æ— æ³•å¼•å…¥æ¨¡å—æˆ–åŒ…ï¼›åŸºæœ¬ä¸Šæ˜¯è·¯å¾„é—®é¢˜æˆ–åç§°é”™è¯¯
IndentationError è¯­æ³•é”™è¯¯ï¼ˆçš„å­ç±»ï¼‰ ï¼›ä»£ç æ²¡æœ‰æ­£ç¡®å¯¹é½
IndexError ä¸‹æ ‡ç´¢å¼•è¶…å‡ºåºåˆ—è¾¹ç•Œï¼Œæ¯”å¦‚å½“xåªæœ‰ä¸‰ä¸ªå…ƒç´ ï¼Œå´è¯•å›¾è®¿é—®x[5]
KeyError è¯•å›¾è®¿é—®å­—å…¸é‡Œä¸å­˜åœ¨çš„é”®
KeyboardInterrupt Ctrl+Cè¢«æŒ‰ä¸‹
NameError ä½¿ç”¨ä¸€ä¸ªè¿˜æœªè¢«èµ‹äºˆå¯¹è±¡çš„å˜é‡
SyntaxError Pythonä»£ç éæ³•ï¼Œä»£ç ä¸èƒ½ç¼–è¯‘(ä¸ªäººè®¤ä¸ºè¿™æ˜¯è¯­æ³•é”™è¯¯ï¼Œå†™é”™äº†ï¼‰
TypeError ä¼ å…¥å¯¹è±¡ç±»å‹ä¸è¦æ±‚çš„ä¸ç¬¦åˆ
UnboundLocalError è¯•å›¾è®¿é—®ä¸€ä¸ªè¿˜æœªè¢«è®¾ç½®çš„å±€éƒ¨å˜é‡ï¼ŒåŸºæœ¬ä¸Šæ˜¯ç”±äºå¦æœ‰ä¸€ä¸ªåŒåçš„å…¨å±€å˜é‡ï¼Œå¯¼è‡´ä½ ä»¥ä¸ºæ­£åœ¨è®¿é—®å®ƒ
ValueError ä¼ å…¥ä¸€ä¸ªè°ƒç”¨è€…ä¸æœŸæœ›çš„å€¼ï¼Œå³ä½¿å€¼çš„ç±»å‹æ˜¯æ­£ç¡®çš„

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h2 id="_11ã€è·å–å½“å‰æ—¶é—´"><a href="#_11ã€è·å–å½“å‰æ—¶é—´" class="header-anchor">#</a> 11ã€è·å–å½“å‰æ—¶é—´</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>import datetime

current_time = str(datetime.datetime.now())[:19]
print(current_time)

è¾“å‡ºæ ¼å¼å¦‚ï¼š2018-10-20 10:01:43
local_time = time.strftime('%Y%m%d%H%M%S', time.localtime(time.time()))
print(local_time)

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="_12ã€è®¢å•ç¼–å·"><a href="#_12ã€è®¢å•ç¼–å·" class="header-anchor">#</a> 12ã€è®¢å•ç¼–å·</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>from random import Random
import time

def random_str(randomlength=8):
    str = ''
    chars = 'AaBbCcDdEeFfGgHhIiJjKkLlMmNnOoPpQqRrSsTtUuVvWwXxYyZz0123456789'
    length = len(chars) - 1
    random = Random()
    for i in range(randomlength):
        str+=chars[random.randint(0, length)]
    return str

def order_num():
    &quot;&quot;&quot;
    ç”Ÿæˆä»˜æ¬¾è®¢å•å·
    :return:
    &quot;&quot;&quot;
    local_time = time.strftime('%Y%m%d%H%M%S', time.localtime(time.time()))
    result = local_time + random_str(5)
    return result


print(order_num())
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h2 id="_13ã€mysqlè‡ªåŠ¨å¡«å†™å½“å‰æ—¶é—´"><a href="#_13ã€mysqlè‡ªåŠ¨å¡«å†™å½“å‰æ—¶é—´" class="header-anchor">#</a> 13ã€mysqlè‡ªåŠ¨å¡«å†™å½“å‰æ—¶é—´</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>CURRENT_TIMESTAMP
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="https://img-blog.csdnimg.cn/20190312172747658.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xtX2lzX2Rj,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>ä¸ºè¡¨æ·»åŠ ç´¢å¼•

ALTER table tableName ADD INDEX indexName(columnName)

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="_14ã€drfåŠ¨æ€è¿‡æ»¤æŸ¥è¯¢"><a href="#_14ã€drfåŠ¨æ€è¿‡æ»¤æŸ¥è¯¢" class="header-anchor">#</a> 14ã€drfåŠ¨æ€è¿‡æ»¤æŸ¥è¯¢</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code># page.py

from rest_framework.pagination import PageNumberPagination


class UserPagination(PageNumberPagination):
    &quot;&quot;&quot;ç”¨æˆ·åˆ†é¡µå™¨&quot;&quot;&quot;
    page_size = 10  # é»˜è®¤çš„é¡µé¢æ•°æ®æ•°é‡
    page_query_param = 'page'  # å®šåˆ¶å–æ•°æ®é¡µç key 
    page_size_query_param = 'page_size'  # é»˜è®¤å–æ•°æ®é¡µç key 
    max_page_size = 15   # æ•°æ®æ¯é¡µå–å€¼çš„æœ€å¤§ä¸Šé™



# serializers.py

from rest_framework import serializers

from user.models import UserInfo

class UserSerializers(serializers.ModelSerializer):
    &quot;&quot;&quot;ç”¨æˆ·æ”¶è´§åœ°å€&quot;&quot;&quot;

    class Meta:
        model = UserInfo
	    # æ‰€æœ‰å­—æ®µ
        #fields = '__all__'
        fields = ['name', 'code', 'title',  'province', 'city',
                    'quxian', 'address', 'code__gte', 'code__lte']
        # æ˜¾ç¤ºå¤–é”®
        depth = 2


# views.py
class MachineViews(APIView):
    def get(self, request, *args, **kwargs):
        # ä»å‰ç«¯è·å–å‡ºæ¥çš„è¿‡æ»¤å‚æ•°ï¼Œè§£ææˆå­—å…¸ä¼ è¿›filter()å‡½æ•°ä¸­
        # åŠ¨æ€è¿‡æ»¤ï¼Œ
        kwargs = {}
        # è¡¨ä¸­çš„å­—æ®µå
        columns = ['name', 'code', 'title',  'province', 'city',
                    'quxian', 'address', 'code__gte', 'code__lte']
        for k, v in request.query_params.items():
            if k not in columns:
                return Response('å‚æ•°ä¸å¯¹', status=status.HTTP_400_BAD_REQUEST)
			if v:
            	kwargs[k] = v

        users = UserInfo.objects.filter(**kwargs)
        page = UserPagination()
        page_goods_list = page.paginate_queryset(users, self.request, self)
        ser = UserSerializers(page_goods_list, many=True)
        return page.get_paginated_response(ser.data)
        

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br></div></div><h2 id="_15ã€linuxåå°è¿è¡Œpythonç¨‹åº"><a href="#_15ã€linuxåå°è¿è¡Œpythonç¨‹åº" class="header-anchor">#</a> 15ã€linuxåå°è¿è¡Œpythonç¨‹åº</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>nohup /home/project_venv/user/bin/python3 -u /home/user/user_server.py &gt;&gt; /home/user/user.log 2&gt;&amp;1 &amp;   

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="_16ã€è¿½åŠ å¤–é”®"><a href="#_16ã€è¿½åŠ å¤–é”®" class="header-anchor">#</a> 16ã€è¿½åŠ å¤–é”®</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>ALTER TABLE tb_commentPhoto ADD CONSTRAINT FK_comment_phone
FOREIGN KEY tb_goodsComment(id) REFERENCES tb_commentPhoto(comment_id);

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="_17ã€å†™-è¯»csvæ–‡ä»¶-æŸ¥çœ‹æ˜¯å¦å­˜åœ¨-è‹¥å­˜åœ¨å°±ä»csvä¸­åˆ é™¤"><a href="#_17ã€å†™-è¯»csvæ–‡ä»¶-æŸ¥çœ‹æ˜¯å¦å­˜åœ¨-è‹¥å­˜åœ¨å°±ä»csvä¸­åˆ é™¤" class="header-anchor">#</a> 17ã€å†™/è¯»CSVæ–‡ä»¶ï¼ŒæŸ¥çœ‹æ˜¯å¦å­˜åœ¨ï¼Œè‹¥å­˜åœ¨å°±ä»csvä¸­åˆ é™¤</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>import csv
import random
import string


def create_invite_code(random_code_pool=None, length=6, num=10, is_append=False):
    &quot;&quot;&quot;
    åˆ›å»ºéšæœºé‚€è¯·ç ,å¹¶å†™å…¥txtæ–‡ä»¶
    :param: random_code_pool éšæœºé‚€è¯·ç 
    :param: length é‚€è¯·ç é•¿åº¦
    :param: num é‚€è¯·ç ä¸ªæ•°
    :param: is_append Trueè¿½åŠ ,False è¦†ç›–
    :return:
    &quot;&quot;&quot;
    if not random_code_pool:
        code_pool = string.ascii_uppercase + string.digits
        random_code_pool = []
        for i in range(num):
            s = ''
            for _ in range(length):
                s += random.choice(code_pool)
            if s and s not in random_code_pool:
                random_code_pool.append(s)

    # å†™å…¥æ–¹æ³•ã€‚æ˜¯è¿½åŠ è¿˜æ˜¯è¦†ç›–
    write_method = 'a+' if is_append else 'w'
    # å†™å…¥æ–‡ä»¶
    with open('./invite_code.csv', write_method, newline='') as f:
        writer = csv.writer(f)
        for rowData in random_code_pool:
            # æŒ‰è¡Œå†™å…¥
            writer.writerow((rowData,))


def check_invite_code(code):
    &quot;&quot;&quot;
    æŸ¥çœ‹é‚€è¯·ç æ˜¯å¦å­˜åœ¨txtæ–‡ä»¶ä¸­ï¼Œ
    è‹¥å­˜åœ¨å°±è¿”å›Trueï¼Œå¹¶åœ¨txtæ–‡ä»¶ä¸­åˆ é™¤
    è‹¥ä¸å­˜åœ¨å°±è¿”å›False
    :param code:
    :return:
    &quot;&quot;&quot;
    code_pool = []
    with open('./invite_code.csv', 'r', encoding='utf-8',errors='ignore') as f:
        allFileInfo = csv.reader(f)
        for row in allFileInfo:
            code_pool.append(row[0])

    if code in code_pool:
        # åˆ é™¤æŸ¥è¯¢çš„code
        code_pool.pop(code_pool.index(code))

        # é‡æ–°å†™å…¥æ–‡ä»¶
        create_invite_code(code_pool,is_append=False)
        return True
    return False


if __name__ == '__main__':
    # create_invite_code(length=9,num=100)
    print(check_invite_code('WJ4PSTJG2'))


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br></div></div><h2 id="_18ã€djangoä¸­ä»requestè·å–è®¿é—®è·¯å¾„"><a href="#_18ã€djangoä¸­ä»requestè·å–è®¿é—®è·¯å¾„" class="header-anchor">#</a> 18ã€djangoä¸­ä»requestè·å–è®¿é—®è·¯å¾„</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>print('è·å–ç›¸å¯¹è·¯å¾„', request.get_full_path())
print('è·å–ç»å¯¹è·¯å¾„', request.build_absolute_uri())
print(request.build_absolute_uri('?'))
print(request.build_absolute_uri('/')[:-1].strip(&quot;/&quot;))
print(request.build_absolute_uri('/').strip(&quot;/&quot;))
print(request.build_absolute_uri('/'))
print('----------')
print(request.META['HTTP_HOST'])
print(request.META['PATH_INFO'])
print(request.META['QUERY_STRING'])
iphost = request.META.get('REMOTE_ADDR', '')  # è·å–è®¿é—®æ¥æºIP


# è¾“å‡ºå¦‚ï¼š
è·å–ç›¸å¯¹è·¯å¾„ /QRcode/?d=1
è·å–ç»å¯¹è·¯å¾„ http://127.0.0.1:8000/QRcode/?d=1
http://127.0.0.1:8000/QRcode/
http://127.0.0.1:8000
http://127.0.0.1:8000
http://127.0.0.1:8000/
----------
127.0.0.1:8000
/QRcode/
d=1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><h2 id="_19ã€djangoæ”¶é›†é™æ€æ–‡ä»¶"><a href="#_19ã€djangoæ”¶é›†é™æ€æ–‡ä»¶" class="header-anchor">#</a> 19ã€Djangoæ”¶é›†é™æ€æ–‡ä»¶</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>å…ˆåœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªstaticæ–‡ä»¶å¤¹
ç„¶ååœ¨settings.pyä¸­è®¾ç½®
STATIC_ROOT = os.path.join(BASE_DIR, 'static')
æœ€åæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼š
python manage.py collectstatic
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="_20ã€xadminæ’ä»¶"><a href="#_20ã€xadminæ’ä»¶" class="header-anchor">#</a> 20ã€xadminæ’ä»¶</h2> <p>https://www.cnblogs.com/lanqie/p/8340215.html</p> <h2 id="_21ã€uwsgiè‡ªåŠ¨é‡å¯"><a href="#_21ã€uwsgiè‡ªåŠ¨é‡å¯" class="header-anchor">#</a> 21ã€uwsgiè‡ªåŠ¨é‡å¯</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>[uwsgi]
# ä½¿ç”¨nginxè¿æ¥æ—¶ ä½¿ç”¨
socket=0.0.0.0:2019
# ç›´æ¥ä½œä¸ºwebæœåŠ¡å™¨ä½¿ç”¨
#http=0.0.0.1:8000
# é…ç½®å·¥ç¨‹ç›®å½•
chdir=/home/user
# é…ç½®é¡¹ç›®çš„wsgiç›®å½•ã€‚ç›¸å¯¹äºå·¥ç¨‹ç›®å½•
wsgi-file=user/wsgi.py
virtualenv=/home/project_venv/user
#é…ç½®è¿›ç¨‹ï¼Œçº¿ç¨‹ä¿¡æ¯
processes=1
threads=1
enable-threads=True
master=True
pidfile=uwsgi.pid
daemonize=uwsgi.log
#å¯åŠ¨uwsgiçš„ç”¨æˆ·åå’Œç”¨æˆ·ç»„
uid=root
gid=root
#uwsgiè‡ªåŠ¨é‡å¯
py-autoreload=1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h2 id="_22ã€è°·æ­Œæµè§ˆå™¨å¿«æ·é”®"><a href="#_22ã€è°·æ­Œæµè§ˆå™¨å¿«æ·é”®" class="header-anchor">#</a> 22ã€è°·æ­Œæµè§ˆå™¨å¿«æ·é”®</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>æµè§ˆå™¨ç¼“å­˜

Ctrl+Shift+Del  æ¸…é™¤Googleæµè§ˆå™¨ç¼“å­˜çš„å¿«æ·é”®

Ctrl+Shift+R  é‡æ–°åŠ è½½å½“å‰ç½‘é¡µè€Œä¸ä½¿ç”¨ç¼“å­˜å†…å®¹

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="_23ã€gitå…‹éš†åˆ†æ”¯"><a href="#_23ã€gitå…‹éš†åˆ†æ”¯" class="header-anchor">#</a> 23ã€gitå…‹éš†åˆ†æ”¯</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>git clone -b dev åœ°å€ 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="_24ã€mysqlæ›´æ–°è¯­å¥ã€æ–°å¢åˆ—ã€åˆ é™¤åˆ—"><a href="#_24ã€mysqlæ›´æ–°è¯­å¥ã€æ–°å¢åˆ—ã€åˆ é™¤åˆ—" class="header-anchor">#</a> 24ã€mysqlæ›´æ–°è¯­å¥ã€æ–°å¢åˆ—ã€åˆ é™¤åˆ—</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>update user set name='å¼ ä¸‰' where id=111
# åˆ é™¤
DELETE FROM table_name [WHERE Clause]

# å¢åŠ å­—æ®µ
alter table è¡¨å add column åˆ—å ç±»å‹;
# åˆ é™¤å­—æ®µ
alter table è¡¨å dropcolumn åˆ—å ;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="_25ã€åˆ é™¤æŒ‡å®šæ ¼å¼çš„æ–‡ä»¶"><a href="#_25ã€åˆ é™¤æŒ‡å®šæ ¼å¼çš„æ–‡ä»¶" class="header-anchor">#</a> 25ã€åˆ é™¤æŒ‡å®šæ ¼å¼çš„æ–‡ä»¶</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>import os
import re


def remove_specified_format_file(file_dir, format_name):
    &quot;&quot;&quot;
    åˆ é™¤æŒ‡å®šæ ¼å¼çš„æ–‡ä»¶
    :param file_dir: æ–‡ä»¶æ ¹ç›®å½•
    :param format_name: æ ¼å¼
    :return:
    &quot;&quot;&quot;
    for root, dirs, files in os.walk(file_dir):
        # print(root) #å½“å‰ç›®å½•è·¯å¾„
        # print(dirs) #å½“å‰è·¯å¾„ä¸‹æ‰€æœ‰å­ç›®å½•
        # print(files) #å½“å‰è·¯å¾„ä¸‹æ‰€æœ‰éç›®å½•å­æ–‡ä»¶
        for file in files:
            if re.match(format_name, file):
                print(os.path.join(root, file))
                os.remove(os.path.join(root, file))


remove_specified_format_file(r'D:\å­¦ä¹ \LDC\java', r'\._*')
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h2 id="_26ã€è®¡ç®—æ–‡ä»¶æ€»æ•°"><a href="#_26ã€è®¡ç®—æ–‡ä»¶æ€»æ•°" class="header-anchor">#</a> 26ã€è®¡ç®—æ–‡ä»¶æ€»æ•°</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>import os


def file_count(file_dir):
    &quot;&quot;&quot;
    
    :param file_dir: æ–‡ä»¶æ ¹ç›®å½•
    :return:
    &quot;&quot;&quot;
    count = 0
    for root, dirs, files in os.walk(file_dir):
        # print(root) #å½“å‰ç›®å½•è·¯å¾„
        # print(dirs) #å½“å‰è·¯å¾„ä¸‹æ‰€æœ‰å­ç›®å½•
        # print(files) #å½“å‰è·¯å¾„ä¸‹æ‰€æœ‰éç›®å½•å­æ–‡ä»¶
        count += len(files)
    return count


print(file_count(r'D:\å­¦ä¹ \LDC\java\Javaå­¦ä¹ \newEstore\estore\js'))
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h2 id="_27ã€è®¡ç®—æ–‡ä»¶å¤¹å¤§å°"><a href="#_27ã€è®¡ç®—æ–‡ä»¶å¤¹å¤§å°" class="header-anchor">#</a> 27ã€è®¡ç®—æ–‡ä»¶å¤¹å¤§å°</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>import os

def file_size(file_dir):
    &quot;&quot;&quot;
    åˆ é™¤æŒ‡å®šæ ¼å¼çš„æ–‡ä»¶
    :param file_dir: æ–‡ä»¶æ ¹ç›®å½•
    :return:
    &quot;&quot;&quot;
    size = 0
    for root, dirs, files in os.walk(file_dir):
        # print(root) #å½“å‰ç›®å½•è·¯å¾„
        # print(dirs) #å½“å‰è·¯å¾„ä¸‹æ‰€æœ‰å­ç›®å½•
        # print(files) #å½“å‰è·¯å¾„ä¸‹æ‰€æœ‰éç›®å½•å­æ–‡ä»¶
        for file in files:
            size += os.path.getsize(os.path.join(root, file))
	# Mä¸ºå•ä½
    return size / 1024 / 1024


file_name = r'D:\å­¦ä¹ '
print(file_size(file_name))
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h2 id="_28ã€djangoå®ç°jsonpè·¨åŸŸ"><a href="#_28ã€djangoå®ç°jsonpè·¨åŸŸ" class="header-anchor">#</a> 28ã€Djangoå®ç°jsonpè·¨åŸŸ</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code># html
$.ajax({
                    url: 'è¯·æ±‚è·¯ç”±',
                    type: 'GET',
                    dataType: 'JSONP',
                    data:{
                      code: 'yes',
                    },
                    jsonp: 'callback',
                    success: function(res) {
                       var selectData = $.parseJSON(res);
                       alert(selectData);
                    },
                    error: function(err) {

                    }
                })

# views.py
def get(self, request, *args, **kwargs):
        code = request.GET.get('code', '')
        # è·¨åŸŸè¯·æ±‚
        callback = request.GET.get('callback', '')
        return HttpResponse(&quot;%s('%s')&quot; % (callback, json.dumps({'code': code})), status=status.HTTP_200_OK)
                    
corsè§£å†³è·¨åŸŸ

https://www.cnblogs.com/wxiaoyu/p/9578848.html
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><h2 id="_29ã€å¾®ä¿¡è·å–ç”¨æˆ·ä¿¡æ¯"><a href="#_29ã€å¾®ä¿¡è·å–ç”¨æˆ·ä¿¡æ¯" class="header-anchor">#</a> 29ã€å¾®ä¿¡è·å–ç”¨æˆ·ä¿¡æ¯</h2> <p>å‚è€ƒï¼šhttps://blog.csdn.net/weixin_39735923/article/details/79202563</p> <h2 id="_30ã€uwsgiåˆå§‹é…ç½®é—®é¢˜"><a href="#_30ã€uwsgiåˆå§‹é…ç½®é—®é¢˜" class="header-anchor">#</a> 30ã€uwsgiåˆå§‹é…ç½®é—®é¢˜</h2> <p>https://blog.csdn.net/weixin_39735923/article/details/79202563</p> <h2 id="_31ã€djangoä¸­drfåºåˆ—åŒ–"><a href="#_31ã€djangoä¸­drfåºåˆ—åŒ–" class="header-anchor">#</a> 31ã€djangoä¸­drfåºåˆ—åŒ–</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code># åºåˆ—åŒ–å™¨
class MsgSerializers(serializers.ModelSerializer):
    addtime = serializers.DateTimeField(read_only=True, format=&quot;%Y-%m-%d %H:%M:%S&quot;)
    hasread = serializers.CharField(source='get_hasread_display')
    msgtype = serializers.CharField(source='get_msgtype_display')
    class Meta:
        model = MallMsg
        # å¯ä»¥æ··åˆä½¿ç”¨
        fields = '__all__'  # '__all__' æ‰€æœ‰å­—æ®µ
        # æ•°æ®åº“å±‚çº§æ§åˆ¶ï¼ˆåºåˆ—åŒ–é“¾è¡¨æ“ä½œï¼‰
        # depth = 1  # å¤–é”®å±‚çº§


#åˆ†é¡µå™¨
from rest_framework.pagination import PageNumberPagination


class MyLimitOffsetPagination(PageNumberPagination):

    page_size = 3  # é»˜è®¤çš„é¡µé¢æ•°æ®æ•°é‡
    page_query_param = 'page'  # å®šåˆ¶å–æ•°æ®é¡µç key ï¼Ÿ
    page_size_query_param = 'page_size'  # é»˜è®¤å–æ•°æ®é¡µç key &amp;
    max_page_size = 15  # æ•°æ®æ¯é¡µå–å€¼çš„æœ€å¤§ä¸Šé™
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h2 id="_32ã€ç¬¬ä¸‰æ–¹åº“"><a href="#_32ã€ç¬¬ä¸‰æ–¹åº“" class="header-anchor">#</a> 32ã€ç¬¬ä¸‰æ–¹åº“</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>å®‰è£…openssl
 pip3 install pyOpenSSL
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="_33ã€requestsè¯·æ±‚httpsæºå¸¦caè¯ä¹¦"><a href="#_33ã€requestsè¯·æ±‚httpsæºå¸¦caè¯ä¹¦" class="header-anchor">#</a> 33ã€requestsè¯·æ±‚httpsæºå¸¦CAè¯ä¹¦</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>import OpenSSL
import requests
import urllib3.contrib.pyopenssl

urllib3.contrib.pyopenssl.inject_into_urllib3()

def p12_to_pem(certname, pwd):
    &quot;&quot;&quot;
    ä».p12æ–‡ä»¶ä¸­æå–pem
    :param certname:
    :param pwd:
    :return:
    &quot;&quot;&quot;
    pem_name = certname + &quot;.pem&quot;
    f_pem = open(pem_name, 'wb')
    p12file = certname + &quot;.p12&quot;
    p12 = OpenSSL.crypto.load_pkcs12(open(p12file, 'rb').read(), pwd)
    f_pem.write(OpenSSL.crypto.dump_privatekey(OpenSSL.crypto.FILETYPE_PEM, p12.get_privatekey()))
    f_pem.write(OpenSSL.crypto.dump_certificate(OpenSSL.crypto.FILETYPE_PEM, p12.get_certificate()))
    ca = p12.get_ca_certificates()
    if ca is not None:
        for cert in ca:
            f_pem.write(OpenSSL.crypto.dump_certificate(OpenSSL.crypto.FILETYPE_PEM, cert))
    f_pem.close()
    return pem_name


def post_cert_request(url, data,header, certname, pwd):
    &quot;&quot;&quot;
    ä½¿ç”¨è¯ä¹¦å‘èµ·httpsè¯·æ±‚
    :param url:
    :param data:
    :param certname:
    :param pwd:
    :return:
    &quot;&quot;&quot;
    if (certname != &quot;&quot;):
        cert = p12_to_pem(certname, pwd)
    else:
        cert = None
    r = requests.post(url, header=header, data=data, cert=cert)
    return r
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br></div></div><h2 id="_34ã€djangoåˆ›å»ºç¼“å­˜å‘½ä»¤"><a href="#_34ã€djangoåˆ›å»ºç¼“å­˜å‘½ä»¤" class="header-anchor">#</a> 34ã€djangoåˆ›å»ºç¼“å­˜å‘½ä»¤</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>python manage.py createcachetable ç¼“å­˜è¡¨å
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="_35ã€django-æ›´æ”¹è¶…çº§ç”¨æˆ·å¯†ç "><a href="#_35ã€django-æ›´æ”¹è¶…çº§ç”¨æˆ·å¯†ç " class="header-anchor">#</a> 35ã€Django æ›´æ”¹è¶…çº§ç”¨æˆ·å¯†ç </h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>åœ¨å·¥ç¨‹æ–‡ä»¶ç›®å½•ä¸‹æ•²å…¥ï¼š
python manage.py shell

å†åœ¨pythonäº¤äº’ç•Œé¢è¾“å…¥ï¼š
from django.contrib.auth.models import User
user = User.objects.get(username = 'ç”¨æˆ·å')
user.set_password('å¯†ç ')
user.save()
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="_36ã€restframeä½¿ç”¨ç¼“å­˜"><a href="#_36ã€restframeä½¿ç”¨ç¼“å­˜" class="header-anchor">#</a> 36ã€restframeä½¿ç”¨ç¼“å­˜</h2> <p>https://blog.csdn.net/Odyssues_lee/article/details/80872586</p> <h2 id="_37ã€æ•°æ®åº“"><a href="#_37ã€æ•°æ®åº“" class="header-anchor">#</a> 37ã€æ•°æ®åº“</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>select * from user  where ISNULL(code)
update user set code='111',info='å¾®ä¿¡' where ISNULL(code)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="_38ã€linuxå¸¸ç”¨å‘½ä»¤"><a href="#_38ã€linuxå¸¸ç”¨å‘½ä»¤" class="header-anchor">#</a> 38ã€linuxå¸¸ç”¨å‘½ä»¤</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>tail -f æ—¥å¿—å  å®æ—¶ç›‘æ§æ—¥å¿—
tail -f 80_v10.log

netstat -na|grep 80  æŸ¥çœ‹ç«¯å£tcpè¿æ¥æ•°
netstat -na|grep 80 | wc -l è®¡ç®—ç«¯å£tcpè¿æ¥æ•°

ps -ef|grep python  æŸ¥çœ‹æœ‰å¤šå°‘pythonç¨‹åºåœ¨è¿è¡Œ

gunzip 2015.csv.gz   # è§£å‹
unzip 19.zip # è§£å‹zip
wc -l 2015.csv   # æŸ¥çœ‹è¡Œæ•°
apt install lrzsz  # å®‰è£…
sz æ–‡ä»¶å  # ä¸‹è½½æ–‡ä»¶

æŸ¥æ‰¾æ–‡ä»¶
find / -name æ–‡ä»¶å

åŒ¹é…æ‰§è¡Œè¿‡çš„ä»¥findä¸ºå¼€å¤´çš„å‘½ä»¤
history | grep find
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h2 id="_39ã€xadminç¦æ­¢å¢åŠ ã€åˆ é™¤"><a href="#_39ã€xadminç¦æ­¢å¢åŠ ã€åˆ é™¤" class="header-anchor">#</a> 39ã€xadminç¦æ­¢å¢åŠ ã€åˆ é™¤</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code># models.py
# ç”¨æˆ·ç®¡ç†
class UserManage(models.Model):
    name = models.CharField(max_length=20, verbose_name='ç”¨æˆ·å')
    phone = models.CharField(max_length=11, unique=True, verbose_name='æ‰‹æœºå·')
    code = models.CharField(max_length=11, unique=True, verbose_name='ç¼–å·')
    
    user = models.ForeignKey(User, on_delete=models.CASCADE, editable=False, null=True, verbose_name='ç®¡ç†å‘˜')

# adminx.py
# ç”¨æˆ·åˆ—è¡¨
class UserAdmin(object):
    list_display = [ 'code', 'phone', 'name',]
    search_fields = ['code', 'phone']
    list_filter = ['code', 'phone']
    list_editable = ['name']  # æ•°æ®å³æ—¶ç¼–è¾‘
    readonly_fields = ['code', 'phone', 'name']  # åªè¯»å­—æ®µï¼Œä¸èƒ½ç¼–è¾‘
    model_icon = 'fa fa-square'
    model = UserInfo
    
    def has_delete_permission(self, *args, **kwargs):
    	# ç¦æ­¢åˆ é™¤
        if args:
            return True
        return False
    
	def has_add_permission(self,*args,**kwargs):
		# ç¦æ­¢å¢åŠ 
        return False
        
    def save_models(self):
    	# ç”¨æˆ·çº§åˆ«è®¾ç½®
        self.new_obj.user = self.request.user
        flag = self.org_obj is None and 'create' or 'change'
        if flag == 'create':
        	# å¯¹å¯†ç å­—æ®µè¿›è¡ŒåŠ å¯†
            self.new_obj.password = encrypt_oracle(self.new_obj.password)
        elif flag == 'change':
            if 'password' in self.change_message():
                self.new_obj.password = encrypt_oracle(self.new_obj.password)
        else:
        	pass
        super().save_models()

xadmin.site.register(UserInfo, UserAdmin)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br></div></div><h2 id="_40ã€æ—¶é—´æ ¼å¼å­—ç¬¦ä¸²ç›¸å‡"><a href="#_40ã€æ—¶é—´æ ¼å¼å­—ç¬¦ä¸²ç›¸å‡" class="header-anchor">#</a> 40ã€æ—¶é—´æ ¼å¼å­—ç¬¦ä¸²ç›¸å‡</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>import datetime
import time

start = str(datetime.datetime.now())[:19]
time.sleep(60)
end = str(datetime.datetime.now())[:19]
print(start,end)
link_start = datetime.datetime.strptime(start, '%Y-%m-%d %H:%M:%S')
link_end = datetime.datetime.strptime(end, '%Y-%m-%d %H:%M:%S')
link_min = round((link_end - link_start).seconds / 60, 2)
print(link_min,'åˆ†é’Ÿ')

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="_41ã€æ˜¾ç¤ºå¾ªç¯è¿›åº¦æ¡"><a href="#_41ã€æ˜¾ç¤ºå¾ªç¯è¿›åº¦æ¡" class="header-anchor">#</a> 41ã€æ˜¾ç¤ºå¾ªç¯è¿›åº¦æ¡</h2> <p>å‚è€ƒï¼šhttps://blog.csdn.net/zejianli/article/details/77915751</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>from tqdm import tqdm,trange
from time import sleep
text = &quot;&quot;
for char in tqdm([&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;]):
    text = text + char
    sleep(1)
    
    
# æ–¹å¼äºŒ
import time


def process_bar(percent, index, total,start_time, start_str='', end_str='', total_length=100):
    # è¿›åº¦æ¡
    percent_length = int(percent)
    bar = '\r' + start_str + ('\033[1;31;41m \033[0m' * percent_length + '\033[1;37;47m \033[0m' * (
                total_length - percent_length)) + f'  {round(index / total * 100, 2)}%  ' + f' {index}|{end_str}'+ f'   |å·²è¿›è¡Œæ—¶é—´: {round(time.time() - start_time, 2)}ç§’'

    print(bar, end='', flush=True)


if __name__ == '__main__':
    data_set = [i for i in range(23)]
    i = 0
    start_time = time.time()
    total = len(data_set)
    end_str = '{}'.format(total)
    for data in data_set:
        time.sleep(1)
        i += 1
        process_bar(i * 100 / total, i, total, start_time, start_str='', end_str=end_str, total_length=100)

# æ–¹å¼ä¸‰
import sys
import time

d = [i for i in range(100)]
for i in range(len(d)):
    time.sleep(1)
    sys.stdout.write('\r&gt;&gt; Downloading  %.2f%%' % (float(i) / float(len(d)) * 100.0))
sys.stdout.flush()

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br></div></div><h2 id="_42ã€æŠŠåˆ—è¡¨ä¸­çš„å­—å…¸è½¬æˆcsvæ–‡ä»¶"><a href="#_42ã€æŠŠåˆ—è¡¨ä¸­çš„å­—å…¸è½¬æˆcsvæ–‡ä»¶" class="header-anchor">#</a> 42ã€æŠŠåˆ—è¡¨ä¸­çš„å­—å…¸è½¬æˆcsvæ–‡ä»¶</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>import pandas as pd
lists = [{'a':1,'b':2},{'a':2,'b':3}]
df = pd.DataFrame(lists)
print(df)
df.to_csv('result2.csv')

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="_43ã€windowsæ·»åŠ å³é”®æ–°å»ºmarkdownæ–‡ä»¶"><a href="#_43ã€windowsæ·»åŠ å³é”®æ–°å»ºmarkdownæ–‡ä»¶" class="header-anchor">#</a> 43ã€windowsæ·»åŠ å³é”®æ–°å»ºMarkDownæ–‡ä»¶</h2> <p>åœ¨ç½‘ä¸Šä¸‹è½½Typoraè½¯ä»¶å®‰è£…å
1ã€åœ¨æ¡Œé¢ä¸Šæ–°å»ºä¸€ä¸ªtxtæ–‡ä»¶ï¼Œè¾“å…¥ä»¥ä¸‹å†…å®¹ï¼š</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>Windows Registry Editor Version 5.00
[HKEY_CLASSES_ROOT\.md\ShellNew]
&quot;NullFile&quot;=&quot;&quot;
&quot;FileName&quot;=&quot;template.md&quot;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>2ã€å¦å­˜ä¸ºï¼Œæ”¹åç¼€ä¸º.regï¼Œä¿å­˜ç±»å‹ä¸º.txtï¼Œç¼–ç ä¸ºUnicode</p> <p><img src="https://img-blog.csdnimg.cn/20200526232015169.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> <p>3ã€åŒå‡»è¿è¡Œï¼Œç¡®å®šï¼Œé‡å¯ç”µè„‘ï¼Œæ­¤æ—¶åœ¨æ¡Œé¢å³é”®å°±æœ‰äº†æ–°å»ºmdæ–‡ä»¶</p> <h2 id="_44ã€redisè®¾ç½®å€¼å®šæ—¶è¿‡æœŸ"><a href="#_44ã€redisè®¾ç½®å€¼å®šæ—¶è¿‡æœŸ" class="header-anchor">#</a> 44ã€redisè®¾ç½®å€¼å®šæ—¶è¿‡æœŸ</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>import datetime
import redis

redis_client = redis.Redis(
    host='127.0.0.1',
    port=6379,
    db=0,
    password='123456'
)

def redis_set():
    &quot;&quot;&quot;
    redisè®¾ç½®å€¼å®šæ—¶è¿‡æœŸ
    :return:
    &quot;&quot;&quot;
    global redis_client

    redis_client.set('name','ldc')
    now = datetime.datetime.now()
    # è®¾ç½®â€˜nameâ€™50ç§’è¿‡æœŸ
    expire_time = now + datetime.timedelta(hours=0, minutes=0, seconds=50)
    redis_client.expireat('name', expire_time)


if __name__ == '__main__':
    redis_set()

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><h2 id="_45ã€linuxæ ¹æ®ç«¯å£æ€è¿›ç¨‹"><a href="#_45ã€linuxæ ¹æ®ç«¯å£æ€è¿›ç¨‹" class="header-anchor">#</a> 45ã€linuxæ ¹æ®ç«¯å£æ€è¿›ç¨‹</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>import os


def killport(port):
    command = '''kill -9 $(netstat -nlp | grep :''' + str(port) + ''' | awk '{print $7}' | awk -F&quot;/&quot; '{ print $1 }')'''
    os.system(command)


# å¼€å§‹æ‰§è¡Œ
if __name__ == '__main__':
    port = 4237
    killport(port)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="_46ã€ç›‘æ§linuxç½‘ç»œæµé‡"><a href="#_46ã€ç›‘æ§linuxç½‘ç»œæµé‡" class="header-anchor">#</a> 46ã€ç›‘æ§linuxç½‘ç»œæµé‡</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>iftop -n -N -i eth0


nethogs eth0


vim +/å­—ç¬¦ä¸² æ–‡ä»¶

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="_47ã€win10æ·»åŠ å³é”®æ‰“å¼€cmd"><a href="#_47ã€win10æ·»åŠ å³é”®æ‰“å¼€cmd" class="header-anchor">#</a> 47ã€win10æ·»åŠ å³é”®æ‰“å¼€cmd</h2> <p>é€šè¿‡æ·»åŠ æ³¨å†Œè¡¨é¡¹å®ç°</p> <p>win + r è¾“å…¥ regedit</p> <p>æ‰¾åˆ°æ³¨å†Œè¡¨ä½ç½®ï¼šHKEY_CLASSES_ROOT\Directory\Background\shell\</p> <p>å³é”®â€œshelâ€l,æ–°å»ºâ€œé¡¹â€ï¼Œå‘½åä¸ºâ€œä»¥ç®¡ç†å‘˜èº«ä»½æ‰“å¼€cmdâ€ï¼Œ</p> <p>å³é”®â€œä»¥ç®¡ç†å‘˜èº«ä»½æ‰“å¼€cmdâ€ï¼Œæ–°å»ºâ€œDWORD(32ä½)å€¼â€ï¼Œå‘½åä¸º&quot;ShowBasedOnVelocityId&quot;,å€¼ä¸ºâ€œ639bc8â€</p> <p>å³é”®â€œä»¥ç®¡ç†å‘˜èº«ä»½æ‰“å¼€cmdâ€ï¼Œæ–°å»ºâ€œé¡¹â€ï¼Œå‘½åä¸ºâ€œcommandâ€</p> <p>å³é”®â€œcommandâ€ï¼Œç‚¹å‡»â€œé»˜è®¤â€ï¼Œç‚¹å‡»â€œä¿®æ”¹â€ï¼Œå¡«å†™æ•°å€¼ä¸º cmd.exe /s /k pushd â€œ%Vâ€</p> <h2 id="_48ã€xadminåå°æ— æ³•æ˜¾ç¤ºä¸‹æ‹‰æ¡†å®Œæ•´å†…å®¹"><a href="#_48ã€xadminåå°æ— æ³•æ˜¾ç¤ºä¸‹æ‹‰æ¡†å®Œæ•´å†…å®¹" class="header-anchor">#</a> 48ã€xadminåå°æ— æ³•æ˜¾ç¤ºä¸‹æ‹‰æ¡†å®Œæ•´å†…å®¹</h2> <p>è§£å†³æ–¹æ¡ˆ åœ¨æ ¹ç›®å½•ä¸­æ‰¾åˆ°/static/xadmin/vendor/selectize/selectize.bootstrap3.css
åœ¨331è¡ŒååŠ å…¥ position: static;</p> <p><img src="https://img-blog.csdnimg.cn/20190704184201572.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xtX2lzX2Rj,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> <h2 id="_49ã€xadminå•ç‚¹ç™»å½•"><a href="#_49ã€xadminå•ç‚¹ç™»å½•" class="header-anchor">#</a> 49ã€xadminå•ç‚¹ç™»å½•</h2> <p>ä½¿ç”¨ä¸­é—´ä»¶å®ç°ã€‚</p> <p>æ–°å»ºä¸€ä¸ªutils.pyæ–‡ä»¶ï¼Œå­˜æ”¾ä»¥ä¸‹ä»£ç ï¼š</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>    from django.contrib.sessions.models import Session
    from django.db.models import Q
    from django.utils import timezone
    from django.utils.deprecation import MiddlewareMixin
    
    
    class XadminMiddleware(MiddlewareMixin):
        def process_request(self, request):
            &quot;&quot;&quot;xadminåå°å•ç‚¹ç™»å½•&quot;&quot;&quot;
            PATH_INFO = request.META.get('PATH_INFO', '')
            if PATH_INFO and 'xadmin' in PATH_INFO:
                request.session.clear_expired()   # æ¸…é™¤è¿‡æœŸçš„key
                session_key = request.session.session_key
                for session in Session.objects.filter(~Q(session_key=session_key), expire_date__gte=timezone.now()):
                    data = session.get_decoded()
                    if data.get('_auth_user_id', None) == str(request.user.id):
                        session.delete()

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>ç„¶ååœ¨urls.pyä¸­è®¾ç½®ï¼š</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>    urlpatterns = [
    ...
    re_path('^xadmin/', xadmin.site.urls),
    ...
    ]
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>ç„¶ååœ¨settings.pyä¸­æ³¨å†Œä¸­é—´ä»¶</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>    MIDDLEWARE = [
    ...
    
    'utils.xadminauth.XadminMiddleware',
    ...
    ]
	SESSION_COOKIE_AGE = 1209600  # è®¾ç½®è¿‡æœŸæ—¶é—´
    SESSION_SAVE_EVERY_REQUEST = Ture  # æ¯æ¬¡è¯·æ±‚éƒ½æ›´æ–°

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>ã€å‚è€ƒã€‘ https://blog.csdn.net/Python_anning</p> <h2 id="_50ã€django-restful-å¤šä¸ªmodelsæ•°æ®è¡¨åºåˆ—åŒ–åˆå¹¶è¿”å›-ä¸€æ¬¡è¯·æ±‚è¿”å›å¤šä¸ªåºåˆ—åŒ–å™¨æ•°æ®"><a href="#_50ã€django-restful-å¤šä¸ªmodelsæ•°æ®è¡¨åºåˆ—åŒ–åˆå¹¶è¿”å›-ä¸€æ¬¡è¯·æ±‚è¿”å›å¤šä¸ªåºåˆ—åŒ–å™¨æ•°æ®" class="header-anchor">#</a> 50ã€Django restful å¤šä¸ªmodelsæ•°æ®è¡¨åºåˆ—åŒ–åˆå¹¶è¿”å›ï¼ˆä¸€æ¬¡è¯·æ±‚è¿”å›å¤šä¸ªåºåˆ—åŒ–å™¨æ•°æ®ï¼‰</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code># å¯¼å…¥ç¬¬ä¸‰æ–¹åŒ…
pip install django-crispy-forms==1.7.2

# åœ¨settings.pyä¸­æ·»åŠ åº”ç”¨
INSTALLED_APPS = [
...
'drf_multiple_model',
'rest_framework',
...
]

# åœ¨views.pyä¸­ä½¿ç”¨
    from drf_multiple_model.pagination import MultipleModelLimitOffsetPagination
    from drf_multiple_model.views import ObjectMultipleModelAPIView
    
    
    class LimitPagination(MultipleModelLimitOffsetPagination):
        # å¤šä¸ªmodelsæ•°æ®è¡¨è”åˆæŸ¥è¯¢ï¼Œåˆ†é¡µï¼Œæ¯é¡µé™åˆ¶æ•°æ®10æ¡
        default_limit = 10
        
    class StudentSerializers(serializers.ModelSerializer):
        &quot;&quot;&quot;å­¦ç”Ÿè¡¨åºåˆ—åŒ–å™¨&quot;&quot;&quot;
        # merchant = MerchantSerializers()
        
        register_time = serializers.DateTimeField(read_only=True, format=&quot;%Y-%m-%d %H:%M:%S&quot;)
       
        class Meta:
            model = Student
            fields = '__all__'
    class ClassesSerializers(serializers.ModelSerializer):
        &quot;&quot;&quot;ç­çº§è¡¨åºåˆ—åŒ–å™¨&quot;&quot;&quot;
        # merchant = MerchantSerializers()
        
        add_time = serializers.DateTimeField(read_only=True, format=&quot;%Y-%m-%d %H:%M:%S&quot;)
       
        class Meta:
            model = Classes
            fields = '__all__'
    
    class SchoolSerializers(serializers.ModelSerializer):
        &quot;&quot;&quot;å­¦æ ¡è¡¨åºåˆ—åŒ–å™¨&quot;&quot;&quot;
        # merchant = MerchantSerializers()
        
        add_time = serializers.DateTimeField(read_only=True, format=&quot;%Y-%m-%d %H:%M:%S&quot;)
       
        class Meta:
            model = School
            fields = '__all__'      
            
    
    class StudentInfo(ObjectMultipleModelAPIView):
        # è·å–å­¦ç”Ÿä¿¡æ¯ï¼Œç­çº§ä¿¡æ¯ï¼Œå­¦æ ¡ä¿¡æ¯
    
        def get(self, request, *args, **kwargs):
            uid = request.GET.get('uid', '')  # å­¦ç”Ÿid
            cid = request.GET.get('cid', '')  # ç­çº§id
            sid = request.GET.get('sid', '')  # å­¦æ ¡id
            
            self.querylist = [
                {'queryset': Student.objects.filter(id=uid).order_by('-id'),
                    'serializer_class':  StudentSerializers, 'label': 'student', },
                {'queryset': Classes.objects.filter(id=cid).order_by('-id'),
                    'serializer_class':  ClassesSerializers, 'label': 'classes', },
                {'queryset': School.objects.filter(id=sid).order_by('-id'),
                    'serializer_class':  SchoolSerializers, 'label': 'school', },
            ]
    
            return self.list(request, *args, **kwargs)
    
        pagination_class = LimitPagination
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br></div></div><h2 id="_51ã€-djangoåºåˆ—åŒ–å™¨è¿”å›å¤–é”®å…³è”æ•°æ®"><a href="#_51ã€-djangoåºåˆ—åŒ–å™¨è¿”å›å¤–é”®å…³è”æ•°æ®" class="header-anchor">#</a> 51ã€ Djangoåºåˆ—åŒ–å™¨è¿”å›å¤–é”®å…³è”æ•°æ®</h2> <p>é€šè¿‡ related_name='goods_priceâ€™æŠŠä¸¤ä¸ªè¡¨å…³è”èµ·æ¥ï¼Œå½“è¿”å›Goodsçš„ä¿¡æ¯æ—¶ä¹Ÿä¼šè¿”å›ç›¸åº”çš„GoodsPriceä¿¡æ¯</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>    class GoodsPriceSerializers(serializers.ModelSerializer):
        &quot;&quot;&quot;å•†å“ä»·æ ¼è¡¨åºåˆ—åŒ–å™¨&quot;&quot;&quot;
        
        class Meta:
            model = GoodsPrice
            fields = ['price']
    
    class GoodsSerializers(serializers.ModelSerializer):
        &quot;&quot;&quot;å•†å“è¡¨åºåˆ—åŒ–å™¨&quot;&quot;&quot;
        
        goods_price = GoodsPriceSerializers(many=True, read_only=True)
    
        class Meta:
            model = Goods
            fields = ['title','goods_price']
            depth = 2
    
    class Goods(models.Model):
        &quot;&quot;&quot;å•†å“è¡¨&quot;&quot;&quot;
        title = models.CharField(max_length=50, verbose_name='å•†å“åç§°')
    
        class Meta:
            db_table = 'goods'
            verbose_name = 'å•†å“ä¿¡æ¯è¡¨'
            verbose_name_plural = verbose_name
    
        def __str__(self):
            return self.title
    
    class GoodsPrice(models.Model):
        &quot;&quot;&quot;å•†å“ä»·æ ¼è¡¨,é€šè¿‡å¤–é”®å…³è”å•†å“ä¿¡æ¯è¡¨&quot;&quot;&quot;
    
        price = models.DecimalField(max_digits=10, decimal_places=2, default=0, verbose_name='å”®ä»·')
        goods = models.ForeignKey(to='Goods', related_name='goods_price', on_delete=models.SET_NULL, blank=True, null=True,verbose_name='å•†å“')
    
        def __str__(self):
            return str(self.price)
    
        class Meta:
            managed = True
            db_table = 'goodsPrice'
            verbose_name = 'å•†å“å”®ä»·'
            verbose_name_plural = verbose_name
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br></div></div><h2 id="_52ã€python-djangoé€šè¿‡user-agentåˆ¤æ–­è¯·æ±‚æ¥æºæ˜¯å¾®ä¿¡æ‰«ä¸€æ‰«æˆ–è€…æ˜¯æ”¯ä»˜å®æ‰«ä¸€æ‰«"><a href="#_52ã€python-djangoé€šè¿‡user-agentåˆ¤æ–­è¯·æ±‚æ¥æºæ˜¯å¾®ä¿¡æ‰«ä¸€æ‰«æˆ–è€…æ˜¯æ”¯ä»˜å®æ‰«ä¸€æ‰«" class="header-anchor">#</a> 52ã€python Djangoé€šè¿‡User Agentåˆ¤æ–­è¯·æ±‚æ¥æºæ˜¯å¾®ä¿¡æ‰«ä¸€æ‰«æˆ–è€…æ˜¯æ”¯ä»˜å®æ‰«ä¸€æ‰«</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>    class Footest(APIView):
	    def get(self, request, *args, **kwargs):
	        # print(request.META)
	        if 'MicroMessenger' in request.META['HTTP_USER_AGENT']:
	            return Response(data={'msg': 'è®¿é—®æ¥æºæ˜¯å¾®ä¿¡'})
	        elif 'AlipayClient' in request.META['HTTP_USER_AGENT']:
	            return Response(data={'msg': 'è®¿é—®æ¥æºæ˜¯æ”¯ä»˜å®'})
	        else:
	            return Response(data={'msg': 'è®¿é—®æ¥æºæ˜¯å…¶ä»–'})

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>User Agentä¸­æ–‡åä¸ºç”¨æˆ·ä»£ç†ï¼Œç®€ç§° UAï¼Œå®ƒæ˜¯ä¸€ä¸ªç‰¹æ®Šå­—ç¬¦ä¸²å¤´ï¼Œä½¿å¾—æœåŠ¡å™¨èƒ½å¤Ÿè¯†åˆ«å®¢æˆ·ä½¿ç”¨çš„æ“ä½œç³»ç»ŸåŠç‰ˆæœ¬ã€CPU ç±»å‹ã€æµè§ˆå™¨åŠç‰ˆæœ¬ã€æµè§ˆå™¨æ¸²æŸ“å¼•æ“ã€æµè§ˆå™¨è¯­è¨€ã€æµè§ˆå™¨æ’ä»¶ç­‰ã€‚</p> <p>æµè§ˆå™¨çš„ UA å­—ä¸²</p> <p>æ ‡å‡†æ ¼å¼ä¸ºï¼š æµè§ˆå™¨æ ‡è¯† (æ“ä½œç³»ç»Ÿæ ‡è¯†; åŠ å¯†ç­‰çº§æ ‡è¯†; æµè§ˆå™¨è¯­è¨€) æ¸²æŸ“å¼•æ“æ ‡è¯† ç‰ˆæœ¬ä¿¡æ¯</p> <p>è·å–user-Agent ä¹‹åï¼Œ
é€šè¿‡è¯†åˆ«MicroMessengeræˆ–è€…AlipayClientè¿™æ ·çš„å…³é”®å­—åº”è¯¥å°±å¯ä»¥åˆ¤æ–­æ˜¯å¾®ä¿¡è¿˜æ˜¯æ”¯ä»˜å®
ã€å‚è€ƒæ–‡ç« ã€‘ https://blog.csdn.net/fly910905/article/details/82498813?utm_source=blogxgwz4</p> <h2 id="_53ã€xadminåå°é›†æˆ-å¯¼å…¥-æ’ä»¶-å¯¼å…¥excelæ–‡ä»¶"><a href="#_53ã€xadminåå°é›†æˆ-å¯¼å…¥-æ’ä»¶-å¯¼å…¥excelæ–‡ä»¶" class="header-anchor">#</a> 53ã€xadminåå°é›†æˆâ€™å¯¼å…¥â€˜æ’ä»¶ï¼Œå¯¼å…¥excelæ–‡ä»¶</h2> <p>æ•ˆæœå›¾ï¼š</p> <p><img src="https://img-blog.csdnimg.cn/20190426190357134.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> <p>1ã€æ·»åŠ </p> <p>åœ¨è™šæ‹Ÿç¯å¢ƒæ ¹ç›®å½•\Lib\site-packages\xadmin\pluginsä¸­æ·»åŠ excel.pyæ–‡ä»¶</p> <p><img src="https://img-blog.csdnimg.cn/20190426190440451.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xtX2lzX2Rj,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> <div class="language- extra-class"><pre><code>from xadmin.views import BaseAdminPlugin, ListAdminView
from django.template import loader
import xadmin

class ListExcelImportPlugin(BaseAdminPlugin):
    # é‡å†™init_request
    import_excel = False
    def init_request(self, *args, **kwargs):
        return self.import_excel

    def block_top_toolbar(self, context, nodes):
        # è¿™é‡Œ xadmin/excel/model_list.top_toolbar.import.html æ˜¯è‡ªå·±å†™çš„htmlæ–‡ä»¶
      nodes.append(loader.render_to_string(&quot;xadmin/excel/model_list.top_toolbar.import.html&quot;))

xadmin.site.register_plugin(ListExcelImportPlugin, ListAdminView)
</code></pre></div><p>åœ¨è™šæ‹Ÿç¯å¢ƒæ ¹ç›®å½•\Lib\site-packages\xadmin\plugins__init__.pyä¸­</p> <div class="language- extra-class"><pre><code>PLUGINS = (
...
    'excel',
...
)
</code></pre></div><p>2ã€æ·»åŠ htmlæ–‡ä»¶</p> <p><img src="https://img-blog.csdnimg.cn/20190426190455263.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xtX2lzX2Rj,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> <p>åœ¨è™šæ‹Ÿç¯å¢ƒæ ¹ç›®å½•\Lib\site-packages\xadmin\templates\xadmin\ä¸­å¢åŠ æ–‡ä»¶å¤¹excel,åœ¨æ–‡ä»¶å¤¹ä¸­æ·»åŠ model_list.top_toolbar.import.htmlæ–‡ä»¶</p> <div class="language- extra-class"><pre><code>    {% load i18n %}
&lt;div class=&quot;btn-group export&quot;&gt;
    &lt;a class=&quot;dropdown-toggle btn btn-default btn-sm&quot; data-toggle=&quot;dropdown&quot; href=&quot;#&quot;&gt;
        &lt;i class=&quot;icon-share&quot;&gt;&lt;/i&gt; å¯¼å…¥æ•°æ® &lt;span class=&quot;caret&quot;&gt;&lt;/span&gt;
    &lt;/a&gt;
    &lt;ul class=&quot;dropdown-menu&quot; role=&quot;menu&quot; aria-labelledby=&quot;dLabel&quot;&gt;
        &lt;li&gt;&lt;a data-toggle=&quot;modal&quot; data-target=&quot;#export-modal-import-excel&quot;&gt;&lt;i class=&quot;icon-circle-arrow-down&quot;&gt;&lt;/i&gt; å¯¼å…¥
            Excel&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;

    &lt;div id=&quot;export-modal-import-excel&quot; class=&quot;modal fade&quot;&gt;
        &lt;div class=&quot;modal-dialog&quot;&gt;
            &lt;div class=&quot;modal-content&quot;&gt;
                &lt;form method=&quot;post&quot; action=&quot;&quot; enctype=&quot;multipart/form-data&quot;&gt;
                    &lt;!--{% csrf_token %}--&gt;
                    &lt;div class=&quot;modal-header&quot;&gt;
                        &lt;button type=&quot;button&quot; class=&quot;close&quot; data-dismiss=&quot;modal&quot; aria-hidden=&quot;true&quot;&gt;Ã—&lt;/button&gt;
                        &lt;h4 class=&quot;modal-title&quot;&gt;å¯¼å…¥ Excel&lt;/h4&gt;
                    &lt;/div&gt;
                    &lt;div class=&quot;modal-body&quot;&gt;
                        &lt;input type=&quot;file&quot; onchange=&quot;fileChange(this)&quot; name=&quot;excel&quot; id=&quot;submit_upload&quot;&gt;
                    &lt;/div&gt;
                    &lt;div class=&quot;modal-footer&quot;&gt;
                        &lt;button type=&quot;button&quot; class=&quot;btn btn-default&quot; data-dismiss=&quot;modal&quot;&gt;{% trans &quot;Close&quot; %}&lt;/button&gt;
                        &lt;button class=&quot;btn btn-success&quot; type=&quot;button&quot; id=&quot;submit_upload_b&quot;&gt;&lt;i class=&quot;icon-share&quot;&gt;&lt;/i&gt; å¯¼å…¥
                        &lt;/button&gt;
                    &lt;/div&gt;
                &lt;/form&gt;
            &lt;/div&gt;&lt;!-- /.modal-content --&gt;
        &lt;/div&gt;&lt;!-- /.modal-dalog --&gt;
    &lt;/div&gt;&lt;!-- /.modal --&gt;

&lt;/div&gt;

&lt;script type=&quot;text/javascript&quot;&gt;
    function fileChange(target) {
        //æ£€æµ‹ä¸Šä¼ æ–‡ä»¶çš„ç±»å‹
        var imgName = document.all.submit_upload.value;
        var ext, idx;
        if (imgName == '') {
            document.all.submit_upload_b.disabled = true;
            alert(&quot;è¯·é€‰æ‹©éœ€è¦ä¸Šä¼ çš„ xls æ–‡ä»¶!&quot;);
            return;
        } else {
            idx = imgName.lastIndexOf(&quot;.&quot;);
            if (idx != -1) {
                ext = imgName.substr(idx + 1).toUpperCase();
                ext = ext.toLowerCase();

                if (ext != 'xls' &amp;&amp; ext != 'xlsx') {
                    document.all.submit_upload_b.disabled = true;
                    alert(&quot;åªèƒ½ä¸Šä¼  .xls ç±»å‹çš„æ–‡ä»¶!&quot;);
                    return;
                }
            } else {
                document.all.submit_upload_b.disabled = true;
                alert(&quot;åªèƒ½ä¸Šä¼  .xls ç±»å‹çš„æ–‡ä»¶!&quot;);
                return;
            }
        }
    }

    $(document).ready(function () {

        $('#submit_upload_b').click(function () {
            var form_data = new FormData();
            var file_info = $('#submit_upload')[0].files[0];
            form_data.append('file', file_info);
            form_data.append('file_source', $('.breadcrumb li').eq(1).text().trim());
            var url = window.location.protocol + '//' + window.location.host + '/importkdorderno/'
            $.ajax({
                url: url,
                type: 'POST',
                data: form_data,
                dataType: &quot;json&quot;,
                beforeSend: function (xhr) {
                    xhr.setRequestHeader(&quot;X-CSRFToken&quot;, $.getCookie(&quot;csrftoken&quot;))
                },
                processData: false,  // tell jquery not to process the data
                contentType: false, // tell jquery not to set contentType
                success: function (res) {

                    alert(res.msg);
                    window.location.reload();
                },
                error: function (err) {
                }
            });
        });
    })
&lt;/script&gt;
</code></pre></div><p>3ã€åœ¨views.pyå¤„ç†ä¸Šä¼ çš„excelæ–‡ä»¶</p> <div class="language- extra-class"><pre><code>import pandas as pd
from rest_framework.views import APIView

class ImportKDOrderNo(APIView):

    def post(self, request, *args, **kwargs):
        file = request.FILES.get('file')
        # read = InMemoryUploadedFile().open()
        data = pd.read_excel(file)  # ä½¿ç”¨pandaså¤„ç†excelæ–‡ä»¶
		file_source = request.POST.get('file_source', '')  # æ–‡ä»¶æ¥æº
		
        if 'è®¢å•å·' and 'ç‰©æµå•å·' not in data:
            return Response(data={'msg': 'æ–‡ä»¶æ ¼å¼æœ‰è¯¯ï¼Œç¬¬ä¸€è¡Œç¬¬ä¸€åˆ—åº”è¯¥ä¸ºã€è®¢å•å·ã€‘ï¼Œç¬¬ä¸€è¡Œç¬¬äºŒåˆ—åº”è¯¥ä¸ºã€ç‰©æµå•å·ã€‘'})
        ordernos = data['è®¢å•å·']
        logistics = data['ç‰©æµå•å·']
        for i in range(len(ordernos)):
            print('è®¢å•å·', ordernos[i], 'ç‰©æµå•å·', logistics[i])
          
        return Response(data={'msg': 'ä¸Šä¼ æˆåŠŸ'})
</code></pre></div><p>4ã€åœ¨urls.pyä¸­æ·»åŠ è®¿é—®è·¯ç”±</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>from django.urls import path
from ä½ çš„åº”ç”¨åç§° import views

app_name = 'ä½ çš„åº”ç”¨åç§°'

urlpatterns = [
    # å…¶ä»–è·¯ç”±
    ...
    # å¯¼å…¥ç‰©æµå•å·
    path('importkdorderno/', views.ImportKDOrderNo.as_view(), name='importkdorderno'),
]

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="_54ã€djangoä¸­æŸ¥æ‰¾ä»Šå¤©è¿›è´¦é‡‘é¢"><a href="#_54ã€djangoä¸­æŸ¥æ‰¾ä»Šå¤©è¿›è´¦é‡‘é¢" class="header-anchor">#</a> 54ã€Djangoä¸­æŸ¥æ‰¾ä»Šå¤©è¿›è´¦é‡‘é¢</h2> <p>views.py</p> <div class="language- extra-class"><pre><code>from datetime import datetime
class CountFee(APIView):
	def get(self, request, *args, **kwargs):
		# è·å–å½“å‰æ—¶é—´çš„å¹´æœˆæ—¥ï¼Œç„¶åä½¿ç”¨èšåˆå‡½æ•°æ·»åŠ feeå­—æ®µçš„å€¼
    	year = datetime.now().year
        month = datetime.now().month
        day = datetime.now().day
        count_fees = FeeDetail.objects.filter(addtime__year=year, addtime__month=month, addtime__day=day).aggregate(Sum('fee'))
        all_fee = count_fees['fee__sum'] if count_fees['fee__sum'] else 0
        print(all_fee)
        return Response({'code': 1, 'msg': 'success', 'data': {'all_fee': all_fee}})
</code></pre></div><h2 id="_55ã€åˆ¤æ–­æ˜¯ä»€ä¹ˆç³»ç»Ÿ"><a href="#_55ã€åˆ¤æ–­æ˜¯ä»€ä¹ˆç³»ç»Ÿ" class="header-anchor">#</a> 55ã€åˆ¤æ–­æ˜¯ä»€ä¹ˆç³»ç»Ÿ</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>import platform
PlATFORM = platform.system()
if PlATFORM == &quot;Linux&quot;:
    print('linux')
else:
    print('å…¶ä»–') 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="_56ã€sqlæŸ¥è¯¢"><a href="#_56ã€sqlæŸ¥è¯¢" class="header-anchor">#</a> 56ã€sqlæŸ¥è¯¢</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code># è”åˆæ›´æ–°
update malluser set master_master_id=3 where master_id in (select a.id from (select id from  malluser where id like '15%')a) 
# ç»Ÿè®¡æŸå­—æ®µé‡å¤æ•°æ®
SELECT phone, COUNT(*) AS sumCount FROM malluser GROUP BY phone HAVING sumCount &gt; 1;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="_57ã€-xadminåå°åˆ é™¤æ•°æ®å‡ºç°é”™è¯¯"><a href="#_57ã€-xadminåå°åˆ é™¤æ•°æ®å‡ºç°é”™è¯¯" class="header-anchor">#</a> 57ã€ xadminåå°åˆ é™¤æ•°æ®å‡ºç°é”™è¯¯</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>    `get_deleted_objects() takes 3 positional arguments but 5 were given`
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>è¿™æ˜¯ç”±äºDjango2.1ç‰ˆæœ¬å’Œxadminä¸å…¼å®¹å¯¼è‡´çš„</p> <p>çŸ¥é“è™šæ‹Ÿç¯å¢ƒ\Lib\site-packages\xadmin\plugins\actions.py</p> <p>ä¿®æ”¹93è¡Œï¼Œ</p> <p>æŠŠ</p> <div class="language- extra-class"><pre><code>deletable_objects, model_count, perms_needed, protected = get_deleted_objects(
            queryset, self.opts, self.user, self.admin_site, using)
</code></pre></div><p>æ”¹ä¸º</p> <div class="language- extra-class"><pre><code>deletable_objects, model_count, perms_needed, protected = get_deleted_objects(
            queryset, self.user, self.admin_site)
</code></pre></div><p>ç„¶ååœ¨adminx.pyæ–‡ä»¶ä¸­å¯¹åº”çš„æ¨¡å‹ç±»ä¸­å…è®¸åˆ é™¤</p> <div class="language- extra-class"><pre><code>class MaterialAdmin(object):
    &quot;&quot;&quot;ç´ æåº“åˆ†ç±»&quot;&quot;&quot;
    list_display = ['id', 'name', 'class_id', 'is_delete', 'addtime']
  
    def has_delete_permission(self, *args, **kwargs):
        return True
</code></pre></div><h2 id="_58ã€xdaminé™åˆ¶ç”¨æˆ·ç‚¹å‡»"><a href="#_58ã€xdaminé™åˆ¶ç”¨æˆ·ç‚¹å‡»" class="header-anchor">#</a> 58ã€xdaminé™åˆ¶ç”¨æˆ·ç‚¹å‡»</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>//å¦‚æœç™»å½•z=xadminåå°çš„è´¦å·ä¸æ˜¯ã€rootã€‘çš„å°±ä¸èƒ½ç‚¹å‡»æ›´æ–°æ“ä½œ
    var master_name = $('#top-nav').find('strong').text();
        master_name =  master_name.substring(4);
    if(master_name != 'root'){
            $(&quot;.grid-item a&quot;).each(function(index, element) {
                $(this).attr('href','#');
            });
        }
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="_59ã€è·å–å…¬ä¼—å·å…³æ³¨url"><a href="#_59ã€è·å–å…¬ä¼—å·å…³æ³¨url" class="header-anchor">#</a> 59ã€è·å–å…¬ä¼—å·å…³æ³¨url</h2> <p>åœ¨å¾®ä¿¡ç½‘é¡µç‰ˆï¼Œæ‰“å¼€å…¬ä¼—å·ï¼Œç‚¹å‡»å³ä¸Šè§’â€œâ€¦â€ï¼Œåœ¨å¼¹æ¡†ä¸­é€‰æ‹©å³ä¸‹è§’ä¸­é—´çš„â€œæŸ¥çœ‹å†å²è®°å½•â€ï¼Œç„¶ååœ¨å¼¹æ¡†ä¸­é€‰æ‹©å·¦ä¸Šè§’å€’æ•°ç¬¬ä¸€ä¸ªï¼Œâ€œç”¨é»˜è®¤æµè§ˆå™¨æ‰“å¼€â€ï¼Œå°±å¯ä»¥åœ¨æ‰“å¼€çš„æµè§ˆå™¨ä¸­è·å–è¯¥å…¬ä¼—å·çš„å…³æ³¨urlï¼Œå½“æŠŠè¿™ä¸ªurlå‘ç»™å¥½å‹æ—¶ï¼Œå¥½å‹ç‚¹å¼€çš„å°±æ˜¯å»å…³æ³¨å…¬ä¼—å·çš„é¡µé¢ã€‚</p> <h2 id="_60ã€xadminåå°ç”¨æˆ·æ“ä½œè¡¨æƒé™"><a href="#_60ã€xadminåå°ç”¨æˆ·æ“ä½œè¡¨æƒé™" class="header-anchor">#</a> 60ã€xadminåå°ç”¨æˆ·æ“ä½œè¡¨æƒé™</h2> <p>è™šæ‹Ÿç¯å¢ƒæ ¹ç›®å½•\Lib\site-packages\xadmin\views\base.py</p> <p>å¯ä»¥æ‰¾åˆ°ï¼š</p> <p><img src="https://img-blog.csdnimg.cn/20190627140512311.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xtX2lzX2Rj,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> <p>åœ¨é¡¹ç›®å­åº”ç”¨ä¸‹çš„adminx.pyä¸­ä½¿ç”¨</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>    import xadmin
    
    from machine.models import Machine
    
    
    class MachineAdmin(object):
        list_display = ['code',]  # æ˜¾ç¤ºçš„å­—æ®µ
    
        search_fields = ['code']  # æœç´¢çš„å­—æ®µ
        list_filter = ['code', 'is_delete'] # è¿‡æ»¤çš„å­—æ®µ
        ordering = ('-id',) # æŒ‰idé™åºæ’åº
        list_editable = ['is_delete', ]  # æ•°æ®å³æ—¶ç¼–è¾‘
        list_per_page = 30  # æ¯é¡µæ˜¾ç¤ºæ•°æ®æ•°é‡
        model_icon = 'fa fa-cog fa-spin'  # å·¦ä¾§æ˜¾ç¤ºçš„å°å›¾æ ‡
    
        def has_delete_permission(self, *args, **kwargs): 
            # åˆ é™¤æƒé™
            if self.request.user.is_superuser:  # ç®¡ç†å‘˜æ‰èƒ½å¢åŠ 
                return True
            return False
    
        def has_add_permission(self, *args, **kwargs):
            if self.request.user.is_superuser:  # ç®¡ç†å‘˜æ‰èƒ½å¢åŠ 
                return True
            return False
    
        def has_change_permission(self, *args, **kwargs):
            if self.request.user.is_superuser: # ç®¡ç†å‘˜æ‰èƒ½ä¿®æ”¹
                return True
            return False
    
        def queryset(self):
            qs = super(MachineAdmin, self).queryset()
            if self.request.user.is_superuser:  # ç®¡ç†å‘˜å¯ä»¥æŸ¥çœ‹æ‰€æœ‰
                return qs
            else:
                # ç™»å½•ç”¨æˆ·åªèƒ½çœ‹åˆ°è‡ªå·±ä¿®æ”¹çš„æ•°æ®
                return qs.filter(master_id=self.request.user.last_name)
    
    
    xadmin.site.register(MallMachine, MallMachineAdmin)

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br></div></div><h2 id="_61ã€ä½¿ç”¨nginxéƒ¨ç½²é¡¹ç›®"><a href="#_61ã€ä½¿ç”¨nginxéƒ¨ç½²é¡¹ç›®" class="header-anchor">#</a> 61ã€ä½¿ç”¨nginxéƒ¨ç½²é¡¹ç›®</h2> <p>å…ˆåœ¨/etc/nginx/sites-availableä¸­åˆ›å»ºä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼Œæ–‡ä»¶åä¸ºtest(æ³¨æ„æ²¡æœ‰åç¼€):</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>    #è®¾å®šè™šæ‹Ÿä¸»æœºé…ç½®
        server {
            #ä¾¦å¬80ç«¯å£
            listen 80;
            listen 443 ssl;
            #å®šä¹‰ä½¿ç”¨ www.nginx.cnè®¿é—®
    		#ssl on;
            server_name  xxx.xxx.com;
            #å®šä¹‰æœåŠ¡å™¨çš„é»˜è®¤ç½‘ç«™æ ¹ç›®å½•ä½ç½®
            root /root/é¡¹ç›®åç§°;
    		ssl_session_timeout 5m; 
            ssl_certificate   /etc/nginx/cert/xxx.pem;
            ssl_certificate_key  /etc/nginx/cert/xxx.key;
            ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!NULL:!aNULL:!MD5:!ADH:!RC4;
            ssl_protocols TLSv1 TLSv1.1 TLSv1.2;
            ssl_prefer_server_ciphers on;
            #è®¾å®šæœ¬è™šæ‹Ÿä¸»æœºçš„è®¿é—®æ—¥å¿—
            #access_log  logs/nginx.access.log  main;
     
            #é»˜è®¤è¯·æ±‚
            location / {
                #å€’å…¥äº†uwsgiçš„é…ç½®
                include uwsgi_params; 
    		    client_max_body_size	50m;
                #è¿æ¥uwsgiçš„è¶…æ—¶æ—¶é—´
               # uwsgi_connect_timeout 30; 
     	    #è®¾å®šäº†uwsigæœåŠ¡å™¨ä½ç½®
     	    	uwsgi_pass 127.0.0.1:8002;
            }
            
            location /static{
          	alias /root/é¡¹ç›®åç§°/static;
            }
    	location /media {
    	alias /root/é¡¹ç›®åç§°/media;
    	}
     
    }

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br></div></div><p>å…¶ä¸­xxx.xxx.comè¡¨ç¤ºåŸŸå.å¦‚æœæ²¡æœ‰httpsï¼Œå°±ä½¿ç”¨#æŠŠsslæ³¨é‡Šæ‰å°±å¯ä»¥äº†ã€‚</p> <p>ç„¶åæŠŠtestæ˜ å°„åˆ°/etc/nginx/sites-enabled</p> <p>å‘½ä»¤</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>    ln -s /etc/nginx/sites-available/test /etc/nginx/sites-enabled/test

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>å³å¯
æ³¨æ„ï¼š
uwsgiä¸­é…ç½®listen=1024æ—¶ï¼Œå¯åŠ¨uwsgiæ—¶å¯èƒ½ä¼šæŠ¥é”™ï¼š</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>django + uwsgi + nginx æ—¥å¿—Listen queue size is greater than the system max net.core.somaxconn (128).
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>è§£å†³æ–¹æ³•:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>ä¿®æ”¹ç³»ç»Ÿå‚æ•°

/proc/sys/net/ipv4/tcp_max_syn_backlog  åŸæ¥2048    æ”¹ä¸º8192
/proc/sys/net/core/somaxconn	åŸæ¥128     æ”¹ä¸º262144
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>é‡å¯nginx</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>nginx -s reload
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="_62ã€xadminåå°å‘é€é‚®ä»¶æ‰¾å›å¯†ç "><a href="#_62ã€xadminåå°å‘é€é‚®ä»¶æ‰¾å›å¯†ç " class="header-anchor">#</a> 62ã€xadminåå°å‘é€é‚®ä»¶æ‰¾å›å¯†ç </h2> <p><img src="https://img-blog.csdnimg.cn/20190710230444358.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xtX2lzX2Rj,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> <p>è¾“å…¥ä½ ç”¨æˆ·ç»‘å®šçš„é‚®ç®±</p> <p><img src="https://img-blog.csdnimg.cn/20190710230454725.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xtX2lzX2Rj,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> <p>æƒ³è¦å‘é€é‚®ä»¶ï¼Œéœ€è¦åœ¨settings.pyä¸­è®¾ç½®é‚®ä»¶å‘é€å™¨</p> <p>settings.pyæœ€ä¸‹é¢å¢åŠ </p> <div class="language- line-numbers-mode"><pre class="language-text"><code>    # ------------------------é‚®ç®±é…ç½®-----------------------------------------
    EMAIL_BACKEND = 'django.core.mail.backends.smtp.EmailBackend' #æŠŠè¦å‘é€çš„é‚®ä»¶æ˜¾ç¤ºå†æ§åˆ¶å°ä¸Šï¼Œæ–¹ä¾¿è°ƒè¯•
    EMAIL_USE_SSL = True
    EMAIL_HOST = 'smtp.qq.com'  # å¦‚æœæ˜¯ 163 æ”¹æˆ smtp.163.com
    EMAIL_PORT = 465
    EMAIL_HOST_USER = 'é‚®ç®±è´¦å·' # å¸å·
    EMAIL_HOST_PASSWORD = 'æˆæƒç '  # åˆ°é‚®ç®±é‡Œå¼€é€š
    DEFAULT_FROM_EMAIL = EMAIL_HOST_USER

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>ç”±äºdjango2ä¸xadminæœ‰äº›åœ°æ–¹ä¸å…¼å®¹ï¼Œéœ€è¦ä¿®æ”¹æºç ï¼š</p> <p>æ‰¾åˆ°è™šæ‹Ÿç¯å¢ƒæ ¹ç›®å½•\Lib\site-packages\xadmin\plugins\passwords.py</p> <p>åœ¨passwords.pyæ–‡ä»¶ä¸­å¤§æ¦‚79è¡Œï¼Œä¿®æ”¹ä¸º</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>    return password_reset_confirm(request=request, uidb36=uidb36, token=token,
                                          template_name=self.password_reset_confirm_template,
                                          token_generator=self.password_reset_token_generator,
                                          set_password_form=self.password_reset_set_form,
                                          post_reset_redirect=self.get_admin_url('xadmin_password_reset_complete'),
                                          current_app=self.admin_site.name, extra_context=context).dispatch(request=request,
                                                                                                            uidb64=uidb36,token=token)
                 

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>æ‰¾åˆ°è™šæ‹Ÿç¯å¢ƒæ ¹ç›®å½•Lib\site-packages\django\contrib\auth\views.py</p> <p>åœ¨views.pyæ–‡ä»¶ä¸­å¤§æ¦‚258è¡Œï¼Œå¢åŠ ï¼š</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>    # æˆåŠŸåè·³è½¬è·¯ç”±,æ ¹æ®è‡ªå·±å®é™…æ¥å®š
    self.success_url = self.request.build_absolute_uri('/') + 'xadmin/'

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><img src="https://img-blog.csdnimg.cn/2020052620533440.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xtX2lzX2Rj,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> <h2 id="_63ã€xadminå¤–é”®ä¸‹æ‹‰æ¡†æ·»åŠ è¿‡æ»¤"><a href="#_63ã€xadminå¤–é”®ä¸‹æ‹‰æ¡†æ·»åŠ è¿‡æ»¤" class="header-anchor">#</a> 63ã€xadminå¤–é”®ä¸‹æ‹‰æ¡†æ·»åŠ è¿‡æ»¤</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>
class MallGoodsAdmin(object):
    &quot;&quot;&quot;å•†å“ç®¡ç†&quot;&quot;&quot;
    list_display = ['id', 'show_photo', 'nickname', 'merchant', 'goods_class', 'label',]
    search_fields = ['nickname']
    list_filter = ['goods_class', 'label',]
    model_icon = 'fa fa-bars'
    list_editable = ['goods_class', ]
    #,é‡å†™è™šæ‹Ÿç¯å¢ƒæ ¹ç›®å½•ä¸‹\Lib\site-packages\xadmin\views\edit.pyä¸­çš„formfield_for_dbfield
    def formfield_for_dbfield(self, db_field, **kwargs):
        # å¯¹MallGoodsClassè¿™ä¸ªè¡¨é¡¹çš„ä¸‹æ‹‰æ¡†é€‰æ‹©è¿›è¡Œè¿‡æ»¤
        # MallGoodsä¸­æœ‰ä¸€ä¸ªgoods_classå•†å“åˆ†ç±»å¤–é”®MallGoodsClassï¼Œè¿‡æ»¤æ‰å¤–é”®MallGoodsClassä¸­ 
        # master_classä¸ºç©ºçš„å€¼
        if db_field.name == &quot;goods_class&quot;:
            kwargs[&quot;queryset&quot;] = MallGoodsClass.objects.filter(master_class__isnull=False)
            # å¯¹assigned_recipientè¿™ä¸ªè¡¨é¡¹çš„ä¸‹æ‹‰é€‰æ‹©è¿›è¡Œè¿‡æ»¤
        	return db_field.formfield(**dict(**kwargs))
        return super().formfield_for_dbfield(db_field, **kwargs)

xadmin.site.register(models.MallGoods, MallGoodsAdmin)

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h2 id="_64ã€xadminå³æ—¶ç¼–è¾‘å™¨å»æ‰ç©ºæ ‡ç­¾"><a href="#_64ã€xadminå³æ—¶ç¼–è¾‘å™¨å»æ‰ç©ºæ ‡ç­¾" class="header-anchor">#</a> 64ã€xadminå³æ—¶ç¼–è¾‘å™¨å»æ‰ç©ºæ ‡ç­¾</h2> <p><img src="https://img-blog.csdnimg.cn/20190716151440115.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> <p>è™šæ‹Ÿç¯å¢ƒæ ¹ç›®å½•ä¸‹\Lib\site-packages\xadmin\plugins\editable.pyï¼Œåœ¨å¤§æ¦‚</p> <p>129è¡Œå¢åŠ ï¼š</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>    form.fields[fields[0]].empty_label = None

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><img src="https://img-blog.csdnimg.cn/20190716151459680.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xtX2lzX2Rj,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> <h2 id="_65ã€ç”¨æˆ·å¢åŠ çš„å°ç»„ä»¶-è®©å…¶ä»–ç”¨æˆ·å¯è§"><a href="#_65ã€ç”¨æˆ·å¢åŠ çš„å°ç»„ä»¶-è®©å…¶ä»–ç”¨æˆ·å¯è§" class="header-anchor">#</a> 65ã€ç”¨æˆ·å¢åŠ çš„å°ç»„ä»¶ï¼Œè®©å…¶ä»–ç”¨æˆ·å¯è§</h2> <p>æ‰¾åˆ°è™šæ‹Ÿç¯å¢ƒæ ¹ç›®å½•\Lib\site-packages\xadmin\views\dashboard.py</p> <p>åœ¨548è¡Œã€554è¡Œ</p> <p><img src="https://img-blog.csdnimg.cn/20190723175537371.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xtX2lzX2Rj,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> <p>æ”¹ä¸ºï¼š</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>    @filter_hook
        def get_widgets(self):
    
            if self.widget_customiz:
                portal_pos = UserSettings.objects.filter(
                   key=self.get_portal_key())
                if len(portal_pos):
                    portal_pos = portal_pos[0].value
                    widgets = []
    
                    if portal_pos:
                        user_widgets = dict([(uw.id, uw) for uw in UserWidget.objects.filter(page_id=self.get_page_id())])
                        for col in portal_pos.split('|'):
                            ws = []
                            for wid in col.split(','):
                                try:
                                    widget = user_widgets.get(int(wid))
                                    if widget:
                                        ws.append(self.get_widget(widget))
                                except Exception as e:
                                    import logging
                                    logging.error(e, exc_info=True)
                            widgets.append(ws)
    
                    return widgets
    
            return self.get_init_widget()


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><h2 id="_66ã€pip-install-uwsgiå‡ºé”™"><a href="#_66ã€pip-install-uwsgiå‡ºé”™" class="header-anchor">#</a> 66ã€pip install uwsgiå‡ºé”™</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>plugins/python/uwsgi_python.h:2:20: fatal error: Python.h: No such file or directory

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>é¦–å…ˆå®‰è£…python3ç¯å¢ƒ</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>apt install python3-dev

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>ç„¶åå†è™šæ‹Ÿç¯å¢ƒä¸­</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>pip install uwsgi
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="_66ã€xadminåå°åŠ è½½æ•°æ®æ…¢-è§£å†³æ–¹æ¡ˆ"><a href="#_66ã€xadminåå°åŠ è½½æ•°æ®æ…¢-è§£å†³æ–¹æ¡ˆ" class="header-anchor">#</a> 66ã€xadminåå°åŠ è½½æ•°æ®æ…¢ï¼Œè§£å†³æ–¹æ¡ˆ</h2> <p>list_filter: è¿‡æ»¤å™¨è¦æ…ç”¨ï¼Œä¸è¦ä½¿ç”¨ç±»ä¼¼idè¿™äº›æ•°æ®é‡å¤§çš„å­—æ®µ</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>    class MallUserAdmin(object):
        &quot;&quot;&quot;ç”¨æˆ·ç®¡ç†&quot;&quot;&quot;
    
        list_display = ['id', 'tp_icon', 'nickname', 'phone', 'level', 'balance', 'province', 'city', 'quxian']  # æ˜¾ç¤ºå­—æ®µ
        search_fields = ['id', 'nickname', 'phone']  # æœç´¢
        list_filter = ['level', 'province', 'city', 'quxian']  # è¿‡æ»¤å™¨
        # list_filter = ['id', 'level', 'province', 'city', 'quxian']  # å¦‚æœåŠ idï¼ŒxadminåŠ è½½å›æ¥çš„æ•°æ®å°±ä¼šå¾ˆæ…¢ï¼Œæ‰€ä»¥ä¸è¦åœ¨è¿‡æ»¤å™¨ä¸Šä½¿ç”¨id
        list_per_page = 30  # é»˜è®¤æ¯é¡µæ•°é‡
        model_icon = 'fa fa-users'  # å·¦ä¾§å›¾æ ‡
        ordering = ['-id']  # æ’åº
        readonly_fields = ['subscribe', 'wx_openid', 'phone']  # åªè¯»å­—æ®µ
        is_addbalance = True   # åŠ è½½è‡ªå®šä¹‰çš„æ’ä»¶
        relfield_style = 'fk-ajax'  # å…¶ä»–è¡¨å¦‚æœå¤–é”®åˆ°ç”¨æˆ·è¡¨å°±åšajaxæœç´¢æŸ¥è¯¢ï¼Œä¸ä¸€æ¬¡æ€§åŠ è½½æ•°æ®

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h2 id="_67-ã€xadminå¯¼å‡ºæ’ä»¶å¤„ç†-å¢åŠ å¯¼å‡ºå‹¾é€‰æ•°æ®é¡¹"><a href="#_67-ã€xadminå¯¼å‡ºæ’ä»¶å¤„ç†-å¢åŠ å¯¼å‡ºå‹¾é€‰æ•°æ®é¡¹" class="header-anchor">#</a> 67 ã€xadminå¯¼å‡ºæ’ä»¶å¤„ç†ï¼Œå¢åŠ å¯¼å‡ºå‹¾é€‰æ•°æ®é¡¹</h2> <p>å¸¸è§„çš„å¯¼å‡ºåªæœ‰ä¸¤ä¸ªé€‰æ‹©ã€å¯¼å‡ºè¡¨å¤´ã€‘ã€ã€å¯¼å‡ºå…¨éƒ¨æ•°æ®ã€‘</p> <p><img src="https://img-blog.csdnimg.cn/20190917141511283.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xtX2lzX2Rj,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> <p>ç°åœ¨æƒ³è¦åšçš„æ˜¯å¢åŠ ä¸€ä¸ªé€‰æ‹©ï¼Œå³ã€å¯¼å‡ºè¡¨å¤´ã€‘ã€ã€å¯¼å‡ºå…¨éƒ¨æ•°æ®ã€‘ã€ã€å¯¼å‡ºå‹¾é€‰æ•°æ®ã€‘ï¼Œå¦‚ä¸‹å›¾ï¼š</p> <p><img src="https://img-blog.csdnimg.cn/20190917141839822.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xtX2lzX2Rj,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> <p>éœ€è¦ä¿®æ”¹xadminæºä»£ç ï¼Œå…·ä½“å¦‚ä¸‹</p> <h4 id="_1ã€åŠ è½½jsæ–‡ä»¶"><a href="#_1ã€åŠ è½½jsæ–‡ä»¶" class="header-anchor">#</a> 1ã€åŠ è½½jsæ–‡ä»¶</h4> <p>æ‰¾åˆ°è™šæ‹Ÿç¯å¢ƒ\Lib\site-packages\xadmin\views\list.pyï¼Œåœ¨607è¡Œå¢åŠ â€™xadmin.plugin.importexport.jsâ€™ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º</p> <p><img src="https://img-blog.csdnimg.cn/20190917141853832.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> <h4 id="_2ã€ä¿®æ”¹export-py-åç«¯å¤„ç†ä¸‹è½½æ–‡ä»¶"><a href="#_2ã€ä¿®æ”¹export-py-åç«¯å¤„ç†ä¸‹è½½æ–‡ä»¶" class="header-anchor">#</a> 2ã€ä¿®æ”¹export.pyï¼Œåç«¯å¤„ç†ä¸‹è½½æ–‡ä»¶</h4> <p>æ‰¾åˆ°è™šæ‹Ÿç¯å¢ƒ\Lib\site-packages\xadmin\plugins\export.py</p> <p>åœ¨84è¡ŒæŠŠrows = context[â€˜resultsâ€™]ä¿®æ”¹æˆå¦‚ä¸‹å‡½æ•°</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>    # æ–°å¢å¯¼å‡ºæ‰€é€‰æ•°æ®
    # rows = context['results']  
    rows = []
    select_across = self.request.GET.get('_select_across', False) == '1'
    selected = self.request.GET.get('_selected_actions', '')
    if self.request.GET.get('selected', 'off') == 'on':
        if not select_across:
            selected_pk = selected.split(',')
            for i in context['results']:
                if str(i['object'].id) in selected_pk:
                    rows.append(i)
        else:
            rows = context['results']
    else:
        rows = context['results']

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p><img src="https://img-blog.csdnimg.cn/2019091714200418.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xtX2lzX2Rj,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> <p>3ã€ ä¿®æ”¹model_list.top_toolbar.exports.html
æ‰¾åˆ°è™šæ‹Ÿç¯å¢ƒ\Lib\site-packages\xadmin\templates\xadmin\blocks\model_list.top_toolbar.exports.html</p> <p>ä½¿ç”¨ä»¥ä¸‹ä»£ç è¦†ç›–åŸæ–‡ä»¶</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>    {% load i18n %}
    &lt;div class=&quot;btn-group export&quot;&gt;
        &lt;a id=&quot;export-menu&quot; class=&quot;dropdown-toggle btn btn-default btn-sm&quot; data-toggle=&quot;dropdown&quot; href=&quot;#&quot;&gt;
            &lt;i class=&quot;fa fa-share&quot;&gt;&lt;/i&gt; {% trans &quot;Export&quot; %} &lt;span class=&quot;caret&quot;&gt;&lt;/span&gt;
        &lt;/a&gt;
        &lt;ul class=&quot;dropdown-menu&quot; role=&quot;menu&quot; aria-labelledby=&quot;dLabel&quot;&gt;
            {% for et in export_types %}
            &lt;li&gt;&lt;a data-toggle=&quot;modal&quot; data-target=&quot;#export-modal-{{et.type}}&quot;&gt;&lt;i class=&quot;fa fa-arrow-circle-down&quot;&gt;
            &lt;/i&gt; {% trans &quot;Export&quot; %} {{et.name}}&lt;/a&gt;&lt;/li&gt;
            {% endfor %}
        &lt;/ul&gt;
    
        {% for et in export_types %}
        &lt;div id=&quot;export-modal-{{et.type}}&quot; class=&quot;modal fade&quot;&gt;
            &lt;div class=&quot;modal-dialog&quot;&gt;
                &lt;div class=&quot;modal-content&quot;&gt;
                    &lt;form method=&quot;get&quot; action=&quot;&quot;&gt;
    
                        &lt;div class=&quot;modal-header&quot;&gt;
                            &lt;button type=&quot;button&quot; class=&quot;close&quot; data-dismiss=&quot;modal&quot; aria-hidden=&quot;true&quot;&gt;&amp;times;&lt;/button&gt;
                            &lt;h4 class=&quot;modal-title&quot;&gt;{% trans &quot;Export&quot; %} {{et.name}}&lt;/h4&gt;
                        &lt;/div&gt;
                        &lt;div class=&quot;modal-body&quot;&gt;
                            {{ form_params|safe }}
                            &lt;input type=&quot;hidden&quot; name=&quot;export_type&quot; value=&quot;{{et.type}}&quot;&gt;
                            &lt;!-- å¢åŠ  å¯¼å‡ºæ‰€é€‰æ•°æ® ä¸€æ  --&gt;
                            &lt;input type=&quot;hidden&quot; name=&quot;_selected_actions&quot; value=&quot;&quot;/&gt;
                            &lt;input type=&quot;hidden&quot; name=&quot;_select_across&quot; value=&quot;&quot;/&gt;
    
                            &lt;label class=&quot;checkbox&quot;&gt;
                                {% if et.type == &quot;xlsx&quot; %}
                                &lt;input type=&quot;checkbox&quot; name=&quot;export_xlsx_header&quot; checked=&quot;checked&quot; value=&quot;on&quot;&gt;
                                {% trans &quot;Export with table header.&quot; %}
                                {% endif %}
                                {% if et.type == &quot;xls&quot; %}
                                &lt;input type=&quot;checkbox&quot; name=&quot;export_xls_header&quot; checked=&quot;checked&quot; value=&quot;on&quot;&gt;
                                {% trans &quot;Export with table header.&quot; %}
                                {% endif %}
                                {% if et.type == &quot;csv&quot; %}
                                &lt;input type=&quot;checkbox&quot; name=&quot;export_csv_header&quot; checked=&quot;checked&quot; value=&quot;on&quot;&gt;
                                {% trans &quot;Export with table header.&quot; %}
                                {% endif %}
                                {% if et.type == &quot;xml&quot; %}
                                &lt;input type=&quot;checkbox&quot; name=&quot;export_xml_format&quot; checked=&quot;checked&quot; value=&quot;on&quot;&gt;
                                {% trans &quot;Export with format.&quot; %}
                                {% endif %}
                                {% if et.type == &quot;json&quot; %}
                                &lt;input type=&quot;checkbox&quot; name=&quot;export_json_format&quot; checked=&quot;checked&quot; value=&quot;on&quot;&gt;
                                {% trans &quot;Export with format.&quot; %}
                                {% endif %}
                            &lt;/label&gt;
                            &lt;label class=&quot;checkbox&quot;&gt;
                                &lt;input type=&quot;checkbox&quot; name=&quot;all&quot; value=&quot;on&quot;&gt; {% trans &quot;Export all data.&quot; %}
                            &lt;/label&gt;
                            &lt;!-- å¢åŠ  å¯¼å‡ºæ‰€é€‰æ•°æ® ä¸€æ  --&gt;
                            &lt;label class=&quot;checkbox&quot;&gt;
                                &lt;input type=&quot;checkbox&quot; name=&quot;selected&quot; value=&quot;on&quot;&gt; å¯¼å‡ºå‹¾é€‰æ•°æ®
                            &lt;/label&gt;
    
                        &lt;/div&gt;
                        &lt;div class=&quot;modal-footer&quot;&gt;
                            &lt;button type=&quot;button&quot; class=&quot;btn btn-default&quot; data-dismiss=&quot;modal&quot;&gt;{% trans &quot;Close&quot; %}&lt;/button&gt;
    
                            &lt;button class=&quot;btn btn-success myexport  glyphicon glyphicon-export &quot; type=&quot;submit&quot;&gt;&lt;i
                                    class=&quot;fa fa-share&quot;&gt;&lt;/i&gt; {% trans &quot;Export&quot; %}
                            &lt;/button&gt;
                        &lt;/div&gt;
                    &lt;/form&gt;
                &lt;/div&gt;&lt;!-- /.modal-content --&gt;
            &lt;/div&gt;&lt;!-- /.modal-dalog --&gt;
        &lt;/div&gt;&lt;!-- /.modal --&gt;
        {% endfor %}
    
    &lt;/div&gt;
    
    &lt;script type=&quot;text/javascript&quot;&gt;
        // å¦‚æœæ˜¯è®¢å•å¯¼å‡ºï¼ŒæŠŠå¾…å‡ºè´§è®¢å•è®¾ç½®æˆå¾…æ”¶è´§è®¢å•
        $(document).ready(function () {
            $('.myexport').click(function () {
                // å½“æŠŠè®¢å•å¯¼å‡ºæ—¶ï¼Œéœ€è¦ä¿®æ”¹è®¢å•çŠ¶æ€ä¸ºå¾…æ”¶è´§çŠ¶æ€
                var url = window.location.protocol + '//' + window.location.host + &quot;/exportorder/&quot;;
                $(&quot;input[name='_select_across']&quot;).val($(&quot;input[name='select_across']&quot;).val());
                if ($(&quot;input[name='selected']&quot;).is(':checked')) {
                    var arr = [];
                    $.each($('.action-select'), function () {
                        if (true == $(this).prop('checked')) {
                            arr.push($(this).val());
                        }
                    });
                    if(arr.length == 0){
                        alert('è¯·å…ˆå‹¾é€‰å¯¼å‡ºæ•°æ®')
                        return false
                    }
                }else{
                    var arr = []
                    var order_type = $('.breadcrumb li').eq(1).text().trim()
                    $('.grid-item').each(function (index, el) {
    
                        arr.push($(el).find('td').eq(1).text().trim())
                    })
                }
                if (($('.breadcrumb &gt; li').eq(1).text()).indexOf('è®¢å•') != -1) {
                    // 5ç§’åæ‰§è¡Œ
                    setTimeout(function () {
                        $.ajax({
                            type: &quot;POST&quot;,
                            url: url,
                            data: {'orderlist': JSON.stringify(arr), 'order_type': order_type,},
                            beforeSend: function (xhr) {
                                xhr.setRequestHeader(&quot;X-CSRFToken&quot;, $.getCookie(&quot;csrftoken&quot;))
                            },
                            success: function (data) {
                                window.location.reload();
                            },
                            error: function (xhr) {
                                alert(&quot;å‡ºç°æœªçŸ¥é”™è¯¯&quot;);
                                window.location.reload();
                            }
                        });
                    }, 5000);
                }
            });
        })
    &lt;/script&gt;

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br></div></div><h2 id="_68ã€ä½¿ç”¨fæŸ¥è¯¢æ›´æ–°ç”¨æˆ·é‡è¦æ•°æ®"><a href="#_68ã€ä½¿ç”¨fæŸ¥è¯¢æ›´æ–°ç”¨æˆ·é‡è¦æ•°æ®" class="header-anchor">#</a> 68ã€ä½¿ç”¨FæŸ¥è¯¢æ›´æ–°ç”¨æˆ·é‡è¦æ•°æ®</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>    from django.db.models import F
    # ä½¿ç”¨FæŸ¥è¯¢æ›´æ–°ç”¨æˆ·ä½™é¢
    balance = 5  
    MallUser.objects.filter(id=1).update(balance=F('balance') + balance)

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>ç›¸å½“äºsqlçš„</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>    update Malluser set balance=balance + 5 where id=1;

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="_69ã€æ—¥å¿—è¾“å‡ºæ¨¡å—"><a href="#_69ã€æ—¥å¿—è¾“å‡ºæ¨¡å—" class="header-anchor">#</a> 69ã€æ—¥å¿—è¾“å‡ºæ¨¡å—</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>    import logging
    import platform
    # å…¨å±€å‡½æ•°
    PlATFORM = platform.system()
    if (PlATFORM == &quot;Linux&quot;):
        # linuxç³»ç»Ÿ,æ–‡ä»¶ä¿å­˜åœ¨varä¸‹
        SERVER_LOG_PATH = '/var/mylog.log'
    else:
        # windowsç³»ç»Ÿ,æ–‡ä»¶ä¿å­˜åœ¨Dç›˜ä¸‹
        SERVER_LOG_PATH = 'D:\mylog.log'
    # å®šä¹‰ä¸€ä¸ªloggingçš„å¯¹è±¡ï¼Œå‘½åä¸ºmylog
    LOGGER = logging.getLogger('mylog')
    # è®¾ç½®çº§åˆ«ä¸ºWARNING
    LOGGER.setLevel(logging.WARNING)
    # åˆ›å»ºä¸€ä¸ªhandlerï¼Œç”¨äºå†™å…¥æ—¥å¿—æ–‡ä»¶
    fh = logging.FileHandler(SERVER_LOG_PATH, encoding='utf-8')
    fh.setLevel(logging.WARNING)
    # å®šä¹‰handlerçš„è¾“å‡ºæ ¼å¼
    formatter = logging.Formatter('%(asctime)s - %(name)s - %(levelname)s - %(message)s', datefmt='%Y-%m-%d %H:%M:%S')
    fh.setFormatter(formatter)
    # ç»™Loggeræ·»åŠ handler
    LOGGER.addHandler(fh)
    # ä¸åœ¨æ§åˆ¶å°æ˜¾ç¤º
    LOGGER.propagate = False

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h2 id="_70ã€å­—å…¸æ’åº"><a href="#_70ã€å­—å…¸æ’åº" class="header-anchor">#</a> 70ã€å­—å…¸æ’åº</h2> <p>å­—å…¸åœ¨å†…å­˜ä¸­å‘å¸ƒæ˜¯æ— åºçš„ï¼Œå½“æƒ³å¯¹é”®å€¼æˆ–è€…é”®åè¿›è¡Œæ’åºæ—¶å¯ä»¥å…ˆæŠŠå­—å…¸è½¬æˆå…ƒç»„ï¼Œè¿™å¯ä»¥è¾¾åˆ°æ’åºçš„ç›®çš„ã€‚</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>score = {'å°æ˜': {'avg_score': 90, 'English': 90, 'Math': 90, 'Chniese': 90, },
     'å°çº¢': {'avg_score': 60, 'English': 60, 'Math': 61, 'Chniese': 59, },
     'å°é»‘': {'avg_score': 70, 'English': 75, 'Math': 65, 'Chniese': 70, },
     'å°ç™½': {'avg_score': 80, 'English': 95, 'Math': 65, 'Chniese': 80, },
     }
# å¯¹å§“åè¿›è¡Œæ’åºï¼Œå³å¯¹é”®åè¿›è¡Œæ’åº
b = sorted(score.items(), key=lambda x: x[0], reverse=True)
show_str = ''
for info in b:
    # print(info)
    key, value = info[0], info[1]
    show_str += 'å§“åï¼š{},å¹³å‡åˆ†ï¼š{}ï¼Œæˆç»©ï¼š{}'.format(key,value['avg_score'], value) + '\r\n'
print('å¯¹å§“åè¿›è¡Œæ’åº')
print(show_str)
# å¯¹å¹³å‡åˆ†è¿›è¡Œæ’åº
b = sorted(score.items(), key=lambda x: x[1]['avg_score'], reverse=True)
show_str = ''
for info in b:
    # print(info)
    key, value = info[0], info[1]
    show_str += 'å§“åï¼š{},å¹³å‡åˆ†ï¼š{}ï¼Œæˆç»©ï¼š{}'.format(key,value['avg_score'], value) + '\r\n'
print('å¯¹å¹³å‡åˆ†è¿›è¡Œæ’åº')
print(show_str)

# å¯¹è‹±è¯­æˆç»©è¿›è¡Œæ’åº
b = sorted(score.items(), key=lambda x: x[1]['English'], reverse=True)
show_str = ''
for info in b:
    # print(info)
    key, value = info[0], info[1]
    show_str += 'å§“åï¼š{},å¹³å‡åˆ†ï¼š{}ï¼Œæˆç»©ï¼š{}'.format(key,value['avg_score'], value) + '\r\n'
print('å¯¹è‹±è¯­æˆç»©è¿›è¡Œæ’åº')
print(show_str)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><p>è¾“å‡ºï¼š</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>å¯¹å§“åè¿›è¡Œæ’åº
å§“åï¼šå°é»‘,å¹³å‡åˆ†ï¼š70ï¼Œæˆç»©ï¼š{'avg_score': 70, 'English': 75, 'Math': 65, 'Chniese': 70}
å§“åï¼šå°çº¢,å¹³å‡åˆ†ï¼š60ï¼Œæˆç»©ï¼š{'avg_score': 60, 'English': 60, 'Math': 61, 'Chniese': 59}
å§“åï¼šå°ç™½,å¹³å‡åˆ†ï¼š80ï¼Œæˆç»©ï¼š{'avg_score': 80, 'English': 95, 'Math': 65, 'Chniese': 80}
å§“åï¼šå°æ˜,å¹³å‡åˆ†ï¼š90ï¼Œæˆç»©ï¼š{'avg_score': 90, 'English': 90, 'Math': 90, 'Chniese': 90}

å¯¹å¹³å‡åˆ†è¿›è¡Œæ’åº
å§“åï¼šå°æ˜,å¹³å‡åˆ†ï¼š90ï¼Œæˆç»©ï¼š{'avg_score': 90, 'English': 90, 'Math': 90, 'Chniese': 90}
å§“åï¼šå°ç™½,å¹³å‡åˆ†ï¼š80ï¼Œæˆç»©ï¼š{'avg_score': 80, 'English': 95, 'Math': 65, 'Chniese': 80}
å§“åï¼šå°é»‘,å¹³å‡åˆ†ï¼š70ï¼Œæˆç»©ï¼š{'avg_score': 70, 'English': 75, 'Math': 65, 'Chniese': 70}
å§“åï¼šå°çº¢,å¹³å‡åˆ†ï¼š60ï¼Œæˆç»©ï¼š{'avg_score': 60, 'English': 60, 'Math': 61, 'Chniese': 59}

å¯¹è‹±è¯­æˆç»©è¿›è¡Œæ’åº
å§“åï¼šå°ç™½,å¹³å‡åˆ†ï¼š80ï¼Œæˆç»©ï¼š{'avg_score': 80, 'English': 95, 'Math': 65, 'Chniese': 80}
å§“åï¼šå°æ˜,å¹³å‡åˆ†ï¼š90ï¼Œæˆç»©ï¼š{'avg_score': 90, 'English': 90, 'Math': 90, 'Chniese': 90}
å§“åï¼šå°é»‘,å¹³å‡åˆ†ï¼š70ï¼Œæˆç»©ï¼š{'avg_score': 70, 'English': 75, 'Math': 65, 'Chniese': 70}
å§“åï¼šå°çº¢,å¹³å‡åˆ†ï¼š60ï¼Œæˆç»©ï¼š{'avg_score': 60, 'English': 60, 'Math': 61, 'Chniese': 59}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h3 id="å¯¹åˆ—è¡¨ä¸­å­—å…¸æŒ‰å¤šä¸ªé”®å€¼æ’åº"><a href="#å¯¹åˆ—è¡¨ä¸­å­—å…¸æŒ‰å¤šä¸ªé”®å€¼æ’åº" class="header-anchor">#</a> å¯¹åˆ—è¡¨ä¸­å­—å…¸æŒ‰å¤šä¸ªé”®å€¼æ’åº</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>from operator import itemgetter
data = [
    {'code': 1, 'position': 300, 'time': '1620442242'},
    {'code': 2, 'position': 255, 'time': '1620442242'},
    {'code': 3, 'position': 256, 'time': '1620442242'},
    {'code': 1, 'position': 500, 'time': '1620442242'},
    {'code': 5, 'position': 455, 'time': '1620442242'},
    {'code': 1, 'position': 322, 'time': '1620442242'},
    {'code': 6, 'position': 676, 'time': '1620442242'},
]
data = sorted(data, key=itemgetter('code', 'position'))

print(data)

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>è¾“å‡ºï¼š</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>[
{'code': 1, 'position': 300, 'time': '1620442242'}, 
{'code': 1, 'position': 322, 'time': '1620442242'}, 
{'code': 1, 'position': 500, 'time': '1620442242'}, 
{'code': 2, 'position': 255, 'time': '1620442242'}, 
{'code': 3, 'position': 256, 'time': '1620442242'}, 
{'code': 5, 'position': 455, 'time': '1620442242'}, 
{'code': 6, 'position': 676, 'time': '1620442242'}]
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="_71ã€æ—¶é—´æ ¼å¼ä¸å­—ç¬¦ä¸²äº’è½¬ã€æ¯”è¾ƒå¤§å°"><a href="#_71ã€æ—¶é—´æ ¼å¼ä¸å­—ç¬¦ä¸²äº’è½¬ã€æ¯”è¾ƒå¤§å°" class="header-anchor">#</a> 71ã€æ—¶é—´æ ¼å¼ä¸å­—ç¬¦ä¸²äº’è½¬ã€æ¯”è¾ƒå¤§å°</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>import datetime

# å½“å‰æ—¶é—´è½¬å­—ç¬¦ä¸²
now = datetime.datetime.strftime(datetime.datetime.now(), '%Y-%m-%d %H:%M:%S')
# å­—ç¬¦ä¸²è½¬æ—¶é—´æ ¼å¼
now = datetime.datetime.strptime(now, '%Y-%m-%d %H:%M:%S')
a = now + datetime.timedelta(minutes=-15)
# æ—¶é—´æ¯”è¾ƒå¤§å°
if a &lt; now:
    print('yes')
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="_72ã€pythonæŠŠ-u-å¼€å¤´çš„å­—ç¬¦ä¸²è½¬ä¸­æ–‡"><a href="#_72ã€pythonæŠŠ-u-å¼€å¤´çš„å­—ç¬¦ä¸²è½¬ä¸­æ–‡" class="header-anchor">#</a> 72ã€pythonæŠŠâ€™\uâ€™å¼€å¤´çš„å­—ç¬¦ä¸²è½¬ä¸­æ–‡</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>str_data = '\\u7528\\u6237 ID \\u6216\\u5bc6\\u7801\\u9519\\u8bef'
# å­—ç¬¦ä¸².encode('utf-8').decode('unicode_escape')
str_data_to_zh = str_data.encode('utf-8').decode('unicode_escape')
print(str_data_to_zh)

# è¾“å‡º
ç”¨æˆ· ID æˆ–å¯†ç é”™è¯¯
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="_73ã€djangoè¿›è¡Œæ•°æ®è¿ç§»æ—¶å‡ºç°no-changes-detectedè§£å†³æ–¹æ¡ˆ"><a href="#_73ã€djangoè¿›è¡Œæ•°æ®è¿ç§»æ—¶å‡ºç°no-changes-detectedè§£å†³æ–¹æ¡ˆ" class="header-anchor">#</a> 73ã€djangoè¿›è¡Œæ•°æ®è¿ç§»æ—¶å‡ºç°No changes detectedè§£å†³æ–¹æ¡ˆ</h2> <p>åŸå› ï¼šå¯èƒ½æ˜¯ç”±äºappä¸‹é¢æ²¡æœ‰migrationsæ–‡ä»¶å¤¹
æ‰€ä»¥éœ€è¦åˆ›å»ºè¿™ä¸ªæ–‡ä»¶å¤¹ï¼Œå‘½ä»¤</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>python manage.py makemigrations --empty ä½ çš„appåç§°
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="_74ã€ubuntuä¸‹è½½æ–‡ä»¶åˆ°windowsæ¡Œé¢"><a href="#_74ã€ubuntuä¸‹è½½æ–‡ä»¶åˆ°windowsæ¡Œé¢" class="header-anchor">#</a> 74ã€ubuntuä¸‹è½½æ–‡ä»¶åˆ°windowsæ¡Œé¢</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>apt install lrzsz
sz 123.txt
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="_75ã€gitæŸ¥çœ‹æäº¤æ—¥å¿—"><a href="#_75ã€gitæŸ¥çœ‹æäº¤æ—¥å¿—" class="header-anchor">#</a> 75ã€gitæŸ¥çœ‹æäº¤æ—¥å¿—</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code> git log --author=&quot;ldc&quot;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="_76ã€pythonç¿»è¯‘æ¨¡å—"><a href="#_76ã€pythonç¿»è¯‘æ¨¡å—" class="header-anchor">#</a> 76ã€pythonç¿»è¯‘æ¨¡å—</h2> <p>å¯ä»¥æŠŠè‹±æ–‡ç¿»è¯‘æˆä¸­æ–‡ï¼Œä¹Ÿå¯ä»¥æŠŠä¸­æ–‡ç¿»è¯‘æˆè‹±æ–‡</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>pip install  translate

from translate import Translator

name = 'giant panda, panda, panda bear, coon bear, Ailuropoda melanoleuca'
translator = Translator(to_lang=&quot;chinese&quot;)
translation = translator.translate(name)
print(translation)

translator= Translator(from_lang=&quot;chinese&quot;,to_lang=&quot;english&quot;)
translation = translator.translate(&quot;æˆ‘æƒ³ä½ &quot;)
print(translation)


è¾“å‡ºï¼š

å¤§ç†ŠçŒ«ï¼Œç†ŠçŒ«ï¼Œç†ŠçŒ«ç†Šï¼Œæµ£ç†Šï¼Œå¤§ç†ŠçŒ«
I missed you.
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h2 id="_77ã€pythonå®ç°å­—ç¬¦ä¸²è½¬å­—å…¸"><a href="#_77ã€pythonå®ç°å­—ç¬¦ä¸²è½¬å­—å…¸" class="header-anchor">#</a> 77ã€pythonå®ç°å­—ç¬¦ä¸²è½¬å­—å…¸</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>import ast
import json

target_str = '{&quot;h&quot;: 1, &quot;e&quot;: 2, &quot;l&quot;: 3, &quot;l&quot;: 4, &quot;o&quot;: 5}'
target_str2 = &quot;{'h': 1, 'e': 2, 'l': 3, 'l': 4, 'o': 5}&quot;

# æ–¹å¼1ï¼šä½¿ç”¨jsonï¼Œç¼ºç‚¹ï¼Œå­—ç¬¦ä¸²ä¸­ä¸èƒ½å‡ºç°å•å¼•å·
# ç”±äº json è¯­æ³•è§„å®š æ•°ç»„æˆ–å¯¹è±¡ä¹‹ä¸­çš„å­—ç¬¦ä¸²å¿…é¡»ä½¿ç”¨åŒå¼•å·ï¼Œä¸èƒ½ä½¿ç”¨å•å¼•å·
# å®˜ç½‘https://www.json.org/json-en.htmlä¸Šæœ‰ä¸€æ®µæè¿°æ˜¯
# A string is a sequence of zero or more Unicode characters, wrapped in double quotes, using backslash escapes
print(json.loads(target_str))
# print(json.loads(target_str2))   # ä½¿ç”¨jsonè½¬è¿™ä¸ªå­—ç¬¦ä¸²ä¼šæŠ¥é”™ Expecting property name enclosed in double quotes

# æ–¹å¼2ï¼šä½¿ç”¨evalå‡½æ•°ï¼Œç¼ºç‚¹ï¼Œä¸å®‰å…¨
print(eval(target_str))
print(eval(target_str2))
# print(eval(&quot;__import__('os').system('dir')&quot;))  # ä¼šåˆ—å‡ºå½“å‰çš„ç›®å½•æ–‡ä»¶ï¼Œå¦‚æœå­—ç¬¦ä¸²æ˜¯ä¸€äº›åˆ é™¤å‘½ä»¤ï¼Œåˆ™å¯ä»¥æŠŠæ•´ä¸ªç›®å½•æ¸…ç©ºï¼

# æ–¹å¼3ï¼Œä½¿ç”¨ast.literal_evalï¼Œæ²¡æœ‰jsonä¸evalçš„ç¼ºç‚¹ï¼Œæ¨èä½¿ç”¨è¿™ä¸ª
print(ast.literal_eval(target_str))
print(ast.literal_eval(target_str2))
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p>è¾“å‡ºï¼š</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>{'h': 1, 'e': 2, 'l': 4, 'o': 5}
{'h': 1, 'e': 2, 'l': 4, 'o': 5}
{'h': 1, 'e': 2, 'l': 4, 'o': 5}
{'h': 1, 'e': 2, 'l': 4, 'o': 5}
{'h': 1, 'e': 2, 'l': 4, 'o': 5}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="_78ã€django-app-å¦‚ä½•åœ¨åå°æ˜¾ç¤ºä¸­æ–‡å"><a href="#_78ã€django-app-å¦‚ä½•åœ¨åå°æ˜¾ç¤ºä¸­æ–‡å" class="header-anchor">#</a> 78ã€django app å¦‚ä½•åœ¨åå°æ˜¾ç¤ºä¸­æ–‡å</h2> <p>1.åœ¨app (è¿™é‡Œä»¥userä¸ºä¾‹)ä¸‹é¢çš„__init__.pyæ–‡ä»¶ä¸­</p> <p>æ·»åŠ :</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>default_app_config = 'user.apps.UserConfig'
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>2.åœ¨apps.pyä¸­</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>from django.apps import AppConfig

class UserConfig(AppConfig):
    name = 'user'
    verbose_name = 'ç”¨æˆ·'
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="_79ã€ä½¿ç”¨pythonç»™excelæŒ‡å®šè¡Œæ·»åŠ æ•°æ®"><a href="#_79ã€ä½¿ç”¨pythonç»™excelæŒ‡å®šè¡Œæ·»åŠ æ•°æ®" class="header-anchor">#</a> 79ã€ä½¿ç”¨pythonç»™ExcelæŒ‡å®šè¡Œæ·»åŠ æ•°æ®</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>import openpyxl, sys

wb = openpyxl.load_workbook('b.xlsx')
sheet = wb['Sheet1']

# åœ¨excelè¡¨æ ¼ç¬¬äºŒè¡Œæ·»åŠ æ–°æ•°æ®
addrow = 1   # å¢åŠ ä¸€è¡Œ
row = 2  # åœ¨ç¬¬äºŒè¡Œæ–°å¢ä¸€è¡Œ
name = 'b-back.xlsx' # æ–°çš„è¡¨å

wb1 = openpyxl.Workbook()
sheet1 = wb1['Sheet']

# å¤åˆ¶å‰rowè¡Œ
for i in range(1, row):
    for j in range(1, sheet.max_column + 1):
        sheet1.cell(row=i, column=j).value = sheet.cell(row=i, column=j).value


# å¤åˆ¶årowè¡Œ
for i in range(row, sheet.max_row + 1):
    for j in range(1, sheet.max_column + 1):
        if i == row:
            # ç»™ç¬¬rowè¡Œæ·»åŠ æ–°çš„æ•°æ®
            sheet1.cell(row=row, column=j).value = 'æ–°å¢'
        sheet1.cell(row=i + addrow, column=j).value = sheet.cell(row=i, column=j).value

wb1.save(name)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><p><img src="https://img-blog.csdnimg.cn/20200526120005871.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> <h2 id="_80ã€pythonä¸­çš„formatæ ¼å¼æ‹¼æ¥å­—ç¬¦ä¸²"><a href="#_80ã€pythonä¸­çš„formatæ ¼å¼æ‹¼æ¥å­—ç¬¦ä¸²" class="header-anchor">#</a> 80ã€pythonä¸­çš„formatæ ¼å¼æ‹¼æ¥å­—ç¬¦ä¸²</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>d = {'a': 1, 'b': 2, 'c': 3, 'd': 5}

print('{a},{b}'.format(**d))
print('{0},{1},{0}'.format('a', 'b'))
print(f&quot;{d['a']}&quot;)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>è¾“å‡ºï¼š</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>1,2
a,b,a
1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="_81ã€æ•°æ®åº“inner-joinã€full-joinã€left-joinã€unionã€union-allåŒºåˆ«"><a href="#_81ã€æ•°æ®åº“inner-joinã€full-joinã€left-joinã€unionã€union-allåŒºåˆ«" class="header-anchor">#</a> 81ã€æ•°æ®åº“inner joinã€full joinã€left joinã€unionã€union allåŒºåˆ«</h2> <p>è¡¨a_test</p> <p><img src="https://img-blog.csdnimg.cn/20200529102527295.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> <p>è¡¨b_test</p> <p><img src="https://img-blog.csdnimg.cn/20200529102549669.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> <p>INNER JOIN</p> <p>æ˜¯Aå’ŒBçš„äº¤é›†</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>SELECT * FROM a_test INNER JOIN b_test ON a_test.name = b_test.namesa

Inner join äº§ç”Ÿçš„ç»“æœé›†ä¸­ï¼Œæ˜¯Aå’ŒBçš„äº¤é›†ã€‚
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><img src="https://img-blog.csdnimg.cn/20200529102631494.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xtX2lzX2Rj,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> <p>FULL OUTER JOIN</p> <p>äº§ç”ŸAå’ŒBçš„å¹¶é›†</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>SELECT * FROM a_test FULL OUTER JOIN b_test ON a_test.name = b_test.name 

Full outer join äº§ç”ŸAå’ŒBçš„å¹¶é›†ã€‚
ä½†æ˜¯éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¯¹äºæ²¡æœ‰åŒ¹é…çš„è®°å½•ï¼Œåˆ™ä¼šä»¥nullåšä¸ºå€¼ã€‚
å¯ä»¥ä½¿ç”¨IF NULLåˆ¤æ–­ã€‚
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><img src="https://img-blog.csdnimg.cn/20200529102702865.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xtX2lzX2Rj,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>SELECT * FROM a_test FULL OUTER JOIN b_test ON a_test.name = b_test.name
WHERE a_test.id IS null OR b_test.id IS null

äº§ç”ŸAè¡¨å’ŒBè¡¨æ²¡æœ‰äº¤é›†çš„æ•°æ®é›†ã€‚
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><img src="https://img-blog.csdnimg.cn/20200529102724731.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> <p>LEFT [OUTER] JOIN</p> <p>äº§ç”Ÿè¡¨Açš„å®Œå…¨é›†ï¼Œè€ŒBè¡¨ä¸­åŒ¹é…çš„åˆ™æœ‰å€¼ï¼Œæ²¡æœ‰åŒ¹é…çš„åˆ™ä»¥nullå€¼å–ä»£</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>SELECT * FROM a_test LEFT OUTER JOIN b_test ON a_test.name = b_test.name
æœ‰äº›æ•°æ®åº“å¯ä»¥ä¸è¦OUTER
SELECT * FROM a_test LEFT  JOIN b_test ON a_test.name = b_test.name
Left outer join äº§ç”Ÿè¡¨Açš„å®Œå…¨é›†ï¼Œè€ŒBè¡¨ä¸­åŒ¹é…çš„åˆ™æœ‰å€¼ï¼Œæ²¡æœ‰åŒ¹é…çš„åˆ™ä»¥nullå€¼å–ä»£ã€‚
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><img src="https://img-blog.csdnimg.cn/20200529102808618.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>SELECT * FROM a_test LEFT OUTER JOIN b_test ON a_test.name = b_test.name 
WHERE b_test.id IS null

äº§ç”Ÿåœ¨Aè¡¨ä¸­æœ‰è€Œåœ¨Bè¡¨ä¸­æ²¡æœ‰çš„é›†åˆã€‚
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><img src="https://img-blog.csdnimg.cn/20200529102828846.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> <p>RIGHT [OUTER] JOIN</p> <p>RIGHT OUTER JOIN æ˜¯åé¢çš„è¡¨ä¸ºåŸºç¡€ï¼Œä¸LEFT OUTER JOINç”¨æ³•ç±»ä¼¼ã€‚</p> <p>UNION ä¸ UNION ALL</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>UNION æ“ä½œç¬¦ç”¨äºåˆå¹¶ä¸¤ä¸ªæˆ–å¤šä¸ª SELECT è¯­å¥çš„ç»“æœé›†ã€‚
è¯·æ³¨æ„ï¼ŒUNION å†…éƒ¨çš„ SELECT è¯­å¥å¿…é¡»æ‹¥æœ‰ç›¸åŒæ•°é‡çš„åˆ—ã€‚
åˆ—ä¹Ÿå¿…é¡»æ‹¥æœ‰ç›¸ä¼¼çš„æ•°æ®ç±»å‹ã€‚
åŒæ—¶ï¼Œæ¯æ¡ SELECT è¯­å¥ä¸­çš„åˆ—çš„é¡ºåºå¿…é¡»ç›¸åŒã€‚
UNION åªé€‰å–è®°å½•ï¼Œè€ŒUNION ALLä¼šåˆ—å‡ºæ‰€æœ‰è®°å½•ã€‚

SELECT name FROM a_test UNION SELECT name FROM b_test

é€‰å–ä¸åŒå€¼
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><img src="https://img-blog.csdnimg.cn/20200529102855430.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>SELECT a_test.id,a_test.name  FROM a_test 
UNION 
SELECT b_test.id,b_test.name FROM b_test

ç”±äº id 51 xh   ä¸ id 4 xh å¹¶ä¸ç›¸åŒï¼Œä¸åˆå¹¶


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><img src="https://img-blog.csdnimg.cn/20200529102917488.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>SELECT name FROM a_test UNION ALL SELECT name FROM b_test

å…¨éƒ¨åˆ—å‡ºæ¥

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><img src="https://img-blog.csdnimg.cn/20200529102937801.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> <p>è¿˜éœ€è¦æ³¨æ„çš„æ˜¯æˆ‘ä»¬è¿˜æœ‰ä¸€ä¸ªæ˜¯â€œäº¤å·®é›†â€ cross join, è¿™ç§Joinæ²¡æœ‰åŠæ³•ç”¨æ–‡å¼å›¾è¡¨ç¤ºï¼Œå› ä¸ºå…¶å°±æ˜¯æŠŠè¡¨Aå’Œè¡¨Bçš„æ•°æ®è¿›è¡Œä¸€ä¸ªN*Mçš„ç»„åˆï¼Œå³ç¬›å¡å°”ç§¯ã€‚</p> <p>è¡¨è¾¾å¼å¦‚ä¸‹ï¼šSELECT * FROM a_test CROSS JOIN b_test</p> <p>è¿™ä¸ªç¬›å¡å°”ä¹˜ç§¯ä¼šäº§ç”Ÿ 4 x 4 = 16 æ¡è®°å½•ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘ä»¬å¾ˆå°‘ç”¨åˆ°è¿™ä¸ªè¯­æ³•ã€‚ä½†æ˜¯æˆ‘ä»¬å¾—å°å¿ƒï¼Œå¦‚æœä¸æ˜¯ä½¿ç”¨åµŒå¥—çš„selectè¯­å¥ï¼Œä¸€èˆ¬ç³»ç»Ÿéƒ½ä¼šäº§ç”Ÿç¬›å¡å°”ä¹˜ç§¯ç„¶å†åšè¿‡æ»¤ã€‚è¿™æ˜¯å¯¹äºæ€§èƒ½æ¥è¯´æ˜¯éå¸¸å±é™©çš„ï¼Œå°¤å…¶æ˜¯è¡¨å¾ˆå¤§çš„æ—¶å€™ã€‚</p> <h2 id="_82ã€windowsç”µè„‘æŸ¥çœ‹ç«¯å£ä½¿ç”¨æƒ…å†µ"><a href="#_82ã€windowsç”µè„‘æŸ¥çœ‹ç«¯å£ä½¿ç”¨æƒ…å†µ" class="header-anchor">#</a> 82ã€windowsç”µè„‘æŸ¥çœ‹ç«¯å£ä½¿ç”¨æƒ…å†µ</h2> <p>æ‰¾å‡º8000ç«¯å£å¯¹åº”çš„PIDè¿›ç¨‹ï¼Œå‘½ä»¤ä¸ºï¼š</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>netstat -ano|findstr 8000
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>è¿›ç¨‹ä¿¡æ¯å¦‚ä¸‹ï¼š</p> <div class="language- line-numbers-mode"><pre class="language-text"><code> TCP    0.0.0.0:8000           0.0.0.0:0              LISTENING       1620
 UDP    0.0.0.0:8000           *:*                                    1620
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>æ‰¾å‡ºè¿›ç¨‹å¯¹åº”çš„è¯¦ç»†ä¿¡æ¯ï¼š</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>tasklist |findstr 1620

KGService.exe                 1620 Console                    1     18,696 K
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>å…³è¿›ç¨‹ï¼š</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>taskkill /pid 1620 /F
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>æŸ¥çœ‹ç¨‹åºå ç”¨å†…å­˜
æ¯”å¦‚æŸ¥çœ‹pythonå ç”¨è¿è¡Œå†…å­˜</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>tasklist  /fi &quot;imagename eq python.exe&quot;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="https://img-blog.csdnimg.cn/a61afd069e964e6f9d755c5c1884ca6f.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> <h2 id="_83ã€djangoç”Ÿæˆè¡¨å’Œåå‘ç”Ÿæˆmodel"><a href="#_83ã€djangoç”Ÿæˆè¡¨å’Œåå‘ç”Ÿæˆmodel" class="header-anchor">#</a> 83ã€Djangoç”Ÿæˆè¡¨å’Œåå‘ç”ŸæˆModel</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>æ­£å‘ç”Ÿæˆï¼š
python manage.py makemigrations
python manage.py migrate

åå‘ï¼š
ä¼šæ ¹æ®è®¾ç½®çš„æ•°æ®åº“ä¸­çš„è¡¨åœ¨è‡ªåŠ¨ç”Ÿæˆå¯¹åº”çš„Modelä»£ç ï¼Œå¹¶æ‰“å°å‡ºæ¥
python manage.py inspectdb

ä»¥ç›´æ¥å°†æ‰“å°çš„ä»£ç ç›´æ¥å¯¼å…¥åˆ°æŒ‡å®šçš„Modelæ–‡ä»¶ä¸­
python manage.py inspectdb &gt; models.py
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="_84ã€windowsçš„hostsæ–‡ä»¶ä½ç½®"><a href="#_84ã€windowsçš„hostsæ–‡ä»¶ä½ç½®" class="header-anchor">#</a> 84ã€windowsçš„hostsæ–‡ä»¶ä½ç½®</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>C:\Windows\System32\drivers\etc\hosts
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="_85ã€postgresqlæ•°æ®åº“"><a href="#_85ã€postgresqlæ•°æ®åº“" class="header-anchor">#</a> 85ã€postgresqlæ•°æ®åº“</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code># å¦‚æœè¡¨å­˜åœ¨å°±å…ˆåˆ é™¤
drop table if exists student;
# åˆ›å»ºå­¦ç”Ÿè¡¨
# id      serial not null  è¡¨ç¤ºidè‡ªå¢
# id      integer not null  è¡¨ç¤ºidä¸è‡ªå¢
create table student
(
    id                    serial not null
        constraint student_pk
            primary key,
    name                  varchar,
    class_id              integer,
    height                numeric,
    weight                numeric,
    write_date            timestamp
    
);

comment on table student is 'å­¦ç”Ÿè¡¨';

comment on column student.name is 'åç§°';

comment on column student.class_id is 'ç­çº§ID';

comment on column student.height is 'èº«é«˜';

comment on column student.weight is 'ä½“é‡';

comment on column student.write_date is 'ä¿®æ”¹æ—¶é—´';

alter table student
    owner to odoo;


# æ›´æ–°
update user set name='å¼ ä¸‰' where id=111

# æ›´æ–°è¡¨açš„å­—æ®µä¸ºè¡¨bçš„å€¼
update account_invoice 
set sale_order_id=so.id 
from sale_order so 
where account_invoice.origin=so.name

# æ–°å¢
insert into &quot;user&quot; (name,sex) values ('å°æ˜',1),('å°çº¢', 0)
# æ–°å¢æˆ–æ›´æ–°
å¦‚æœidå†²çªå°±æ›´æ–°
INSERT INTO  student(id, name)
   VALUES(12, 'å°æ˜'),(13, 'å°çº¢')
   ON conflict(id) DO UPDATE
   SET name ='æœªçŸ¥';
å¦‚æœidå†²çªå°±ä»€ä¹ˆä¹Ÿä¸åš
INSERT INTO  student(id, name)
   VALUES(12, 'å°æ˜'),(13, 'å°çº¢')
   ON conflict(id) DO NOTHING;

# æŠŠä¸€ä¸ªè¡¨ä¸­çš„æ•°æ®æ’å…¥åˆ°å¦ä¸€ä¸ªè¡¨ä¸­
insert into ç›®æ ‡è¡¨å (column1,column2,columnn) select value1,value2,valuen from  æºè¡¨å
æ¯”å¦‚ï¼š
insert into student (name, classs_name,create_date) select  student_name as name, class_name, now() from class_table;

# è·å–å½“å‰æ—¶é—´
now()
select now()

# åˆ é™¤
DELETE FROM table_name [WHERE Clause]

# å¢åŠ å­—æ®µ
alter table è¡¨å add column åˆ—å ç±»å‹;
# åˆ é™¤å­—æ®µ
alter table è¡¨å dropcolumn åˆ—å ;

# postgresqlæ•°æ®åº“æŸ¥çœ‹è¡¨æ‰€æœ‰å­—æ®µ
select * from information_schema.columns where table_schema='public' and table_name='è¡¨å';

# postgresqlè·å–æ‰€æœ‰è¡¨å
select tablename from pg_tables where schemaname='public'

# å¯¹æŸ¥è¯¢ç»“æœæŒ‰idé™åºæ˜¾ç¤º
select * from table_name order by id desc

# å¯¹æŸ¥è¯¢ç»“æœæŒ‰idå‡åºæ˜¾ç¤º
select * from table_name order by id asc

# è½¬ä¹‰å­—ç¬¦, æŸ¥æ‰¾nameä¸­åŒ…å«å•å¼•å·çš„è®°å½•
select * from student where name like  E'%\'%';

# æŸ¥çœ‹è¡¨è®°å½•æ€»æ•°
select relname as TABLE_NAME, reltuples as rowCounts from pg_class where relkind = 'r' and relnamespace = (select oid from pg_namespace where nspname='public') order by rowCounts desc;

# å°†ç»“æœè½¬æ¢ä¸ºæ•°ç»„
SELECT array(SELECT &quot;name&quot; FROM sale_order);

# å°†æ•°ç»„åˆå¹¶ä¸ºå­—ç¬¦ä¸²
select array_to_string(array[1,2,3], ',')

# è”åˆå­é›†æ›´æ–°ï¼ŒæŠŠsale_order_lineçš„nameè¿æ¥æ¢è¡Œç¬¦ï¼Œç„¶åæŒ‰idæ›´æ–°åˆ°è¡¨a_testä¸­å¯¹åº”çš„name
update a_test set name=array_to_string(array(select name from sale_order_line where order_id=a_test.id),'&lt;br/&gt;');

# PostgreSQLåˆå¹¶æŸ¥è¯¢åŒä¸€åˆ—çš„å¤šæ¡è®°å½•ï¼Œé’ˆå¯¹ä¸€å¯¹å¤šï¼Œå¤šå¯¹å¤šå­—æ®µ
æ¯”å¦‚è¡¨ï¼š

id   name                  
1    å°æ˜                   
1    å°çº¢                     id   name
1    å°äº®        --&gt;          1    å°æ˜ï¼Œå°äº®ï¼Œå°çº¢
2    å°å¼º                     2    å°å¼ºï¼Œå°ç‹
2    å°ç‹

SELECT 
    id, array_to_string(ARRAY(SELECT unnest(array_agg(name order by name desc))),',') AS all_name
FROM  
    student
GROUP BY id;

# caseè¯­å¥
case var
	when condition1 then statement1
	when condition2 then statement2
else statementn
end as new_name

æ¯”å¦‚ï¼š
select case name
	when 'å°æ˜' then 'xm'
	when 'å°çº¢' then 'xh'
	when 'å°åˆš' then 'xg'
else 'xw'
end as short_name
from student

# ä¸´æ—¶è¡¨ã€å­—ç¬¦ä¸²åˆå¹¶ã€ç±»å‹è½¬æ¢ã€æ—¶é—´æ ¼å¼è½¬æ¢ã€å½“å‰æ—¶é—´
WITH TEMP AS ( 
	SELECT CAST ( concat ( bam.account_period_code, '-01' ) AS TIMESTAMP ) 
	   AS account_period_time 
		 FROM bi_account_move AS bam ) 
SELECT
	account_period_time,
	to_char(CURRENT_DATE,'yyyy-MM-dd hh24:MI:ss') as current_date,
	to_char( account_period_time, 'yyyy' ) as year,
	to_char( account_period_time, 'MM' ) as month,
	to_char( account_period_time, 'dd' ) as day 
FROM TEMP

æ¯”å¦‚ï¼š
account_period_time	current_date	    year	month	day
2019-06-01 0:00:00	2020-06-24 00:00:00	2019	 06	     01
2019-06-01 0:00:00	2020-06-24 00:00:00	2019	 06	     01

# å¤šä¸ªå­—ç¬¦ä¸²æ‹¼æ¥
select 
concat('payment_', CAST(ap.id as varchar)) as line_key
from ap

# å°†æŸ¥è¯¢æ‰€å¾—ç»“æœé›†çš„æŸä¸€å­—æ®µæ‹¼æ¥æˆå­—ç¬¦ä¸²ï¼Œé»˜è®¤çš„æ˜¯é€—å·
select GROUP_CONCAT(id) from test where id&gt;5;
ç»“æœä¸ºï¼š
1,2,3,4,5,6,7
# ä½¿ç”¨å…¶ä»–åˆ†éš”ç¬¦æ‹¼æ¥
select GROUP_CONCAT(id separator '-') from test where id&gt;5;
ç»“æœä¸ºï¼š
1-2-3-4-5-6-7
# å¤šä¸ªä¸´æ—¶è¡¨
WITH temp_student AS ( SELECT ID, NAME, sex FROM student WHERE sex = TRUE ),
temp_class AS (
	SELECT
		ID,
		NAME,
		student_id,
		teacher_id
	FROM
		the_class 
	),
	temp_teacher AS (
	SELECT 
	  ID,
		NAME,
		age 
	FROM
		teacher 
	) 
	SELECT
	ts.NAME AS student_name,
	tc.NAME AS class_name,
	te.NAME AS teacher_name
	from temp_student as ts
	LEFT JOIN temp_class AS tc ON tc.student_id = ts.ID  
	LEFT JOIN teacher AS te ON te.id = tc.teacher_id  

# nullè½¬æˆæœ‰æ„ä¹‰çš„å€¼
select COALESCE(name, '') as name from a_test
æ„æ€å°±æ˜¯å¦‚æœnameä¸ºnullï¼Œå°±è½¬ä¸ºç©ºå­—ç¬¦ä¸²

# å­—ç¬¦ä¸²æˆªå–
select SUBSTRING('abcd',1,2); -- result:ab è¡¨ç¤ºä»ä¸‹æ ‡ä»1å¼€å§‹,æˆªå–2ä¸ªå­—ç¬¦

# ä½¿ç”¨ interval æ—¶é—´ç›¸åŠ å‡(+/-)
å½“å‰æ—¶é—´ + 10ç§’ï¼Œ
select to_char(now() + interval '10 second', 'yyyy-mm-dd hh24:mi:ss')  as reqDate from account_period;
å½“å‰æ—¶é—´ - 10ç§’
select to_char(now() + interval '-10 second', 'yyyy-mm-dd hh24:mi:ss')  as reqDate from account_period;
 
å½“å‰æ—¶é—´ + 10åˆ†ï¼Œ
select to_char(now() + interval '10 minute', 'yyyy-mm-dd hh24:mi:ss')  as reqDate  from account_period;
 
å½“å‰æ—¶é—´ + 10æ—¶ï¼Œ
select to_char(now() + interval '10 hour', 'yyyy-mm-dd hh24:mi:ss')  as reqDate from account_period;
 
å½“å‰æ—¶é—´ + 10å¤©ï¼Œ
select to_char(now() + interval '10 day', 'yyyy-mm-dd hh24:mi:ss')  as reqDate from account_period;

å½“å‰æ—¶é—´ + 10å¹´ï¼Œ
select to_char(now() + interval '10 year', 'yyyy-mm-dd hh24:mi:ss')  as reqDate from account_period;

# UNION types numeric and text cannot be matched
NULL::NUMERIC
 è¿™ä¸ªé—®é¢˜ï¼Œæ˜¯å› ä¸ºå‡ ä¸ªsqlç»„åˆåœ¨ä¸€èµ·æ—¶ï¼ŒåŒä¸€ä¸ªå­—æ®µçš„å€¼ï¼Œé‡åˆ°nullæ—¶ï¼Œéœ€è¦è¿›è¡Œç±»å‹è½¬æ¢ã€‚

# å¯¹è¡Œè®°å½•å®šä¹‰è¡Œç¼–å·ï¼Œä½¿ç”¨å‡½æ•°ROW_NUMBER()
# æŒ‰åˆ†æ•°è¿›è¡Œé™åºï¼Œç„¶åç»™è¡Œè®°å½•æ ‡è®°è¡Œç¼–å·ï¼Œå¯ä»¥ä½œä¸ºæ’åæ¥ä½¿ç”¨
select           
	ROW_NUMBER() OVER (ORDER BY score desc) AS sequence_number,
	name,score
from
	b_test

# æ•°å­—è½¬å­—ç¬¦ä¸²  
select cast(123 as VARCHAR); 

# å­—ç¬¦ä¸²è½¬æ•°å­—  
select cast('123' as INTEGER);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br><span class="line-number">156</span><br><span class="line-number">157</span><br><span class="line-number">158</span><br><span class="line-number">159</span><br><span class="line-number">160</span><br><span class="line-number">161</span><br><span class="line-number">162</span><br><span class="line-number">163</span><br><span class="line-number">164</span><br><span class="line-number">165</span><br><span class="line-number">166</span><br><span class="line-number">167</span><br><span class="line-number">168</span><br><span class="line-number">169</span><br><span class="line-number">170</span><br><span class="line-number">171</span><br><span class="line-number">172</span><br><span class="line-number">173</span><br><span class="line-number">174</span><br><span class="line-number">175</span><br><span class="line-number">176</span><br><span class="line-number">177</span><br><span class="line-number">178</span><br><span class="line-number">179</span><br><span class="line-number">180</span><br><span class="line-number">181</span><br><span class="line-number">182</span><br><span class="line-number">183</span><br><span class="line-number">184</span><br><span class="line-number">185</span><br><span class="line-number">186</span><br><span class="line-number">187</span><br><span class="line-number">188</span><br><span class="line-number">189</span><br><span class="line-number">190</span><br><span class="line-number">191</span><br><span class="line-number">192</span><br><span class="line-number">193</span><br><span class="line-number">194</span><br><span class="line-number">195</span><br><span class="line-number">196</span><br><span class="line-number">197</span><br><span class="line-number">198</span><br><span class="line-number">199</span><br><span class="line-number">200</span><br><span class="line-number">201</span><br><span class="line-number">202</span><br><span class="line-number">203</span><br><span class="line-number">204</span><br><span class="line-number">205</span><br><span class="line-number">206</span><br><span class="line-number">207</span><br><span class="line-number">208</span><br><span class="line-number">209</span><br><span class="line-number">210</span><br><span class="line-number">211</span><br><span class="line-number">212</span><br><span class="line-number">213</span><br><span class="line-number">214</span><br><span class="line-number">215</span><br><span class="line-number">216</span><br><span class="line-number">217</span><br><span class="line-number">218</span><br><span class="line-number">219</span><br><span class="line-number">220</span><br><span class="line-number">221</span><br><span class="line-number">222</span><br><span class="line-number">223</span><br><span class="line-number">224</span><br><span class="line-number">225</span><br><span class="line-number">226</span><br><span class="line-number">227</span><br><span class="line-number">228</span><br><span class="line-number">229</span><br><span class="line-number">230</span><br><span class="line-number">231</span><br><span class="line-number">232</span><br></div></div><h2 id="_86ã€pythonæ§åˆ¶å°è¾“å‡ºå¸¦é¢œè‰²çš„æ–‡å­—æ–¹æ³•"><a href="#_86ã€pythonæ§åˆ¶å°è¾“å‡ºå¸¦é¢œè‰²çš„æ–‡å­—æ–¹æ³•" class="header-anchor">#</a> 86ã€pythonæ§åˆ¶å°è¾“å‡ºå¸¦é¢œè‰²çš„æ–‡å­—æ–¹æ³•</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>#æ ¼å¼ï¼šã€€ã€€è®¾ç½®é¢œè‰²å¼€å§‹ ï¼š\033[æ˜¾ç¤ºæ–¹å¼;å‰æ™¯è‰²;èƒŒæ™¯è‰²m
#è¯´æ˜ï¼š
å‰æ™¯è‰²            èƒŒæ™¯è‰²           é¢œè‰²
---------------------------------------
30                40              é»‘è‰²
31                41              çº¢è‰²
32                42              ç»¿è‰²
33                43              é»ƒè‰²
34                44              è“è‰²
35                45              ç´«çº¢è‰²
36                46              é’è“è‰²
37                47              ç™½è‰²
æ˜¾ç¤ºæ–¹å¼           æ„ä¹‰
-------------------------
0                ç»ˆç«¯é»˜è®¤è®¾ç½®
1                é«˜äº®æ˜¾ç¤º
4                ä½¿ç”¨ä¸‹åˆ’çº¿
5                é—ªçƒ
7                åç™½æ˜¾ç¤º
8                ä¸å¯è§
 
#ä¾‹å­ï¼š
\033[1;31;40m    &lt;!--1-é«˜äº®æ˜¾ç¤º 31-å‰æ™¯è‰²çº¢è‰²  40-èƒŒæ™¯è‰²é»‘è‰²--&gt;
\033[0m          &lt;!--é‡‡ç”¨ç»ˆç«¯é»˜è®¤è®¾ç½®ï¼Œå³å–æ¶ˆé¢œè‰²è®¾ç½®--&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><div class="language- line-numbers-mode"><pre class="language-text"><code>ä¾‹å­
print('ç´«çº¢å­—ä½“ \033[1;35m hello world \033[0m!')
print('è¤è‰²èƒŒæ™¯ç»¿è‰²å­—ä½“ \033[1;32;43m hello world \033[0m!')
print('\033[1;33;44mhello world\033[0m')
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><img src="https://img-blog.csdnimg.cn/20200615143709116.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> <h2 id="_87ã€æ§åˆ¶å°è¾“å‡ºç™½è‰²æ–¹æ¡†"><a href="#_87ã€æ§åˆ¶å°è¾“å‡ºç™½è‰²æ–¹æ¡†" class="header-anchor">#</a> 87ã€æ§åˆ¶å°è¾“å‡ºç™½è‰²æ–¹æ¡†</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>print('â–ˆ')
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="_88ã€xadminåå°ç¼–è¾‘å¤šå¯¹å¤šå­—æ®µ"><a href="#_88ã€xadminåå°ç¼–è¾‘å¤šå¯¹å¤šå­—æ®µ" class="header-anchor">#</a> 88ã€xadminåå°ç¼–è¾‘å¤šå¯¹å¤šå­—æ®µ</h2> <p>åœ¨models.pyå®šä¹‰äº†å¤šå¯¹å¤šå­—æ®µï¼Œæƒ³è¦åœ¨ç¼–è¾‘æ—¶å¯ä»¥çµæ´»ä½¿ç”¨è¿™ä¸ªå­—æ®µçš„è¯ï¼Œå¯ä»¥æŒ‰ä»¥ä¸‹æ–¹æ³•è®¾ç½®ï¼š
modes.py</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>class Book(models.Model):
    title = models.CharField(verbose_name=&quot;ä¹¦å&quot;, max_length=32)
    second_title = models.CharField(verbose_name=&quot;å‰¯æ ‡é¢˜&quot;, max_length=32, blank=True, null=True)
    author = models.CharField(verbose_name=&quot;ä½œè€…&quot;, max_length=32)
    translator = models.CharField(verbose_name=&quot;è¯‘è€…&quot;, max_length=32, blank=True, null=True)
    intro = models.TextField(verbose_name=&quot;æè¿°&quot;)
    pic = models.FileField(verbose_name=&quot;å°é¢å›¾ç‰‡&quot;, max_length=64, upload_to='book_cover', null=True, blank=True)
    tags = models.ManyToManyField(Tags, verbose_name='ä¹¦ç±æ ‡ç­¾', blank=True)
    prizes = models.ManyToManyField(Prizes, verbose_name='è·å¥–è¯¦æƒ…', blank=True)
    sump = models.IntegerField(verbose_name=&quot;æ”¶è—äººæ•°&quot;, default=0)
    rate_num = models.IntegerField(verbose_name=&quot;è¯„åˆ†äººæ•°&quot;, default=0)
    num = models.IntegerField(verbose_name=&quot;æµè§ˆé‡&quot;, default=0)
    published_time = models.DateField(blank=True, null=True, verbose_name='å‡ºç‰ˆæ—¶é—´')
    create_time = models.DateTimeField(auto_now_add=True, verbose_name='åˆ›å»ºæ—¶é—´')

    class Meta:
        db_table = 'book'
        verbose_name = &quot;å›¾ä¹¦&quot;
        verbose_name_plural = &quot;å›¾ä¹¦&quot;

    def __str__(self):
        return self.title
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p>adminx.py</p> <div class="language- line-numbers-mode"><pre class="language-text"><code># ä¹¦ç±ç®¡ç†
class BookAdmin(object):
    search_fields = ['title', 'author', 'intro']  # æ£€ç´¢å­—æ®µ
    list_display = ['id', 'show_pic', 'title', 'second_title', 'author', 'translator', 'published_time', 'intro',
                    'tags', 'prizes', 'num', 'sump', 'rate_num']  # è¦æ˜¾ç¤ºçš„å­—æ®µ
    list_filter = ['published_time', 'tags', 'prizes']  # åˆ†ç»„è¿‡æ»¤çš„å­—æ®µ
    ordering = ('id',)  # è®¾ç½®é»˜è®¤æ’åºå­—æ®µï¼Œè´Ÿå·è¡¨ç¤ºé™åºæ’åº
    list_per_page = 30  # é»˜è®¤æ¯é¡µæ˜¾ç¤ºå¤šå°‘æ¡è®°å½•ï¼Œé»˜è®¤æ˜¯100æ¡
    model_icon = 'fa fa-book'  # å·¦ä¾§å°å›¾æ ‡
    list_editable = ['title', 'author', 'intro', 'published_time']  # å¯ç¼–è¾‘å­—æ®µ
    style_fields = {'tags': 'm2m_transfer', 'prizes': 'm2m_transfer'}  # æ§åˆ¶å­—æ®µçš„æ˜¾ç¤ºæ ·å¼
    filter_horizontal = ('tags', 'prizes')  # æ°´å¹³é€‰æ‹©ç¼–è¾‘å¤šå¯¹å¤šå­—æ®µ
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>é‡ç‚¹æ˜¯è®¾ç½®style_fields å’Œfilter_horizontal ï¼Œæ•ˆæœï¼š</p> <p><img src="https://img-blog.csdnimg.cn/20200621214122315.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xtX2lzX2Rj,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> <h2 id="_89ã€djangoåå°é€šè¿‡æŒ‰é’®æ˜¾ç¤ºtextfieldå­—æ®µå†…å®¹"><a href="#_89ã€djangoåå°é€šè¿‡æŒ‰é’®æ˜¾ç¤ºtextfieldå­—æ®µå†…å®¹" class="header-anchor">#</a> 89ã€Djangoåå°é€šè¿‡æŒ‰é’®æ˜¾ç¤ºTextFieldå­—æ®µå†…å®¹</h2> <p>ç”±äºTextFieldå­—æ®µç±»å‹å†…å®¹å¯èƒ½å¾ˆé•¿ï¼Œåœ¨åå°æ˜¾ç¤ºæ—¶å¾ˆå å±å¹•ä½ç½®ï¼Œå¯ä»¥é€šè¿‡æŒ‰é’®æ¥æ§åˆ¶æ˜¾ç¤ºï¼Œä»£ç å¦‚ä¸‹ï¼š
models.pyä¸­å®šä¹‰äº†ä¸€ä¸ªTextFieldå­—æ®µç±»å‹ï¼š</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>class Prizes(models.Model):
    name = models.CharField(max_length=32, verbose_name=&quot;å¥–é¡¹&quot;)
    intro = models.TextField(blank=True, null=True, verbose_name='ç®€ä»‹')

    class Meta:
        db_table = 'prizes'
        verbose_name = &quot;å¥–é¡¹&quot;
        verbose_name_plural = &quot;å¥–é¡¹&quot;

    def __str__(self):
        return self.name
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>è¿™é‡Œä½¿ç”¨xadminä½œä¸ºåå°ç®¡ç†æ¡†æ¶ï¼Œåœ¨adminx.pyä¸­ä»£ç å¦‚ä¸‹ï¼š</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>import xadmin
from django.utils.safestring import mark_safe
from xadmin import views

from .models import *

# å¥–é¡¹ç®¡ç†
class PrizesAdmin(object):
    search_fields = ['name']  # æ£€ç´¢å­—æ®µ
    list_display = ['id', 'name', 'show_intro']
    list_filter = ['name']
    ordering = ('id',)

    def show_intro(self, obj):
        # æ˜¾ç¤ºç®€ä»‹
        if not obj.intro:
            return mark_safe('')
        if len(obj.intro) &lt; 20:
            return mark_safe(obj.intro)

        short_id = f'{obj._meta.db_table}_short_text_{obj.id}'
        short_text_len = len(obj.intro) // 4
        short_text = obj.intro[:short_text_len] + '......'
        detail_id = f'{obj._meta.db_table}_detail_text_{obj.id}'
        detail_text = obj.intro

        text = &quot;&quot;&quot;&lt;style type=&quot;text/css&quot;&gt;
                        #%s,%s {padding:10px;border:1px solid green;} 
                  &lt;/style&gt;
                    &lt;script type=&quot;text/javascript&quot;&gt;

                    function openShutManager(oSourceObj,oTargetObj,shutAble,oOpenTip,oShutTip,oShortObj){
                        var sourceObj = typeof oSourceObj == &quot;string&quot; ? document.getElementById(oSourceObj) : oSourceObj;
                        var targetObj = typeof oTargetObj == &quot;string&quot; ? document.getElementById(oTargetObj) : oTargetObj;
                        var shortObj = typeof oShortObj == &quot;string&quot; ? document.getElementById(oShortObj) : oShortObj;
                        var openTip = oOpenTip || &quot;&quot;;
                        var shutTip = oShutTip || &quot;&quot;;
                        if(targetObj.style.display!=&quot;none&quot;){
                           if(shutAble) return;
                           targetObj.style.display=&quot;none&quot;;
                           shortObj.style.display=&quot;block&quot;;
                           if(openTip  &amp;&amp;  shutTip){
                            sourceObj.innerHTML = shutTip; 
                           }
                        } else {
                           targetObj.style.display=&quot;block&quot;;
                           shortObj.style.display=&quot;none&quot;;
                           if(openTip  &amp;&amp;  shutTip){
                            sourceObj.innerHTML = openTip; 
                           }
                        }
                        }
                    &lt;/script&gt;
                    &lt;p id=&quot;%s&quot;&gt;%s&lt;/p&gt;
                    &lt;p&gt;&lt;a href=&quot;###&quot; Î¿nclick=&quot;openShutManager(this,'%s',false,'ç‚¹å‡»å…³é—­','ç‚¹å‡»å±•å¼€','%s')&quot;&gt;ç‚¹å‡»å±•å¼€&lt;/a&gt;&lt;/p&gt;

                    &lt;p id=&quot;%s&quot; style=&quot;display:none&quot;&gt;
                       %s
                    &lt;/p&gt;
                    &quot;&quot;&quot; % (short_id, detail_id, short_id, short_text, detail_id, short_id, detail_id, detail_text)
        return mark_safe(text)

    show_intro.short_description = 'æè¿°'
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br></div></div><p><strong>æ³¨æ„</strong>ï¼šå¤åˆ¶ä»£ç åéœ€è¦åšå¦‚ä¸‹ä¿®æ”¹ï¼š</p> <p><img src="https://img-blog.csdnimg.cn/20200815204246956.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xtX2lzX2Rj,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> <p>ä¸€å¼€å§‹æ•ˆæœ</p> <p><img src="https://img-blog.csdnimg.cn/20200621230038819.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xtX2lzX2Rj,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> <p>ç‚¹å‡»å±•å¼€æ•ˆæœï¼š<img src="https://img-blog.csdnimg.cn/20200621230120177.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xtX2lzX2Rj,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> <h2 id="_90ã€å‰ç«¯åˆ¤æ–­ä¸Šä¼ çš„æ–‡ä»¶æ˜¯å¦ä¸ºå›¾ç‰‡ä¸”é™åˆ¶å¤§å°ä¸º300kb"><a href="#_90ã€å‰ç«¯åˆ¤æ–­ä¸Šä¼ çš„æ–‡ä»¶æ˜¯å¦ä¸ºå›¾ç‰‡ä¸”é™åˆ¶å¤§å°ä¸º300kb" class="header-anchor">#</a> 90ã€å‰ç«¯åˆ¤æ–­ä¸Šä¼ çš„æ–‡ä»¶æ˜¯å¦ä¸ºå›¾ç‰‡ä¸”é™åˆ¶å¤§å°ä¸º300kB</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en-us&quot;&gt;

&lt;body class=&quot;login&quot;&gt;

&lt;input class=&quot;form-control input-lg&quot; id=&quot;id_icon&quot; name=&quot;icon&quot; type=&quot;file&quot; onchange=&quot;imgTypeSize('id_icon',300)&quot;
&lt;script type=&quot;text/javascript&quot;&gt;
    //åˆ¤æ–­æ˜¯å¦ä¸ºå›¾ç‰‡ï¼Œè‹¥ä¸ºå›¾ç‰‡ï¼Œåˆ¤æ–­å…¶å¤§å°æ˜¯å¦å¤§äº0.3M
    function imgTypeSize(FileId, maxsize) {
        /*è·å–å›¾ç‰‡å†…å®¹å¯¹è±¡*/
        var imgFile = document.getElementById(FileId).files[0];
        if (imgFile.name == &quot;&quot;) {
            alert(&quot;è¯·ä¸Šä¼ å¤´åƒå“¦&quot;);
            return false;
        } else {
            /*å›¾ç‰‡ç±»å‹æ­£åˆ™éªŒè¯*/
            var imgStr = /\.(jpg|jpeg|png|bmp|BMP|JPG|PNG|JPEG)$/;
            if (!imgStr.test(imgFile.name)) {
                alert(&quot;æ–‡ä»¶ä¸æ˜¯å›¾ç‰‡ç±»å‹&quot;);
                return false;
            } else {
                /*å›¾ç‰‡å¤§å°*/
                var imagSize = imgFile.size;
                if (imagSize &lt; (1024 * maxsize)) {
                    return true;
                } else {
                    alert(imgFile.name + &quot;å¤§å°ä¸èƒ½è¶…è¿‡&quot; + maxsize + &quot;kB&quot;);
                    document.getElementById(FileId).value = &quot;&quot;
                    return false;
                }
            }
        }
    }


&lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br></div></div><h2 id="_91ã€formè¡¨å•æäº¤å‰éªŒè¯"><a href="#_91ã€formè¡¨å•æäº¤å‰éªŒè¯" class="header-anchor">#</a> 91ã€formè¡¨å•æäº¤å‰éªŒè¯</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;form action=&quot;&quot; method=&quot;post&quot; id=&quot;login-form&quot; onsubmit=&quot;return toVaild()&quot;&gt;
	&lt;input class=&quot;form-control&quot; id=&quot;id_account&quot; name=&quot;account&quot; type=&quot;text&quot; placeholder=&quot;è´¦å·&quot;/&gt;
	&lt;input class=&quot;form-control&quot; id=&quot;id_password&quot; name=&quot;password&quot; type=&quot;password&quot; placeholder=&quot;å¯†ç &quot;&gt;
&lt;form&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
    document.getElementById('id_username').focus()

    function toVaild() {
        var account = document.getElementById(&quot;id_account&quot;).value;
        var password = document.getElementById(&quot;id_password&quot;).value;
        if (account == &quot;&quot; || password == &quot;&quot;) {
            alert(&quot;è¯·è¾“å…¥è´¦å·å’Œå¯†ç &quot;);
            return false;
        } else {
            return true;
        }
    }
&lt;/script&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h2 id="_92ã€æœ‰åºå­—å…¸"><a href="#_92ã€æœ‰åºå­—å…¸" class="header-anchor">#</a> 92ã€æœ‰åºå­—å…¸</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>import collections

d1 = collections.OrderedDict()  # åˆ›å»ºä¸€ä¸ªæœ‰åºå­—å…¸
d1['a'] = 'A'
d1['b'] = 'B'
d1['c'] = 'C'
d1['d'] = 'D'
for k, v in d1.items():
    print(k, v)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="_93ã€pythonåœ¨windowsç³»ç»Ÿä¸‹å®ç°tts-æ–‡å­—è½¬è¯­éŸ³"><a href="#_93ã€pythonåœ¨windowsç³»ç»Ÿä¸‹å®ç°tts-æ–‡å­—è½¬è¯­éŸ³" class="header-anchor">#</a> 93ã€Pythonåœ¨Windowsç³»ç»Ÿä¸‹å®ç°TTSï¼ˆæ–‡å­—è½¬è¯­éŸ³ï¼‰</h2> <p>å¯¼å…¥åŒ…ï¼š</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>pip install pypiwin32

import win32com.client
spk = win32com.client.Dispatch(&quot;SAPI.SpVoice&quot;)
spk.Speak(u&quot;my name is ldc,what is your name&quot;)
spk.Speak(u&quot;å¤§å®¶å¥½&quot;)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="_94ã€å®šä¹‰ä¸€ä¸ªç®€å•é—¹é’Ÿ"><a href="#_94ã€å®šä¹‰ä¸€ä¸ªç®€å•é—¹é’Ÿ" class="header-anchor">#</a> 94ã€å®šä¹‰ä¸€ä¸ªç®€å•é—¹é’Ÿ</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code># pip install pypiwin32 -i https://pypi.python.org/simple
import win32com.client
import time 
import winsound

spk = win32com.client.Dispatch(&quot;SAPI.SpVoice&quot;)
# å®šä¹‰é—¹é’Ÿæ—¶é—´
clocktime = [[19, 19], [11, 10], [12, 10], [18, 47]]  
runinghour = 1  # å®šä¹‰è¿è¡Œæ—¶é—´
times = runinghour * 3600  # æ¬¡æ•°
print(times)
for i in range(1, times):
    time_now = [time.localtime(time.time()).tm_hour, time.localtime(time.time()).tm_min]
    if time_now in clocktime:
        print(time_now)
        winsound.Beep(1000, 1000)
        spk.Speak(u&quot;å¿«å»çœ‹ä¸‹é¥­å¥½äº†æ²¡æœ‰ï¼Ÿ&quot;)
    time.sleep(60)  # æ¯åˆ†é’Ÿå¯¹æ¯”ä¸€æ¬¡æ—¶é—´
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h2 id="_95ã€æ ¹æ®å¹´æœˆè·å–å½“æœˆå¤©æ•°"><a href="#_95ã€æ ¹æ®å¹´æœˆè·å–å½“æœˆå¤©æ•°" class="header-anchor">#</a> 95ã€æ ¹æ®å¹´æœˆè·å–å½“æœˆå¤©æ•°</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>def get_month_days(year, month):
    &quot;&quot;&quot;
    æ ¹æ®å¹´ä»½ï¼Œæœˆä»½ä¿¡æ¯æ˜¾ç¤ºæ­¤æœˆä»½å¤©æ•°
    :param year: å¹´ä»½ï¼š
    :param month: æœˆä»½ï¼ˆ1ï½12ï¼‰ï¼š
    :return: å½“æœˆå¤©æ•°
    &quot;&quot;&quot;
    if month &gt;12 or month &lt;= 0:
        return -1
    if month == 2:
        return 29 if year % 4 == 0 and year % 100 != 0 or year % 400 == 0 else 28

    if month in (4, 6, 9, 11):
        return 30
    else:
        return 31

a = '2020-04'.split('-')
year = int(a[0])
month = int(a[1])
print(get_month_days(year,month))

è¾“å‡ºï¼š
30
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><h2 id="_96ã€djangoè·å–favicon-icoå›¾æ ‡"><a href="#_96ã€djangoè·å–favicon-icoå›¾æ ‡" class="header-anchor">#</a> 96ã€Djangoè·å–favicon.icoå›¾æ ‡</h2> <p>åˆ¶ä½œä¸€ä¸ªicoæ–‡ä»¶ï¼Œä½¿ç”¨PSæˆ–è€…æŸäº›åœ¨çº¿ç”Ÿæˆicoçš„ç½‘ç«™</p> <p>å°†æ­¤æ–‡ä»¶å‘½åä¸ºâ€œfavicon.icoâ€åæ”¾åœ¨static/ä¸‹</p> <p><img src="https://img-blog.csdnimg.cn/20200805104730363.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xtX2lzX2Rj,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> <p>åœ¨urls.pyä¸­å®šä¹‰è·¯ç”±ï¼š</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>from django.urls import path
from django.views.generic import RedirectView

urlpatterns = [
	# è®¿é—®favicon.ico ç½‘ç«™å›¾æ ‡
    path(&quot;favicon.ico&quot;,RedirectView.as_view(url='static/favicon.ico')),

]
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="_97ã€django-é™æ€æ–‡ä»¶é…ç½®"><a href="#_97ã€django-é™æ€æ–‡ä»¶é…ç½®" class="header-anchor">#</a> 97ã€django é™æ€æ–‡ä»¶é…ç½®</h2> <p>settings.py</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>    STATIC_URL = '/static/'
    # æ·»åŠ é™æ€èµ„æºè·¯ç”±åœ°å€
    STATICFILES_DIRS = [
        os.path.join(BASE_DIR, 'static'),
    
    ]
    # ä½¿ç”¨python manage.py collectstaticæ”¶é›†é™æ€æ–‡ä»¶æ—¶æ—¶ä½¿ç”¨STATIC_ROOT
    # STATIC_ROOT = os.path.join(BASE_DIR, 'static')

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>urls.py</p> <div class="language- extra-class"><pre><code>from django.urls import path, re_path
from django.views.generic import RedirectView
from django.views.static import serve

from 'ä½ çš„é¡¹ç›®åç§°' import settings
urlpatterns = [
   
    path(&quot;favicon.ico&quot;,RedirectView.as_view(url='static/favicon.ico')),
    re_path('static/(?P&lt;path&gt;.*)$', serve, {'document_root': settings.STATICFILES_DIRS[0]}),
    
]
</code></pre></div><h2 id="_98ã€django-jsonresponseè¿”å›ä¸­æ–‡æ—¶æ˜¾ç¤ºunicodeç¼–ç -u67e5-u8be2"><a href="#_98ã€django-jsonresponseè¿”å›ä¸­æ–‡æ—¶æ˜¾ç¤ºunicodeç¼–ç -u67e5-u8be2" class="header-anchor">#</a> 98ã€django JsonResponseè¿”å›ä¸­æ–‡æ—¶æ˜¾ç¤ºunicodeç¼–ç ï¼ˆ\u67e5\u8be2ï¼‰</h2> <p>åŸå› 
è¿™ä¸ªunicodeç¼–ç ï¼Œæ˜¯python3é»˜è®¤è¿”å›çš„ç¼–ç ã€‚</p> <p>è§£å†³æ–¹æ¡ˆ
JsonResponseé‡Œé¢æœ‰ä¸ªå‚æ•°json_dumps_paramsï¼Œè®¾ç½®ä¸ºjson_dumps_params={â€˜ensure_asciiâ€™:False}å³å¯ã€‚</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>    data = {'msg': 'åˆ›å»ºæˆåŠŸ',}
    return JsonResponse(data=data, json_dumps_params={'ensure_ascii': False})
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="_99ã€è·å–å½“å‰æ—¶é—´æœˆä»½çš„é¦–æ—¥ä¸æœ€åä¸€å¤©"><a href="#_99ã€è·å–å½“å‰æ—¶é—´æœˆä»½çš„é¦–æ—¥ä¸æœ€åä¸€å¤©" class="header-anchor">#</a> 99ã€è·å–å½“å‰æ—¶é—´æœˆä»½çš„é¦–æ—¥ä¸æœ€åä¸€å¤©</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>import calendar

def get_month_start_and_end(date=datetime.datetime.now()):
    &quot;&quot;&quot;
    è·å–å½“å‰æ—¶é—´çš„æœˆä»½é¦–æ—¥ä¸æœ€åä¸€å¤©
    :param date:
    :return: (é¦–æ—¥ï¼Œæœ€åä¸€å¤©)
    &quot;&quot;&quot;
    year, month = str(date).split('-')[0], str(date).split('-')[1]
    end = calendar.monthrange(int(year), int(month))[1]
    return f'{year}-{month}-01', f'{year}-{month}-{end}'

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="_100ã€xadminåå°æ‰¹é‡æ“ä½œ"><a href="#_100ã€xadminåå°æ‰¹é‡æ“ä½œ" class="header-anchor">#</a> 100ã€xadminåå°æ‰¹é‡æ“ä½œ</h2> <p>adminx.py</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>import xadmin
from django.db.models import  Sum
from xadmin.plugins.actions import BaseActionView

class MyCountFeeAction(BaseActionView):
    &quot;&quot;&quot;
        ç”¨æˆ·ä½™é¢ç»Ÿè®¡
        &quot;&quot;&quot;
    action_name = &quot;countuserfee&quot;  #: ç›¸å½“äºè¿™ä¸ª Action çš„å”¯ä¸€æ ‡ç¤º, å°½é‡ç”¨æ¯”è¾ƒé’ˆå¯¹æ€§çš„åå­—
    description = u'ç»Ÿè®¡ç”¨æˆ·æ€»ä½™é¢'  #: æè¿°, å‡ºç°åœ¨ Action èœå•ä¸­, å¯ä»¥ä½¿ç”¨ ``%(verbose_name_plural)s`` ä»£æ›¿ Model çš„åå­—.
    model_perm = 'view'  # æƒé™

    def do_action(self, queryset):
        all_balance = MallUser.objects.all().aggregate(Sum('balance'))
        return HttpResponse(f'ç”¨æˆ·æ€»ä½™é¢{all_balance}')
class UserAdmin(object):
    &quot;&quot;&quot;ç”¨æˆ·ä¿¡æ¯ç®¡ç†&quot;&quot;&quot;
    list_display = ['username', 'balance', 'status', 'addtime']
    search_fields = ['username', ]
    list_filter = ['status', 'addtime']
    list_per_page = 30  # é»˜è®¤æ¯é¡µæ•°é‡
    model_icon = 'fa fa-user'
    list_editable = ['status']
    ordering = ['-addtime']
    actions = [ MyCountFeeAction]  # æ·»åŠ æ‰¹é‡é€‰æ‹©æ“ä½œ
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><p><img src="https://img-blog.csdnimg.cn/20200812233442373.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xtX2lzX2Rj,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> <h2 id="_101ã€xadminè¿‡æ»¤å™¨å¤–é”®æ˜¾ç¤ºç‰¹å®šå€¼-æ¯”å¦‚åªèƒ½è¿‡æ»¤è‡ªå·±ä¸è¶…çº§ç®¡ç†å‘˜å®šä¹‰çš„æ•°æ®"><a href="#_101ã€xadminè¿‡æ»¤å™¨å¤–é”®æ˜¾ç¤ºç‰¹å®šå€¼-æ¯”å¦‚åªèƒ½è¿‡æ»¤è‡ªå·±ä¸è¶…çº§ç®¡ç†å‘˜å®šä¹‰çš„æ•°æ®" class="header-anchor">#</a> 101ã€xadminè¿‡æ»¤å™¨å¤–é”®æ˜¾ç¤ºç‰¹å®šå€¼ï¼ˆæ¯”å¦‚åªèƒ½è¿‡æ»¤è‡ªå·±ä¸è¶…çº§ç®¡ç†å‘˜å®šä¹‰çš„æ•°æ®ï¼‰</h2> <p>é¦–å…ˆï¼Œä¿®æ”¹xadminæºç ï¼Œä¿®æ”¹xadmin/filters.py,åœ¨401è¡Œï¼Œåšå¦‚ä¸‹ä¿®æ”¹ï¼Œ</p> <div class="language- extra-class"><pre><code>æŠŠself.lookup_choices = field.get_choices(include_blank=False)
æ”¹ä¸ºï¼š

# è°ƒç”¨è‡ªå®šä¹‰çš„æ–¹æ³•
if hasattr(model_admin, '{field}_choices'.format(field=field.name)):
        self.lookup_choices = getattr(model_admin, '{field}_choices'.format(field=field.name))(field, request,params, model,model_admin,field_path)
    else:
        self.lookup_choices = field.get_choices(include_blank=False)
</code></pre></div><p>å¦‚å›¾:</p> <p><img src="https://img-blog.csdnimg.cn/20200812234011656.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xtX2lzX2Rj,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> <p>ç„¶åï¼Œåœ¨adminx.pyä¸­å®šä¹‰è¿‡æ»¤çš„æ–¹æ³•ï¼š</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>import xadmin
from django.db.models import  Q, Sum
from xadmin.plugins.actions import BaseActionView

class MeasurePointAdmin(object):
    # search_fields = ['user__name', 'user__account']  # æ£€ç´¢å­—æ®µ
    list_display = ['num', 'elevation', 'correct_num', 'cumulative_amount']
    list_filter = ['user', 'is_default', 'create_time']  # åˆ†ç»„è¿‡æ»¤çš„å­—æ®µ
    list_editable = ['num', 'elevation', 'correct_num', 'cumulative_amount']
    ordering = ('id',)  # è®¾ç½®é»˜è®¤æ’åºå­—æ®µï¼Œè´Ÿå·è¡¨ç¤ºé™åºæ’åº
    list_per_page = 30  # é»˜è®¤æ¯é¡µæ˜¾ç¤ºå¤šå°‘æ¡è®°å½•ï¼Œé»˜è®¤æ˜¯100æ¡
    model_icon = 'fa fa-users'  # å·¦ä¾§å°å›¾æ ‡
    readonly_fields = ['user', 'is_default']
    import_excel = True
    actions = [MyCountFeeAction]
	
	# å®šä¹‰çš„å‡½æ•°åå¿…é¡»æ˜¯  å­—æ®µå_choices
    def user_choices(self, field, request, params, model, model_admin, field_path):
        # è¶…çº§ç”¨æˆ·ä¸åšæ§åˆ¶
        if self.request.user.is_superuser:
            return field.get_choices(include_blank=False)

        # è¿‡æ»¤å™¨åªæ˜¾ç¤ºè‡ªå·±ä¸è¶…çº§ç®¡ç†å‘˜
        user_lst = field.related_model._default_manager.filter(Q(id=self.request.user.id) | Q(is_superuser=True))
        # è¿”å›æ ¼å¼ [('pk','æ ‡é¢˜'),]
        return [(user.id, user.username) for user in user_lst]
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><p>æ•ˆæœ:</p> <p><img src="https://img-blog.csdnimg.cn/2020081223440761.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xtX2lzX2Rj,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> <h2 id="_102ã€djangoä¸­çš„csrfå±€éƒ¨ç¦ç”¨"><a href="#_102ã€djangoä¸­çš„csrfå±€éƒ¨ç¦ç”¨" class="header-anchor">#</a> 102ã€Djangoä¸­çš„CSRFå±€éƒ¨ç¦ç”¨</h2> <p>ä¸ºäº†é¿å…æ²¡æœ‰csrf tokenè€Œäº§ç”Ÿçš„403çš„forbiddené”™è¯¯ï¼Œå¯ä»¥ä½¿ç”¨csrf_exemptè£…é¥°å™¨æ¥å¤„ç†POSTã€GETè¯·æ±‚çš„View, è¿™ç§æ–¹å¼æ˜¯CSRFå±€éƒ¨ç¦ç”¨ã€‚</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>from django.utils.decorators import method_decorator
from django.views.decorators.csrf import csrf_exempt

@method_decorator(csrf_exempt)
def update_data(request):
    if request.method == 'POST':
    	pass
	elif request.method == 'GET':
    	pass

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="_103ã€ä½¿ç”¨pythonå‘½ä»¤åˆ›å»ºdjangoé¡¹ç›®"><a href="#_103ã€ä½¿ç”¨pythonå‘½ä»¤åˆ›å»ºdjangoé¡¹ç›®" class="header-anchor">#</a> 103ã€ä½¿ç”¨pythonå‘½ä»¤åˆ›å»ºdjangoé¡¹ç›®</h2> <p>åˆ›å»ºdjangoé¡¹ç›®
æ–¹å¼ä¸€ï¼šç›´æ¥æ‰“å¼€pycharmåˆ›å»ºï¼Œé€‰æ‹©file-&gt;new project-&gt;django
æ–¹å¼äºŒï¼šé€šè¿‡å‘½ä»¤åˆ›å»º
å…ˆåˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼špython -m venv django_venv
ç„¶åå¯¼å…¥djangoåº“ï¼špip install django -i https://pypi.tuna.tsinghua.edu.cn/simple
æœ€åä½¿ç”¨å‘½ä»¤åˆ›å»ºï¼šdjango-admin startproject my_django_project</p> <h2 id="_104ã€-äºŒç»´åˆ—è¡¨ã€äºŒç»´æ•°ç»„è¡Œæ±‚å’Œä¸åˆ—æ±‚å’Œ"><a href="#_104ã€-äºŒç»´åˆ—è¡¨ã€äºŒç»´æ•°ç»„è¡Œæ±‚å’Œä¸åˆ—æ±‚å’Œ" class="header-anchor">#</a> 104ã€ äºŒç»´åˆ—è¡¨ã€äºŒç»´æ•°ç»„è¡Œæ±‚å’Œä¸åˆ—æ±‚å’Œ</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>import pandas as pd
from functools import reduce

# äºŒç»´æ•°ç»„ï¼Œå¯¹åˆ—å’Œè¡Œæ±‚å’Œ
a = [
    ['', 0, '', 1, 4.1],
    ['', 0, '', '', 4],
    ['123', 0, '', 3, 4, 6,7],
]


def aa(x, y):
    x = 0 if isinstance(x, str) else x
    y = 0 if isinstance(y, str) else y
    return x + y

# å¯¹è¡Œæ±‚å’Œ
row_sum = [reduce(aa, i) for i in a]
# å¯¹åˆ—æ±‚å’Œï¼Œåªèƒ½å¤„ç†ç›¸åŒé•¿åº¦çš„å­å…ƒç´ 
column_sum_1 = [reduce(aa, i) for i in zip(*a)]
# å¯¹åˆ—æ±‚å’Œï¼Œå¯ä»¥å¤„ç†ä¸åŒé•¿åº¦çš„å­å…ƒç´ 
column_sum_2 = list(dict(pd.DataFrame(a).fillna(0).apply(lambda x: '' if any(isinstance(d, str) for d in x) else round(x.sum(), 2))).values())
print('è¡Œæ±‚å’Œï¼š{}\r\nåˆ—æ±‚å’Œ(ç›¸åŒé•¿åº¦)ï¼š{}\r\nåˆ—æ±‚å’Œï¼š{}'.format(row_sum, column_sum_1, column_sum_2))
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p>è¾“å‡ºï¼š</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>è¡Œæ±‚å’Œï¼š[5.1, 4, 20]
åˆ—æ±‚å’Œ(ç›¸åŒé•¿åº¦)ï¼š[0, 0, 0, 4, 12.1]
åˆ—æ±‚å’Œï¼š['', 0, '', '', 12.1, 6.0, 7.0]
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="_105ã€è·å–æ—¶é—´å­—ç¬¦ä¸²çš„æœˆä»½æ•°"><a href="#_105ã€è·å–æ—¶é—´å­—ç¬¦ä¸²çš„æœˆä»½æ•°" class="header-anchor">#</a> 105ã€è·å–æ—¶é—´å­—ç¬¦ä¸²çš„æœˆä»½æ•°</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>from datetime import datetime
    
def get_months(start_month_str, end_month_str):
    '''
    # è·å–æ—¶é—´å­—ç¬¦ä¸²ä¸­çš„æœˆä»½æ•°
    :param start_month_str: å¼€å§‹å­—ç¬¦ä¸²
    :param end_month_str: ç»“æŸå­—ç¬¦ä¸²
    :return: æœˆä»½æ•°
    '''

    end_month_date = datetime.strptime(end_month_str, '%Y-%m')
    start_month_date = datetime.strptime(start_month_str, '%Y-%m')
    end_year, end_month = end_month_date.year, end_month_date.month
    start_year, start_month = start_month_date.year, start_month_date.month

    return (end_year - start_year) *12 + (end_month - start_month) + 1


end_month_str = '2021-02'
start_month_str = '2020-07'
print(get_months(start_month_str, end_month_str))

è¾“å‡ºï¼š

8
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h2 id="_106ã€å­—ç¬¦ä¸²ä¸è¶³è¡¥é›¶"><a href="#_106ã€å­—ç¬¦ä¸²ä¸è¶³è¡¥é›¶" class="header-anchor">#</a> 106ã€å­—ç¬¦ä¸²ä¸è¶³è¡¥é›¶</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>print('hello world'.zfill(15)) # è¡¥0
print('hello world'.rjust(15)) # å³å¯¹é½ï¼Œè¡¥ç©ºæ ¼
print('hello world'.ljust(15)) # å·¦å¯¹é½ï¼Œè¡¥ç©ºæ ¼

è¾“å‡ºï¼š

0000hello world
    hello world
hello world  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="_107ã€æ—¶é—´æˆ³è½¬å­—ç¬¦ä¸²æ—¥æœŸ"><a href="#_107ã€æ—¶é—´æˆ³è½¬å­—ç¬¦ä¸²æ—¥æœŸ" class="header-anchor">#</a> 107ã€æ—¶é—´æˆ³è½¬å­—ç¬¦ä¸²æ—¥æœŸ</h2> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">import</span> time
t1 <span class="token operator">=</span> time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>t1<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span>strftime<span class="token punctuation">(</span><span class="token string">&quot;%Y-%m-%d %H:%M:%S&quot;</span><span class="token punctuation">,</span> time<span class="token punctuation">.</span>localtime<span class="token punctuation">(</span>t1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

è¾“å‡ºï¼š
<span class="token number">1621741567.082192</span>
<span class="token number">2021</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">23</span> <span class="token number">11</span><span class="token punctuation">:</span><span class="token number">46</span><span class="token punctuation">:</span><span class="token number">07</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>ä½¿ç”¨å‡½æ•°ï¼š</p> <div class="language- line-numbers-mode"><pre class="language-text"><code># !/usr/bin/python
# -*- coding: utf-8 -*-

&quot;&quot;&quot;
@contact: å¾®ä¿¡ 1257309054
@file: æ—¶é—´æˆ³è½¬æ—¥æœŸ.py
@time: 2022/6/27 17:16
@author: LDC
&quot;&quot;&quot;
import time
import datetime


# æ­£ç¡®10ä½é•¿åº¦çš„æ—¶é—´æˆ³å¯ç²¾ç¡®åˆ°ç§’ï¼Œ11-14ä½é•¿åº¦åˆ™æ˜¯åŒ…å«äº†æ¯«ç§’
def int_to_datetime(intValue):
    if len(str(intValue)) == 10:
        # ç²¾ç¡®åˆ°ç§’
        timeValue = time.localtime(intValue)
        tempDate = time.strftime(&quot;%Y-%m-%d %H:%M:%S&quot;, timeValue)
        datetimeValue = datetime.datetime.strptime(tempDate, &quot;%Y-%m-%d %H:%M:%S&quot;)
    elif 10 &lt; len(str(intValue)) and len(str(intValue)) &lt; 15:
        # ç²¾ç¡®åˆ°æ¯«ç§’
        k = len(str(intValue)) - 10
        timetamp = datetime.datetime.fromtimestamp(intValue / (1 * 10 ** k))
        datetimeValue = timetamp.strftime(&quot;%Y-%m-%d %H:%M:%S.%f&quot;)
    else:
        return -1
    return datetimeValue


time1 = 1656321420
time2 = 1656321086560
print(int_to_datetime(time1))
print(int_to_datetime(time2))

'''
è¾“å‡ºï¼š
2022-06-27 17:17:00
2022-06-27 17:11:26.560000
'''
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br></div></div><h2 id="_108ã€åˆ—è¡¨è½¬å­—ç¬¦ä¸²"><a href="#_108ã€åˆ—è¡¨è½¬å­—ç¬¦ä¸²" class="header-anchor">#</a> 108ã€åˆ—è¡¨è½¬å­—ç¬¦ä¸²</h2> <div class="language-python line-numbers-mode"><pre class="language-python"><code>a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">','</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token builtin">map</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">,</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

è¾“å‡ºï¼š
`<span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span>`
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="_109ã€pipå›½å†…é•œåƒæº"><a href="#_109ã€pipå›½å†…é•œåƒæº" class="header-anchor">#</a> 109ã€pipå›½å†…é•œåƒæº</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>pip install åº“å -i https://pypi.tuna.tsinghua.edu.cn/simple


æ¸…åï¼š-i https://pypi.tuna.tsinghua.edu.cn/simple

é˜¿é‡Œäº‘ï¼š-i http://mirrors.aliyun.com/pypi/simple/

ä¸­å›½ç§‘æŠ€å¤§å­¦ -i https://pypi.mirrors.ustc.edu.cn/simple/

åä¸­ç†å·¥å¤§å­¦ï¼š-i http://pypi.hustunique.com/

å±±ä¸œç†å·¥å¤§å­¦ï¼š-i http://pypi.sdutlinux.org/ 

è±†ç“£ï¼š-i http://pypi.douban.com/simple/
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h2 id="_110ã€pythonæŠŠæ—¶é—´å­—ç¬¦ä¸²è½¬æ¢æˆåˆšåˆšã€1å¤©å‰ã€3ä¸ªæœˆå‰ã€1å¹´å‰"><a href="#_110ã€pythonæŠŠæ—¶é—´å­—ç¬¦ä¸²è½¬æ¢æˆåˆšåˆšã€1å¤©å‰ã€3ä¸ªæœˆå‰ã€1å¹´å‰" class="header-anchor">#</a> 110ã€pythonæŠŠæ—¶é—´å­—ç¬¦ä¸²è½¬æ¢æˆåˆšåˆšã€1å¤©å‰ã€3ä¸ªæœˆå‰ã€1å¹´å‰</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>import datetime
import time


def date_interval(date_str):
    '''
    è·å–æ—¶é—´é—´éš”
    1åˆ†é’Ÿå‰ï¼Œ2åˆ†é’Ÿå‰ï¼Œ10åˆ†é’Ÿå‰ï¼Œ1å°æ—¶å‰ï¼Œ2å°æ—¶å‰ï¼Œ1å¤©å‰ï¼Œ2å¤©å‰ï¼Œ3å¤©å‰ï¼Œ1ä¸ªæœˆå‰ï¼Œ3ä¸ªæœˆå‰ï¼Œ1å¹´å‰ï¼Œ3å¹´å‰
    :param date_str: æ—¶é—´å­—ç¬¦ä¸²
    :return: å­—ç¬¦ä¸²
    '''
    date_str = time.strptime(date_str, '%Y-%m-%d %H:%M:%S')
    # å°†æ—¶é—´å…ƒç»„è½¬æ¢ä¸ºæ—¶é—´æˆ³
    t = time.mktime(date_str)

    # å½“å‰æ—¶é—´
    seconds = time.time() - t

    years = int(seconds // (60 * 60 * 24 * 365))
    if years:
        return '{}å¹´å‰'.format(years)
    months = int(seconds // (60 * 60 * 24 * 30))
    if months:
        return '{}æœˆå‰'.format(months)
    days = int(seconds // (60 * 60 * 24))
    if days:
        return '{}å¤©å‰'.format(days)
    hours = int(seconds // (60 * 60))
    if hours:
        return '{}å°æ—¶å‰'.format(hours)
    minutes = int(seconds // (60))
    if minutes:
        return '{}åˆ†é’Ÿå‰'.format(minutes)
    return 'åˆšåˆš'


if __name__ == '__main__':
    date1 = '2019-07-10 15:27:51'
    date2 = '2021-07-10 15:27:51'
    date3 = '2021-08-10 15:27:51'
    date4 = '2021-08-12 11:01:51'
    date5 = datetime.datetime.now() + datetime.timedelta(seconds=-3)
    date5 = date5.strftime('%Y-%m-%d %H:%M:%S')
    print(date_interval(date1))
    print(date_interval(date2))
    print(date_interval(date3))
    print(date_interval(date4))
    print(date_interval(date5))
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br></div></div><h2 id="_111ã€djangoä½¿ç”¨ormæ‰§è¡Œsqlè¯­å¥"><a href="#_111ã€djangoä½¿ç”¨ormæ‰§è¡Œsqlè¯­å¥" class="header-anchor">#</a> 111ã€Djangoä½¿ç”¨ORMæ‰§è¡Œsqlè¯­å¥</h2> <p>é€šè¿‡rawå‡½æ•°æ‰§è¡Œ</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>alarm_datas = gsm.AlertMessage.objects.raw('''
                select am_all.id, am_all.sensor_number
                    FROM alert_message as am_all
                    where 
                        am_all.real='1'
                        and am_all.is_show=1
                    order by am_all.alarm_level desc
                ''')
for ad in alarm_datas:
	print(ad.sensor_number)

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="_112ã€djangoé€šè¿‡å˜é‡å­—æ®µè·å–æ•°æ®"><a href="#_112ã€djangoé€šè¿‡å˜é‡å­—æ®µè·å–æ•°æ®" class="header-anchor">#</a> 112ã€Djangoé€šè¿‡å˜é‡å­—æ®µè·å–æ•°æ®</h2> <p>é€šè¿‡æ–¹æ³•<code>__getattribute__</code>æ¥è·å–</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>alert_messages = AlertMessage.objects.filter(real=0)
am_fields = ['id', 'real', 'name']
for am in alert_messages:
	for i in range(len(am_fields)):
		print(am_fields[i], am.__getattribute__(am_fields[i]))

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="_113ã€djangoæŸ¥è¯¢å˜é‡å­—æ®µã€æ›´æ–°å˜é‡å­—æ®µ"><a href="#_113ã€djangoæŸ¥è¯¢å˜é‡å­—æ®µã€æ›´æ–°å˜é‡å­—æ®µ" class="header-anchor">#</a> 113ã€DjangoæŸ¥è¯¢å˜é‡å­—æ®µã€æ›´æ–°å˜é‡å­—æ®µ</h2> <p>é€šè¿‡<code>**{å˜é‡å:å€¼}</code>æ¥æ“ä½œ</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>field = 'device_code'
# æŸ¥è¯¢
device_infos = gsm.DeviceInfo.objects.filter(**{field: '012'})
# æ›´æ–°
gsm.DeviceInfo.objects.filter(device_code='012').update(**{field : '0'})

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="_114ã€vueç”Ÿæˆdistæ–‡ä»¶"><a href="#_114ã€vueç”Ÿæˆdistæ–‡ä»¶" class="header-anchor">#</a> 114ã€vueç”Ÿæˆdistæ–‡ä»¶</h2> <p>å®‰è£…npmï¼Œåˆ°<a href="https://nodejs.org/en/download/" target="_blank" rel="noopener noreferrer">å®˜ç½‘ä¸‹è½½<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>
åœ¨vueé¡¹ç›®ä¸‹æ‰“å¼€cmdï¼Œè¾“å…¥å‘½ä»¤</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>npm run build
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>å¦‚æœæŠ¥é”™ï¼Œnpm ERR! missing script: buildï¼Œ
åˆ™ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>npm run build:prod
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>å…·ä½“çœ‹package.json</p> <p><img src="https://img-blog.csdnimg.cn/eff15dcd4c1d499f9641d0ac25c09bc0.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5Lic5pyo5pyI,size_20,color_FFFFFF,t_70,g_se,x_16" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> <h2 id="_115ã€pythonè·å–ç”µè„‘ç£ç›˜ã€cpuã€å†…å­˜ä½¿ç”¨æƒ…å†µ"><a href="#_115ã€pythonè·å–ç”µè„‘ç£ç›˜ã€cpuã€å†…å­˜ä½¿ç”¨æƒ…å†µ" class="header-anchor">#</a> 115ã€pythonè·å–ç”µè„‘ç£ç›˜ã€CPUã€å†…å­˜ä½¿ç”¨æƒ…å†µ</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>import psutil
#  pip install psutil

# è·å–æœ¬æœºç£ç›˜ä½¿ç”¨ç‡å’Œå‰©ä½™ç©ºé—´Gä¿¡æ¯
def get_disk_info():
    # å¾ªç¯ç£ç›˜åˆ†åŒº
    content = &quot;&quot;
    for disk in psutil.disk_partitions():
        # è¯»å†™æ–¹å¼ å…‰ç›˜ or æœ‰æ•ˆç£ç›˜ç±»å‹
        if 'cdrom' in disk.opts or disk.fstype == '':
            continue
        disk_name_arr = disk.device.split(':')
        disk_name = disk_name_arr[0]
        disk_info = psutil.disk_usage(disk.device)
        # ç£ç›˜å‰©ä½™ç©ºé—´ï¼Œå•ä½G
        free_disk_size = disk_info.free//1024//1024//1024
        # å½“å‰ç£ç›˜ä½¿ç”¨ç‡å’Œå‰©ä½™ç©ºé—´Gä¿¡æ¯
        info = &quot;{}ç›˜ä½¿ç”¨ç‡ï¼š{}%%ï¼Œ å‰©ä½™ç©ºé—´ï¼š{}G &quot;.format(disk_name, str(disk_info.percent), free_disk_size)
        # æ‹¼æ¥å¤šä¸ªç£ç›˜çš„ä¿¡æ¯
        content = content + info
    print(content)

# cpuä¿¡æ¯
def get_cpu_info():
    cpu_percent = psutil.cpu_percent(interval=1)
    cpu_info = &quot;CPUä½¿ç”¨ç‡ï¼š%i%%&quot; % cpu_percent
    print(cpu_info)

# å†…å­˜ä¿¡æ¯
def get_memory_info():
    virtual_memory = psutil.virtual_memory()
    used_memory = virtual_memory.used/1024/1024/1024
    free_memory = virtual_memory.free/1024/1024/1024
    memory_percent = virtual_memory.percent
    memory_info = &quot;å†…å­˜ä½¿ç”¨ï¼š%0.2fGï¼Œä½¿ç”¨ç‡%0.1f%%ï¼Œå‰©ä½™å†…å­˜ï¼š%0.2fG&quot; % (used_memory, memory_percent, free_memory)
    print(memory_info)

if __name__ == '__main__':
    get_disk_info()
    get_cpu_info()
    get_memory_info()
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br></div></div><h2 id="_116ã€maxæ¯”è¾ƒå­—å…¸åˆ—è¡¨"><a href="#_116ã€maxæ¯”è¾ƒå­—å…¸åˆ—è¡¨" class="header-anchor">#</a> 116ã€maxæ¯”è¾ƒå­—å…¸åˆ—è¡¨</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>'''
ä½¿ç”¨maxå‡½æ•°æ¯”è¾ƒå­—å…¸åˆ—è¡¨å¯¹è±¡
éœ€æ±‚ï¼šæ‰¾å‡ºç”¨æˆ·ç»„æœ€å¤§idçš„å­—å…¸
'''
def com_id(f):
    '''
    æ¯”è¾ƒç”¨ç”¨æˆ·idsåˆ—è¡¨
    :param f: å­—å…¸
    :return: è¿”å›æœ€å¤§çš„ç”¨æˆ·id
    '''
    return max(f['user_ids'])

friends_added = [
        {'user_ids': [1, 2], 'create_at': '2020-01-01'},
        {'user_ids': [3, 6], 'create_at': '2020-01-02'},
        {'user_ids': [2, 1], 'create_at': '2020-02-02'},
        {'user_ids': [4, 1], 'create_at': '2020-02-02'},
    ]
# maxå‡½æ•°ä¸­ä½¿ç”¨keyå‚æ•°ï¼ŒæŒ‡å®šè‡ªå®šä¹‰å‡½æ•°æ¥æ¯”è¾ƒ
item = max(friends_added, key=com_id)
item_1 = max(friends_added, key=lambda f: max(f['user_ids'])) # com_idå¯ä»¥è½¬æˆlambdaå‡½æ•°
print(item)
print(item_1)


è¾“å‡ºï¼š

{'user_ids': [3, 6], 'create_at': '2020-01-02'}
{'user_ids': [3, 6], 'create_at': '2020-01-02'}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><h2 id="_117ã€djangoæŸ¥è¯¢è¡¨çš„å…·ä½“å­—æ®µ"><a href="#_117ã€djangoæŸ¥è¯¢è¡¨çš„å…·ä½“å­—æ®µ" class="header-anchor">#</a> 117ã€djangoæŸ¥è¯¢è¡¨çš„å…·ä½“å­—æ®µ</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>ExampleModel.objects.values('id', 'username')
# è¿”å›çš„ç»“æœæ˜¯QuerySetï¼Œ é‡Œé¢çš„å…ƒç´ æ˜¯dictæ ¼å¼
# [{'id':1, 'username': 'Austin'}, {'id':2, 'username':'Sam'}, ...]
# ç›¸å½“äºSQLä¸­çš„SELECT id, username FROM ......, 
# åªè¿”å›å¯¹åº”å±æ€§ï¼ˆå­—æ®µï¼‰çš„å€¼
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="_118ã€mysqlæŸ¥è¯¢æ•°æ®æ·»åŠ è‡ªå¢åºå·"><a href="#_118ã€mysqlæŸ¥è¯¢æ•°æ®æ·»åŠ è‡ªå¢åºå·" class="header-anchor">#</a> 118ã€MySQLæŸ¥è¯¢æ•°æ®æ·»åŠ è‡ªå¢åºå·</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>set @i = 0;
select waveform, 'æ²¿æ¡¥é£å¹' as label ,(@i:=@i+1) xh from alert_message where is_real=1 and node_id=138

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="_119ã€mysql-æ—¶é—´æˆªå–å¹´æœˆæ—¥"><a href="#_119ã€mysql-æ—¶é—´æˆªå–å¹´æœˆæ—¥" class="header-anchor">#</a> 119ã€MySQL æ—¶é—´æˆªå–å¹´æœˆæ—¥</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>select id,
			addtime, 
			date_format(addtime,'%Y-%m-%d') as short_time 
	from alert_message 
	where date_format(addtime,'%Y-%m-%d') = '2022-03-13'
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><img src="https://img-blog.csdnimg.cn/37cec67fa1e1458f9aba1b745600a493.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> <h2 id="_120ã€-åˆ—è¡¨å–å¥‡æ•°ä¸‹æ ‡å€¼"><a href="#_120ã€-åˆ—è¡¨å–å¥‡æ•°ä¸‹æ ‡å€¼" class="header-anchor">#</a> 120ã€ åˆ—è¡¨å–å¥‡æ•°ä¸‹æ ‡å€¼</h2> <div class="language-python line-numbers-mode"><pre class="language-python"><code>list1<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span><span class="token string">'b'</span><span class="token punctuation">,</span><span class="token string">'c'</span><span class="token punctuation">,</span><span class="token string">'d'</span><span class="token punctuation">,</span><span class="token string">'e'</span><span class="token punctuation">]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'å¥‡æ•°ä¸‹æ ‡å€¼'</span><span class="token punctuation">,</span>list1<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

è¾“å‡ºï¼š

å¥‡æ•°ä¸‹æ ‡å€¼ <span class="token punctuation">[</span><span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="_121ã€åˆ—è¡¨å–å¶æ•°ä¸‹æ ‡å€¼"><a href="#_121ã€åˆ—è¡¨å–å¶æ•°ä¸‹æ ‡å€¼" class="header-anchor">#</a> 121ã€åˆ—è¡¨å–å¶æ•°ä¸‹æ ‡å€¼</h2> <div class="language-python line-numbers-mode"><pre class="language-python"><code>list1<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span><span class="token string">'b'</span><span class="token punctuation">,</span><span class="token string">'c'</span><span class="token punctuation">,</span><span class="token string">'d'</span><span class="token punctuation">,</span><span class="token string">'e'</span><span class="token punctuation">]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'å¶æ•°ä¸‹æ ‡å€¼'</span><span class="token punctuation">,</span>list1<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
å¶æ•°ä¸‹æ ‡å€¼ <span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">,</span> <span class="token string">'e'</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="_122ã€åˆ—è¡¨ç›¸åŒå…ƒç´ åˆ†ç±»ã€åˆ†ç»„"><a href="#_122ã€åˆ—è¡¨ç›¸åŒå…ƒç´ åˆ†ç±»ã€åˆ†ç»„" class="header-anchor">#</a> 122ã€åˆ—è¡¨ç›¸åŒå…ƒç´ åˆ†ç±»ã€åˆ†ç»„</h2> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">import</span> itertools

data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">]</span>
a <span class="token operator">=</span><span class="token punctuation">[</span><span class="token builtin">list</span><span class="token punctuation">(</span>group<span class="token punctuation">)</span> <span class="token keyword">for</span> key<span class="token punctuation">,</span> group <span class="token keyword">in</span> itertools<span class="token punctuation">.</span>groupby<span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>

è¾“å‡ºï¼š

<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="_123ã€ubuntuåˆ‡æ¢ç”¨æˆ·"><a href="#_123ã€ubuntuåˆ‡æ¢ç”¨æˆ·" class="header-anchor">#</a> 123ã€ubuntuåˆ‡æ¢ç”¨æˆ·</h2> <p>1ï¼‰ä»userç”¨æˆ·åˆ‡æ¢åˆ°rootç”¨æˆ·
sudo su
2ï¼‰ä»rootç”¨æˆ·åˆ‡å›userç”¨æˆ·
su user (useræ˜¯ä½ è‡ªå·±å®‰è£…æ—¶å€™çš„ç”¨æˆ·å)ï¼Œæˆ–æ˜¯ç›´æ¥è¾“å…¥exitï¼Œä¹Ÿå¯Ctrl+Dç»„åˆé”®æ¨å‡º</p> <h2 id="_124ã€numpyäºŒç»´æ•°ç»„è·å–æŸä¸€åˆ—"><a href="#_124ã€numpyäºŒç»´æ•°ç»„è·å–æŸä¸€åˆ—" class="header-anchor">#</a> 124ã€numpyäºŒç»´æ•°ç»„è·å–æŸä¸€åˆ—</h2> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np

a <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token number">13.2</span><span class="token punctuation">,</span> <span class="token number">14.8</span><span class="token punctuation">,</span> <span class="token number">15.9</span><span class="token punctuation">,</span> <span class="token number">16.10</span><span class="token punctuation">,</span> <span class="token number">16.11</span><span class="token punctuation">,</span> <span class="token number">17.12</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>

a_np <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span>a<span class="token punctuation">)</span>  <span class="token comment"># æŠŠäºŒç»´åˆ—è¡¨è½¬æˆnumpyæ•°ç»„</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'ç¬¬ä¸€è¡Œ'</span><span class="token punctuation">,</span> a_np<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>tolist<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># è·å–ç¬¬ä¸€è¡Œ</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'ç¬¬ä¸€åˆ—'</span><span class="token punctuation">,</span> a_np<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>tolist<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># è·å–ç¬¬ä¸€åˆ—</span>

è¾“å‡ºï¼š

ç¬¬ä¸€è¡Œ <span class="token punctuation">[</span><span class="token number">1.0</span><span class="token punctuation">,</span> <span class="token number">2.0</span><span class="token punctuation">,</span> <span class="token number">3.0</span><span class="token punctuation">,</span> <span class="token number">4.0</span><span class="token punctuation">,</span> <span class="token number">5.0</span><span class="token punctuation">,</span> <span class="token number">6.0</span><span class="token punctuation">]</span>
ç¬¬ä¸€åˆ— <span class="token punctuation">[</span><span class="token number">1.0</span><span class="token punctuation">,</span> <span class="token number">7.0</span><span class="token punctuation">,</span> <span class="token number">13.2</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div></div></div> <!----> <div class="page-edit"><div class="edit-link"><a href="https://github.com/xugaoyi/vuepress-theme-vdoing/edit/master/docs/40.æŠ€æœ¯/02.collection/01.pythonç»„ä»¶.md" target="_blank" rel="noopener noreferrer">ç¼–è¾‘</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----> <div class="last-updated"><span class="prefix">ä¸Šæ¬¡æ›´æ–°:</span> <span class="time">2022/09/07, 21:52:33</span></div></div> <div class="page-nav-wapper"><!----> <!----></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">æœ€è¿‘æ›´æ–°</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/61a72b/"><div>
            Listening
            <!----></div></a> <span class="date">09-07</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/f53b6b/"><div>
            è½¯ä»¶å®‰è£…
            <!----></div></a> <span class="date">09-07</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/0b8e30/"><div>
            me
            <!----></div></a> <span class="date">09-07</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">æ›´å¤šæ–‡ç« &gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="mailto:981815087@qq.com" title="å‘é‚®ä»¶" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/Li-Jennifer" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://music.163.com/" title="å¬éŸ³ä¹" target="_blank" class="iconfont icon-erji"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="æœ¬ç«™ä¸»é¢˜">Vdoing</a> 
    | Copyright Â© 2022-2022
    <span>Jennifer | <a href="https://github.com/Li-Jennifer" target="_blank">MIT License</a></span></div> <div class="buttons"><div title="è¿”å›é¡¶éƒ¨" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="å»è¯„è®º" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="ä¸»é¢˜æ¨¡å¼" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          è·Ÿéšç³»ç»Ÿ
        </li><li class="iconfont icon-rijianmoshi">
          æµ…è‰²æ¨¡å¼
        </li><li class="iconfont icon-yejianmoshi">
          æ·±è‰²æ¨¡å¼
        </li><li class="iconfont icon-yuedu">
          é˜…è¯»æ¨¡å¼
        </li></ul></div></div> <div class="body-bg" style="background:url() center center / cover no-repeat;opacity:0.5;"></div> <!----> <!----></div><div class="global-ui"><div></div></div></div>
    <script src="/assets/js/app.55777c8e.js" defer></script><script src="/assets/js/2.f1cfd21b.js" defer></script><script src="/assets/js/45.d04ed2a7.js" defer></script>
  </body>
</html>
